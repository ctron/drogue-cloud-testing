---
title: "❌ Test Result 2023-01-31 16:36 UTC"
date: 2023-01-31T16:36:12.649906012+00:00
categories: test-report
excerpt_separator: <!--more-->
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 148 | 10 | 138 | 0 | 0 | 20m 50s |


**Git:** `https://github.com/drogue-iot/drogue-cloud` @ `refs/heads/refactor/drop_whoami`

    Commit: 2193e4d6cf9d230e493e6a6948bfd44f667aeaf4
    Author: jbtrystram <jbtrystram@redhat.com>
    Date: Tue, 31 Jan 2023 14:37:22 -0100

        [refactor] drop unused whoami path and drop redundant endpoints info resources

**Job:** [https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/4055727686](https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/4055727686)

<!--more-->

# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 3s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 5s | 
| [tests::api::test_create_access_token_web](#testsapitest_create_access_token_web) | ✅ | 13s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ❌ | 7s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ❌ | 8s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 7s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ✅ | 7s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ❌ | 7s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 7s | 
| [tests::integration::test_qos_1_dropping](#testsintegrationtest_qos_1_dropping) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_1::ws_1](#testsmqttcommandgatewayversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_1::ws_2](#testsmqttcommandgatewayversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_1](#testsmqttcommandgatewayversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_2](#testsmqttcommandgatewayversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_3::ws_1](#testsmqttcommandgatewayversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_3::ws_2](#testsmqttcommandgatewayversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_1](#testsmqttcommandgateway_directversion_1ws_1) | ❌ | 9s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_2](#testsmqttcommandgateway_directversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_1](#testsmqttcommandgateway_directversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_2](#testsmqttcommandgateway_directversion_2ws_2) | ❌ | 9s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_1](#testsmqttcommandgateway_directversion_3ws_1) | ❌ | 9s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_2](#testsmqttcommandgateway_directversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_1::ws_1](#testsmqttcommandsimpleversion_1ws_1) | ❌ | 10s | 
| [tests::mqtt::command::simple::version_1::ws_2](#testsmqttcommandsimpleversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_2::ws_1](#testsmqttcommandsimpleversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_2::ws_2](#testsmqttcommandsimpleversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_3::ws_1](#testsmqttcommandsimpleversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_3::ws_2](#testsmqttcommandsimpleversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_1::ws_1](#testsmqttcommandsimple_directversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_1::ws_2](#testsmqttcommandsimple_directversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_2::ws_1](#testsmqttcommandsimple_directversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_2::ws_2](#testsmqttcommandsimple_directversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_3::ws_1](#testsmqttcommandsimple_directversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_3::ws_2](#testsmqttcommandsimple_directversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_1::ws_1](#testsmqttcommandsimple_meversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_1::ws_2](#testsmqttcommandsimple_meversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_2::ws_1](#testsmqttcommandsimple_meversion_2ws_1) | ❌ | 9s | 
| [tests::mqtt::command::simple_me::version_2::ws_2](#testsmqttcommandsimple_meversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_1](#testsmqttcommandsimple_meversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_2](#testsmqttcommandsimple_meversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::registry::api::test_registry_create_app](#testsregistryapitest_registry_create_app) | ❌ | 16s | 
| [tests::registry::drg::test_registry_create_and_delete](#testsregistrydrgtest_registry_create_and_delete) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app](#testsregistrydrgtest_registry_create_app) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device](#testsregistrydrgtest_registry_create_app_and_device) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device_twice](#testsregistrydrgtest_registry_create_app_and_device_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_twice](#testsregistrydrgtest_registry_create_app_twice) | ✅ | 9s | 
| [tests::registry::drg::test_registry_device_create_and_delete](#testsregistrydrgtest_registry_device_create_and_delete) | ✅ | 8s | 
| [tests::websocket::telemetry::test_send_telemetry_pass](#testswebsockettelemetrytest_send_telemetry_pass) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_user](#testswebsockettelemetrytest_send_telemetry_user) | ❌ | 6s | 
| [tests::websocket::telemetry::test_send_telemetry_user_alias](#testswebsockettelemetrytest_send_telemetry_user_alias) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_user_only](#testswebsockettelemetrytest_send_telemetry_user_only) | ❌ | 7s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 3s

## ✅ init::web::test::test_web_test

**Duration**: 5s

## ✅ tests::api::test_create_access_token_web

**Duration**: 13s

## ❌ tests::coap::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:15:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:15:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:15:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:15:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:15:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:15:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:15:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:15:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:15:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NTAsImlhdCI6MTY3NTE4MTc1MCwianRpIjoiMTg0YzFlNWMtMTBkMC00NTVmLWI5NzItMmM4MjQ0NmQ4MWQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLTNDZ29pWTRVSlRtLUhsTllvakN0dyIsInNlc3Npb25fc3RhdGUiOiJjMmFhMzAxMS05NmZkLTQ1MTktYWIwOC1jOTc2Yzk1NWU2YjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJhYTMwMTEtOTZmZC00NTE5LWFiMDgtYzk3NmM5NTVlNmIzIn0.2sIVu-xxjK3ZRMN5OnIXhGWRXRix8SaOHAvyJOzXokg
[2023-01-31T16:15:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:15:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: There is an issue in drg configuration: Cannot open config file. Did you log in into a drogue-cloud instance? No such file or directory (os error 2)\n&quot; })
[2023-01-31T16:15:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NTAsImlhdCI6MTY3NTE4MTc1MCwianRpIjoiMTg0YzFlNWMtMTBkMC00NTVmLWI5NzItMmM4MjQ0NmQ4MWQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLTNDZ29pWTRVSlRtLUhsTllvakN0dyIsInNlc3Npb25fc3RhdGUiOiJjMmFhMzAxMS05NmZkLTQ1MTktYWIwOC1jOTc2Yzk1NWU2YjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJhYTMwMTEtOTZmZC00NTE5LWFiMDgtYzk3NmM5NTVlNmIzIn0.2sIVu-xxjK3ZRMN5OnIXhGWRXRix8SaOHAvyJOzXokg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:15:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:15:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:15:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:15:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:15:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIwNTAsImlhdCI6MTY3NTE4MTc1MCwiYXV0aF90aW1lIjoxNjc1MTgxNzQ3LCJqdGkiOiJlMzQ0MDkzYS1jYTM0LTQ4MmMtYmVhNi01N2YyNWE2ODE3ZGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii0zQ2dvaVk0VUpUbS1IbE5Zb2pDdHciLCJzZXNzaW9uX3N0YXRlIjoiYzJhYTMwMTEtOTZmZC00NTE5LWFiMDgtYzk3NmM5NTVlNmIzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImMyYWEzMDExLTk2ZmQtNDUxOS1hYjA4LWM5NzZjOTU1ZTZiMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.t9vNr_OMllnSZ9v_sadtU6k_BRsvaF5aPBwdYDzDiyY_wHbTsVFu9KpRo6ilFnfSV8Q-12REplx9kMYCzEminjLOPMF4RbMG8lnJX3MB_9ka7HLSRJCrozlagCf5XNFQeHJDNYDFqObJ9-AtlSp4p-mAtTlqoWQRYCUbxF-a1Usu77Ss5__Q55haFEOtp2txZx3sPokYmKmWWrjcODDOadogyqvozQBfhbwXTHOynUNRi5W4gIPJvlVQDOR9WP8wJSrE45g4ufD60K0UzZE5evSUh96oCo9Dm6kC94lAVQmRhAP28qzZ804zL3baWzcdIcLxcEo6YBlHqrEUZxitpA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:15:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::command::test_command::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:15:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:15:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:15:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:15:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:15:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:15:55Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:15:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:15:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:15:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NTcsImlhdCI6MTY3NTE4MTc1NywianRpIjoiNzM1YWQxYTgtODUzZS00NzkzLWE3MjItODBlZTZjZTBlMzVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZTRWcm5JWWpBX2F5YWN5ZWQ3WEhDZyIsInNlc3Npb25fc3RhdGUiOiI5ZTg5NjhhYS0wODhkLTQ3YTItOTA1My0xNGEyNDIyODA0MjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWU4OTY4YWEtMDg4ZC00N2EyLTkwNTMtMTRhMjQyMjgwNDI5In0.9Ny9Ejpd0AKjdfD4G_WFzfNbAzn1Xv-2zhs36_IjVxo
[2023-01-31T16:15:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:15:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:15:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NTcsImlhdCI6MTY3NTE4MTc1NywianRpIjoiNzM1YWQxYTgtODUzZS00NzkzLWE3MjItODBlZTZjZTBlMzVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZTRWcm5JWWpBX2F5YWN5ZWQ3WEhDZyIsInNlc3Npb25fc3RhdGUiOiI5ZTg5NjhhYS0wODhkLTQ3YTItOTA1My0xNGEyNDIyODA0MjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWU4OTY4YWEtMDg4ZC00N2EyLTkwNTMtMTRhMjQyMjgwNDI5In0.9Ny9Ejpd0AKjdfD4G_WFzfNbAzn1Xv-2zhs36_IjVxo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:15:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:15:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:15:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:15:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:15:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIwNTcsImlhdCI6MTY3NTE4MTc1NywiYXV0aF90aW1lIjoxNjc1MTgxNzU0LCJqdGkiOiI2MjRlNGQ3OC02OTgzLTQ3Y2MtYTI5NC03N2QwZDQ4NTA0OTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImU0VnJuSVlqQV9heWFjeWVkN1hIQ2ciLCJzZXNzaW9uX3N0YXRlIjoiOWU4OTY4YWEtMDg4ZC00N2EyLTkwNTMtMTRhMjQyMjgwNDI5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjllODk2OGFhLTA4OGQtNDdhMi05MDUzLTE0YTI0MjI4MDQyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Peei18fKkJT6miv7-TIOblOorvRq3h6E9uUbWQt9PBWeEbb_u9Ft2zAwG8so6WWjzaq7D5JjgNJDZ_XHGxDQC1fuUNQ8exHHRX25cfp1mHjJc_vdUpu8krUEIwHeXRWMVsQx9O2OoK4jCq0-loFK3Lb8iFmvI1XgJJgAiu0iOuwH4YQ4GB2eFErkpnc9pWziwVkgxPE3nG51OPY_rxSKzEO6Ly07BlwRFRJ4dCYLsngXQ0ghgfUFFGhud3LgV6fL6h_eo21cTGywoTkq764EyZk8ImTJ2M3Mrxov5IgeCfnr-sKgvPOPezBITrOOzCwZOFWglJBk-ign30995SJ0VQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:15:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::command::test_command::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NjUsImlhdCI6MTY3NTE4MTc2NSwianRpIjoiODRmZGRjNjQtMjNjYS00ZGI4LTljNzctZGU3ODY1MjlkZTU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTDZFVW0zOTd0M2syRjNtdGxuaDdhdyIsInNlc3Npb25fc3RhdGUiOiI4NDgzMGVmYi04YzMwLTQzYTctODEzMS05MDIwMDVjZDdhY2YiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODQ4MzBlZmItOGMzMC00M2E3LTgxMzEtOTAyMDA1Y2Q3YWNmIn0.TrO_lspI_ao-re7IjNztWr4vDERvvwh9yMa688Am9tc
[2023-01-31T16:16:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NjUsImlhdCI6MTY3NTE4MTc2NSwianRpIjoiODRmZGRjNjQtMjNjYS00ZGI4LTljNzctZGU3ODY1MjlkZTU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTDZFVW0zOTd0M2syRjNtdGxuaDdhdyIsInNlc3Npb25fc3RhdGUiOiI4NDgzMGVmYi04YzMwLTQzYTctODEzMS05MDIwMDVjZDdhY2YiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODQ4MzBlZmItOGMzMC00M2E3LTgxMzEtOTAyMDA1Y2Q3YWNmIn0.TrO_lspI_ao-re7IjNztWr4vDERvvwh9yMa688Am9tc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIwNjUsImlhdCI6MTY3NTE4MTc2NSwiYXV0aF90aW1lIjoxNjc1MTgxNzYyLCJqdGkiOiI5MTZjNjJiZi0xZjI4LTQwOTUtODMyNi0yYzk3MGYyZmJlNzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikw2RVVtMzk3dDNrMkYzbXRsbmg3YXciLCJzZXNzaW9uX3N0YXRlIjoiODQ4MzBlZmItOGMzMC00M2E3LTgxMzEtOTAyMDA1Y2Q3YWNmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg0ODMwZWZiLThjMzAtNDNhNy04MTMxLTkwMjAwNWNkN2FjZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.qceMEhbFrV85G_7NYN3izldEYSoOqJctKd8Avk6Z9uljG5ZGerN17JFrzqlXnyjYaAjHOqZNds_ZqOYx7EW1jXsX9r8VV_DdhkacJU9pN_NBuA19T1c9YG0nncZoZlqUvS6CfYzzf3g8Wgmf6RsWq9clIsWqjvaHVypj2kpVM4l8Yf-8gUktdj9hF4ROFMYKVlhIP5hu6fbh20D5Rxd3bMhwvZDQUxk1UpXTWdIuCYedHfUVUuizG-61cYSj-VDvOr2C5nOg5E7Q6cJ5Y3fL5o3z6EEnDupvwGQOk22JoRUIpC7Ofoc2kt9haMkrraIPsAEWPe07BWjB62BMxDdBKw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:06Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:16:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NzMsImlhdCI6MTY3NTE4MTc3MywianRpIjoiNjViOWI3NTYtYTYwMy00ZWYzLTk0MzctODhlOWQ2NWJiZWMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicVdJQ1F4ZEstUXREUmNIbzY3S2FnQSIsInNlc3Npb25fc3RhdGUiOiJhYmU0MmUyMy00NmE5LTRiZjctODQwNS01MjVjYjU1MThiNmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWJlNDJlMjMtNDZhOS00YmY3LTg0MDUtNTI1Y2I1NTE4YjZlIn0.X8lGzBVlu7aRCJmzRbu1U1Je4gtrm0-ifaWTKOMy0IM
[2023-01-31T16:16:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1NzMsImlhdCI6MTY3NTE4MTc3MywianRpIjoiNjViOWI3NTYtYTYwMy00ZWYzLTk0MzctODhlOWQ2NWJiZWMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicVdJQ1F4ZEstUXREUmNIbzY3S2FnQSIsInNlc3Npb25fc3RhdGUiOiJhYmU0MmUyMy00NmE5LTRiZjctODQwNS01MjVjYjU1MThiNmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWJlNDJlMjMtNDZhOS00YmY3LTg0MDUtNTI1Y2I1NTE4YjZlIn0.X8lGzBVlu7aRCJmzRbu1U1Je4gtrm0-ifaWTKOMy0IM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIwNzMsImlhdCI6MTY3NTE4MTc3MywiYXV0aF90aW1lIjoxNjc1MTgxNzcwLCJqdGkiOiIwOWUyNTI3NC1jMDZkLTRlMmItYTlmNC1hMDkzNWNmNjM4MzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InFXSUNReGRLLVF0RFJjSG82N0thZ0EiLCJzZXNzaW9uX3N0YXRlIjoiYWJlNDJlMjMtNDZhOS00YmY3LTg0MDUtNTI1Y2I1NTE4YjZlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFiZTQyZTIzLTQ2YTktNGJmNy04NDA1LTUyNWNiNTUxOGI2ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.gMEh17r6Nvy79-oaffuHQefIMXxiCvNIkLtM-2x-IDhSER_FlSp85frgbicGSbA0IdQ0GSpVaVT0PLbiyOIN1a32om6cAxlWWI90LhSIJP_ONcsRDOGsm8m31n7YC4ZNnXFrmorS6gtF6CF0OJW9pWn3yZW7G-eZzkCXXEzSdxHSJm87Mom9uFFpK54MVy9StVT6MFTMa8dlEp7zoY6mUw9BXigSBQS9gbncPnP--2q5H3NDHGQe8WrhS1JEqpLPnfacLYvB2hztSwrSipSsWn5xqmz5otYEeOHVlgkQ13Zvx81-vNwK3itQxkrulJ9ET_vEWY735_lj1HsMqTG_UQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:14Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:16:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1ODEsImlhdCI6MTY3NTE4MTc4MSwianRpIjoiZDViODgzMzEtYWFiZi00ZjMwLWIzNDAtOGFjNWVhZTk4MjEzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNmFqbXRLSGluRlJPYTUtVVFsNFhvUSIsInNlc3Npb25fc3RhdGUiOiIwNDkxYTcwYi02NDM1LTRkZGItODhmYS1hMDY2NTFlNGEyODMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDQ5MWE3MGItNjQzNS00ZGRiLTg4ZmEtYTA2NjUxZTRhMjgzIn0.lbTQJovqE19vi324haPGnyN1RVY8dYFeLAzGcwaOOeY
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1ODEsImlhdCI6MTY3NTE4MTc4MSwianRpIjoiZDViODgzMzEtYWFiZi00ZjMwLWIzNDAtOGFjNWVhZTk4MjEzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNmFqbXRLSGluRlJPYTUtVVFsNFhvUSIsInNlc3Npb25fc3RhdGUiOiIwNDkxYTcwYi02NDM1LTRkZGItODhmYS1hMDY2NTFlNGEyODMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDQ5MWE3MGItNjQzNS00ZGRiLTg4ZmEtYTA2NjUxZTRhMjgzIn0.lbTQJovqE19vi324haPGnyN1RVY8dYFeLAzGcwaOOeY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIwODEsImlhdCI6MTY3NTE4MTc4MSwiYXV0aF90aW1lIjoxNjc1MTgxNzc4LCJqdGkiOiI0OGYzNjkzMC1jNTFhLTRiMjEtOGIzYi03OWM5ZTg3OWI2YmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZham10S0hpbkZST2E1LVVRbDRYb1EiLCJzZXNzaW9uX3N0YXRlIjoiMDQ5MWE3MGItNjQzNS00ZGRiLTg4ZmEtYTA2NjUxZTRhMjgzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA0OTFhNzBiLTY0MzUtNGRkYi04OGZhLWEwNjY1MWU0YTI4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.XS9VBJkRiCWL-hpPiiLHYP_5SqPsnjNbnd4AfknCnNvWcNCBMuWWbEW3D9DHhqRs73BMLFKDY3B26Qq1XGe9sYVNVmEO5IQ17IxoTssNMzIDGiRd-LeyDVv1pNLhqVW67K80W6ll1nRDNRPLoIjVysXF0NyHcQpNYTbe1KplKRpw2IyJtyj1W0zAeMXnhTRakDkMVnhzeAhdht8ZkWSz1bq50LPJKvs772ba_t5kZUhF7HVinn1fYr805UeDnVnLqv9n-P775q1-gpbpoPA7Po3H9eEcBWMiV81G_HBuwWYWUDaqLW218KE7ydxUSQw4C1n9U2MfhiQywolZsxQk3g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:22Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:16:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1ODksImlhdCI6MTY3NTE4MTc4OSwianRpIjoiMWVhNDMyZDQtNmFjYi00YTExLTgzMDctNmI2NWI5Y2RiN2QzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaFVBbEpMT3gtREtWQWItS2ItdVI0USIsInNlc3Npb25fc3RhdGUiOiI3ZjU3YjM2MS0yNDgwLTRhYjItYmNhMy1jYWE3NWI4NWNiMTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2Y1N2IzNjEtMjQ4MC00YWIyLWJjYTMtY2FhNzViODVjYjExIn0.HQZXyT4_GHzrhKYqSJk4Ab39ie89HJYr6TKDQJc0eyI
[2023-01-31T16:16:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1ODksImlhdCI6MTY3NTE4MTc4OSwianRpIjoiMWVhNDMyZDQtNmFjYi00YTExLTgzMDctNmI2NWI5Y2RiN2QzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaFVBbEpMT3gtREtWQWItS2ItdVI0USIsInNlc3Npb25fc3RhdGUiOiI3ZjU3YjM2MS0yNDgwLTRhYjItYmNhMy1jYWE3NWI4NWNiMTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2Y1N2IzNjEtMjQ4MC00YWIyLWJjYTMtY2FhNzViODVjYjExIn0.HQZXyT4_GHzrhKYqSJk4Ab39ie89HJYr6TKDQJc0eyI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIwODksImlhdCI6MTY3NTE4MTc4OSwiYXV0aF90aW1lIjoxNjc1MTgxNzg1LCJqdGkiOiI1N2VkOTg4MS01MGEwLTQ5ZGUtODBkMC1lYzllYWY0MWYyNmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImhVQWxKTE94LURLVkFiLUtiLXVSNFEiLCJzZXNzaW9uX3N0YXRlIjoiN2Y1N2IzNjEtMjQ4MC00YWIyLWJjYTMtY2FhNzViODVjYjExIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmNTdiMzYxLTI0ODAtNGFiMi1iY2EzLWNhYTc1Yjg1Y2IxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.J5fs2Ikt-Eqs5aoDCBN7N-bBdBgeokWDIIrocKJtfkvEF5Sh4n9t05mnRzZ0QizEIWB-oUHq6qZBrAUtnbMzRcvQ_uJhGxm7qRQyYgCfzF__y7XPQfTgJQCG6JRm5kGtY3FjsLaB14Yq4u1fQo7GMn_WooKxTVh8AVRL81fD8Nvk0gaZ6tGuAXUjLVrGrPnZ7djbHVmz7UQtWBcYZ8QVu0uk5fl2IXTYAykWp_40bS819n-SI3CvSiTpTDi8Nn76Ec5mbSsl7uxa3x_AS0ALSk6detAPpslyncVMvaf910e8EzOh95ECw24NUu1mVb1Aevm_DhhlZ7BJazDnLAMJRA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:30Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:16:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1OTYsImlhdCI6MTY3NTE4MTc5NiwianRpIjoiMzYyOTY5M2UtZTZjNS00MjBiLWJjNTctMDcwYTNhODNlMDc0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiY0kxLTk5SjRpdTNVNzU4LUFLem1ZdyIsInNlc3Npb25fc3RhdGUiOiJjYzE1ZWI1Ni1lNzJmLTRiOGItOGM5OC1lYjRiMWJjOThiNDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2MxNWViNTYtZTcyZi00YjhiLThjOTgtZWI0YjFiYzk4YjQxIn0.hm4rNCGCjTid_uGd2vMvlme5LZhCZ-7H4KcVjUEJqOE
[2023-01-31T16:16:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM1OTYsImlhdCI6MTY3NTE4MTc5NiwianRpIjoiMzYyOTY5M2UtZTZjNS00MjBiLWJjNTctMDcwYTNhODNlMDc0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiY0kxLTk5SjRpdTNVNzU4LUFLem1ZdyIsInNlc3Npb25fc3RhdGUiOiJjYzE1ZWI1Ni1lNzJmLTRiOGItOGM5OC1lYjRiMWJjOThiNDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2MxNWViNTYtZTcyZi00YjhiLThjOTgtZWI0YjFiYzk4YjQxIn0.hm4rNCGCjTid_uGd2vMvlme5LZhCZ-7H4KcVjUEJqOE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIwOTcsImlhdCI6MTY3NTE4MTc5NywiYXV0aF90aW1lIjoxNjc1MTgxNzkzLCJqdGkiOiJmMTAxNzBlNi1kYWIzLTRiYmEtYTM0NC0yZmYzNzc3MWE4NmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNJMS05OUo0aXUzVTc1OC1BS3ptWXciLCJzZXNzaW9uX3N0YXRlIjoiY2MxNWViNTYtZTcyZi00YjhiLThjOTgtZWI0YjFiYzk4YjQxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjMTVlYjU2LWU3MmYtNGI4Yi04Yzk4LWViNGIxYmM5OGI0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.j4TolZRznyaqHD6vUu4nbCmAWnnSlZWT5g3cb29v7LWzl7ziFmZCQ-bZzQXpHNAMiZu6NzjqlfGP6DqbPB2AcXeARburdPor1CRHmdLvdZ0ggzmkRV0ulxGjW5Vp8q26kjYZO6fsezhRzrZGoP4-_D120i3IbP6npIE-QW656gatBjHrlnoVDeXG0zgiEJGcRUrqQkl2xWOvjIL6Zq6y6eODfIKijPTD9olT8MqgMivkLVQwewJcteLg3Zap5GRqGfnsVPP2cYNyzpal0_p4rRvPSU-iINFcrApQnvQdMVWVyFVrs3DIqiqw7NWEW_snTiA6quHpN3GVWtg4Ihaneg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:38Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:16:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MDQsImlhdCI6MTY3NTE4MTgwNCwianRpIjoiMzg4NmU4MzEtOTlmOS00MDZkLThmZGItNGVjZTk0MDU1MGM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMER3ZmE2VGhGblY2UGE2UVk5a0lUZyIsInNlc3Npb25fc3RhdGUiOiIwZTUwOGVmYS05ZTU0LTQ0NjctYWExNy0xZmUzNGQ5ODFhMjAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGU1MDhlZmEtOWU1NC00NDY3LWFhMTctMWZlMzRkOTgxYTIwIn0.cPuIA6xqIuAXtvoqEMMUzZgKM_NJ5KNWQKDCPknYVU8
[2023-01-31T16:16:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MDQsImlhdCI6MTY3NTE4MTgwNCwianRpIjoiMzg4NmU4MzEtOTlmOS00MDZkLThmZGItNGVjZTk0MDU1MGM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMER3ZmE2VGhGblY2UGE2UVk5a0lUZyIsInNlc3Npb25fc3RhdGUiOiIwZTUwOGVmYS05ZTU0LTQ0NjctYWExNy0xZmUzNGQ5ODFhMjAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGU1MDhlZmEtOWU1NC00NDY3LWFhMTctMWZlMzRkOTgxYTIwIn0.cPuIA6xqIuAXtvoqEMMUzZgKM_NJ5KNWQKDCPknYVU8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxMDQsImlhdCI6MTY3NTE4MTgwNCwiYXV0aF90aW1lIjoxNjc1MTgxODAxLCJqdGkiOiIxYjRiOGU1ZC0wMmE3LTQ3MTctYjc5ZS0xNmFkMjgxMjdkZTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBEd2ZhNlRoRm5WNlBhNlFZOWtJVGciLCJzZXNzaW9uX3N0YXRlIjoiMGU1MDhlZmEtOWU1NC00NDY3LWFhMTctMWZlMzRkOTgxYTIwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBlNTA4ZWZhLTllNTQtNDQ2Ny1hYTE3LTFmZTM0ZDk4MWEyMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.o05IlP8ue7pOV4I188IbKfzd0c6f3SfImCnU6JCYMb7ZwA8KAaPHGFegNWBdkyWBtjBJRcLN1s5Lr06gb6z1GJzzKJtV_6oGnaBOamDOn6z5Qy9GhZC-I1Ik_GdmqY6eohU-szYGbkJpNKzrzMRLD-6zLOfqFz9rE4RtU-u8VF8TOu-hJF3hJ_9sjGhGtlVWHwShlZHuzVS2V9PGlJwD7TZVX_N9vxyWyxwm2R4jJqHoi9A2Bsisvfn76cjnp3dLh-6ymal0c-VzibHp0ujtY75wgvOFx0ig7h9KEBgHCU4KHnZd-r_vSlZl6gxKVYBRm56JugU86I6PzjKsMkBlwQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:45Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:16:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MTEsImlhdCI6MTY3NTE4MTgxMSwianRpIjoiYzk5ZmNmMTItN2Q2NS00N2FlLWJhZWEtN2FmYmM1MjM4YWE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVDlYY3JHbFJjSV93Z2lHVEdNN2Z0dyIsInNlc3Npb25fc3RhdGUiOiIzYTZmNTgyYi03M2NiLTQyOTQtOWE1ZC1jZDQxNjFjOGY1MGYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2E2ZjU4MmItNzNjYi00Mjk0LTlhNWQtY2Q0MTYxYzhmNTBmIn0.Ffy0MstW-zYVmQKPyBvu84hsC8Mvfjy2F4WiLdTyyGs
[2023-01-31T16:16:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MTEsImlhdCI6MTY3NTE4MTgxMSwianRpIjoiYzk5ZmNmMTItN2Q2NS00N2FlLWJhZWEtN2FmYmM1MjM4YWE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVDlYY3JHbFJjSV93Z2lHVEdNN2Z0dyIsInNlc3Npb25fc3RhdGUiOiIzYTZmNTgyYi03M2NiLTQyOTQtOWE1ZC1jZDQxNjFjOGY1MGYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2E2ZjU4MmItNzNjYi00Mjk0LTlhNWQtY2Q0MTYxYzhmNTBmIn0.Ffy0MstW-zYVmQKPyBvu84hsC8Mvfjy2F4WiLdTyyGs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxMTEsImlhdCI6MTY3NTE4MTgxMSwiYXV0aF90aW1lIjoxNjc1MTgxODA4LCJqdGkiOiI1ZDE3MzUwOS1jZjA2LTQ2ZDQtYWRkYi1iYzMyMThlZTE5MjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlQ5WGNyR2xSY0lfd2dpR1RHTTdmdHciLCJzZXNzaW9uX3N0YXRlIjoiM2E2ZjU4MmItNzNjYi00Mjk0LTlhNWQtY2Q0MTYxYzhmNTBmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNhNmY1ODJiLTczY2ItNDI5NC05YTVkLWNkNDE2MWM4ZjUwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cCkhGh2gBIw3UjWXXA6cHUVD4fb4jh7pIRnTa-76M16h8atYHILzNrvDJhy-VUcUW8HQmH8ZskJomoryUM4tqvZZn_t7QGNPfO8GtZNVD_u9PAKE03RoPHXEnWzavZBcBUEBOF4D0iU-8dospqM6apklzyk7GWmGjuZcIdwVnOEYbdL_x5jKGKJRhNIcbpE9J3io3C2VgxdXvBuuOjeh5UJ_FuKZdjEAg7qmdxebrKJeWdQJkySq06kK97LpCvMIMgeXOYHKnndQKVwIVVU0fPnn7Ys_8xHL1PRHRxdLsYy0ngNyVW2YaKtOSTNFpu5tPICdQDMTT_sroxt0pO7ngg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:52Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:16:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:16:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:16:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:16:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:16:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:16:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MTgsImlhdCI6MTY3NTE4MTgxOCwianRpIjoiODZmNzY4ZTMtZWQ3Zi00ZmY5LTg0ZWItN2FhOGJmMWNjNTVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLWZtUkotRG02d2xqTDZQMmM5SE0ydyIsInNlc3Npb25fc3RhdGUiOiI2YjFmMmNlZS1iNjc0LTRjZTgtYTU0MC0zNmQwMGU1MjZkYmEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmIxZjJjZWUtYjY3NC00Y2U4LWE1NDAtMzZkMDBlNTI2ZGJhIn0.meDp2DlljIrXxpySSq-PNP8RyPgq6RL67tKFmyIEJNU
[2023-01-31T16:16:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:16:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MTgsImlhdCI6MTY3NTE4MTgxOCwianRpIjoiODZmNzY4ZTMtZWQ3Zi00ZmY5LTg0ZWItN2FhOGJmMWNjNTVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLWZtUkotRG02d2xqTDZQMmM5SE0ydyIsInNlc3Npb25fc3RhdGUiOiI2YjFmMmNlZS1iNjc0LTRjZTgtYTU0MC0zNmQwMGU1MjZkYmEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmIxZjJjZWUtYjY3NC00Y2U4LWE1NDAtMzZkMDBlNTI2ZGJhIn0.meDp2DlljIrXxpySSq-PNP8RyPgq6RL67tKFmyIEJNU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:16:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:16:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:16:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:16:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxMTgsImlhdCI6MTY3NTE4MTgxOCwiYXV0aF90aW1lIjoxNjc1MTgxODE1LCJqdGkiOiIxODE3MTY4ZC05OTczLTRkMjMtOTNiMS04NjYyYjYxY2ZlNDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1mbVJKLURtNndsakw2UDJjOUhNMnciLCJzZXNzaW9uX3N0YXRlIjoiNmIxZjJjZWUtYjY3NC00Y2U4LWE1NDAtMzZkMDBlNTI2ZGJhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZiMWYyY2VlLWI2NzQtNGNlOC1hNTQwLTM2ZDAwZTUyNmRiYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.qYCNOEHqEPY9CKqrjj3BQnSLksSzXvcjxlPAr5pHYTPJoaXeLLM74VtCPbkhqulrikQB0ngZQF_ack93N_VpULFfuhtE6ai03enu08GmzIDYVhVLDThbur7YDaitp1hhw4F_tq_d0VezXvkJr3S6m5KneqZ-atszrRTDLGbAX72wTi4EdQIqXUCRSnlej3lo0SHA_h2u6jyCpb196H6UEnG5wF-KPQQFD-tjJxs6h5Y1F4ijRhhENGJCQZGGzeVK6rbzanvfXTe_EAJwNsszI2aeJ1JxjrG3meddW6o00ySCo5AdDRLVQ1S-jXQ5BQwkGK_aO0JtPSRBQRDc1iiFtw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:16:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:16:59Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:17:01Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:02Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:17:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:17:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MjUsImlhdCI6MTY3NTE4MTgyNSwianRpIjoiMjRkM2Q0M2EtOGYwNi00ZDQ3LTgzZDMtOTY5MzlkYTA1NDU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibjE0TmJLbE1oZUNXdFpnc1pYNG5PUSIsInNlc3Npb25fc3RhdGUiOiJjZjU3Y2MzNy0yNzI2LTQ4MzItYWRhMS1mYmU4YTA1ZTU4NDUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2Y1N2NjMzctMjcyNi00ODMyLWFkYTEtZmJlOGEwNWU1ODQ1In0.ullNy6_1YtFAVJX_7mByeFMoRdiOAHXmbsc5fC9Guz8
[2023-01-31T16:17:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:17:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MjUsImlhdCI6MTY3NTE4MTgyNSwianRpIjoiMjRkM2Q0M2EtOGYwNi00ZDQ3LTgzZDMtOTY5MzlkYTA1NDU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibjE0TmJLbE1oZUNXdFpnc1pYNG5PUSIsInNlc3Npb25fc3RhdGUiOiJjZjU3Y2MzNy0yNzI2LTQ4MzItYWRhMS1mYmU4YTA1ZTU4NDUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2Y1N2NjMzctMjcyNi00ODMyLWFkYTEtZmJlOGEwNWU1ODQ1In0.ullNy6_1YtFAVJX_7mByeFMoRdiOAHXmbsc5fC9Guz8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:17:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:17:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:17:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxMjUsImlhdCI6MTY3NTE4MTgyNSwiYXV0aF90aW1lIjoxNjc1MTgxODIyLCJqdGkiOiI0YzE3N2RkNS1kYmFjLTQ2NGItYjI4Zi05Yjc5Njc2YzE4MWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im4xNE5iS2xNaGVDV3RaZ3NaWDRuT1EiLCJzZXNzaW9uX3N0YXRlIjoiY2Y1N2NjMzctMjcyNi00ODMyLWFkYTEtZmJlOGEwNWU1ODQ1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNmNTdjYzM3LTI3MjYtNDgzMi1hZGExLWZiZThhMDVlNTg0NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.jmm5XXXxmXEwvztVMPpWLfYYW1WYuScQjXI0YltEtL1JkU87TUhxN8xrwg-nuGUIeXa7fpe813iOvhNRbjd5-R15ncz3AVLFyJqDMe3oUsEeI7p69du89ZxeKAV0JxIXTuDYMSYh1PRVtvXwKpcxO_6HMo63B-Q-a5R0Rgu4NqKi3ONMnRK-NlREc20wq_e5RAYuy22M7UsCgLcFHoTRGF1GNOwCGEDpgCCKOTadwgHVbjPwUJ4COaCxPNwYDk_d9M3cX8_-b-5YCzs70QFjoKGN6nVHI2oOeBrgFeRaNWbCI5e10QpaW7AjSN1bN8A08DCm97EMenb8rdXE6nWstg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:17:06Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:17:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:17:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:17:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MzIsImlhdCI6MTY3NTE4MTgzMiwianRpIjoiNDE5NThhMGYtYThlNS00NGM2LWFhZmQtNTkzOWU5YjdhYjZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ1c1YmxZZGxlZzlwS3dkRktBVzM5USIsInNlc3Npb25fc3RhdGUiOiJiMzE0OWY0Ny04YWVhLTRlYzMtYTBjNC1iNzAzNzE4OTViMDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjMxNDlmNDctOGFlYS00ZWMzLWEwYzQtYjcwMzcxODk1YjAzIn0.2xKPvifcK9ux2-Cckg_oOxBuYqV-OY2AT7k4uf7U9gk
[2023-01-31T16:17:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:17:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MzIsImlhdCI6MTY3NTE4MTgzMiwianRpIjoiNDE5NThhMGYtYThlNS00NGM2LWFhZmQtNTkzOWU5YjdhYjZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ1c1YmxZZGxlZzlwS3dkRktBVzM5USIsInNlc3Npb25fc3RhdGUiOiJiMzE0OWY0Ny04YWVhLTRlYzMtYTBjNC1iNzAzNzE4OTViMDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjMxNDlmNDctOGFlYS00ZWMzLWEwYzQtYjcwMzcxODk1YjAzIn0.2xKPvifcK9ux2-Cckg_oOxBuYqV-OY2AT7k4uf7U9gk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:17:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:17:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:17:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxMzMsImlhdCI6MTY3NTE4MTgzMywiYXV0aF90aW1lIjoxNjc1MTgxODMwLCJqdGkiOiJjZTNjMzg5Ny00NzZhLTRmOTEtYjU3MC03MTBmMzk2NjJlNGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImdXNWJsWWRsZWc5cEt3ZEZLQVczOVEiLCJzZXNzaW9uX3N0YXRlIjoiYjMxNDlmNDctOGFlYS00ZWMzLWEwYzQtYjcwMzcxODk1YjAzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIzMTQ5ZjQ3LThhZWEtNGVjMy1hMGM0LWI3MDM3MTg5NWIwMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.eve5AyjQ6rbSOtgd2RKLfPUCPaKprtr4Za32ZFOwaUCA0SoaHpCC-8RXsK3awk5Rh3gL5XGDA1bqqZ4pa44pmBABwCUltPZt5E-ZwUgJKXs6o_qIkCmfypaBndVhpefwZNKze_T0WWxG6fG2oPNB380LgXkGvai4st-qcavHl_tCyus3jIs5n3j9kkn2vwi-SNaxor__8Y-qEchZA9jpDv50HW9o6-i1EyWhQRBkJeyFcWwMROBw46AeQMyZPbFnGGKGwVqzNAKyapohzff9huN8pEerwsSM4nn_cJnyKzMFsBcWmhqtPSQE1WQ1Ay6uO1Q7pEt__CoxRfzGMaWKHA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:17:13Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:17:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:17:18Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:17:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:20Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MzksImlhdCI6MTY3NTE4MTgzOSwianRpIjoiM2Y0ZWJlM2QtY2Q1Zi00MmI0LThjOTUtOThmNjZjMzI3N2E3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRUZKZ19HQzBab2VleFNTNDdHREladyIsInNlc3Npb25fc3RhdGUiOiJhMmY2ODQ3OC1mMzY1LTQwOWYtOTZiMi0xNWQ5MTg3ODQyNDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTJmNjg0NzgtZjM2NS00MDlmLTk2YjItMTVkOTE4Nzg0MjQzIn0.huJsZQFsuz2HCOmJ6PnHKKvX4gB2_h1UoH8fOrk7da4
[2023-01-31T16:17:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:17:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2MzksImlhdCI6MTY3NTE4MTgzOSwianRpIjoiM2Y0ZWJlM2QtY2Q1Zi00MmI0LThjOTUtOThmNjZjMzI3N2E3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRUZKZ19HQzBab2VleFNTNDdHREladyIsInNlc3Npb25fc3RhdGUiOiJhMmY2ODQ3OC1mMzY1LTQwOWYtOTZiMi0xNWQ5MTg3ODQyNDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTJmNjg0NzgtZjM2NS00MDlmLTk2YjItMTVkOTE4Nzg0MjQzIn0.huJsZQFsuz2HCOmJ6PnHKKvX4gB2_h1UoH8fOrk7da4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:17:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:17:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:17:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxNDAsImlhdCI6MTY3NTE4MTg0MCwiYXV0aF90aW1lIjoxNjc1MTgxODM3LCJqdGkiOiI3YmZkODdiZi0xYjYxLTRkYzgtOTMwNS0zNTFkZWFlZTYwOWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVGSmdfR0MwWm9lZXhTUzQ3R0RJWnciLCJzZXNzaW9uX3N0YXRlIjoiYTJmNjg0NzgtZjM2NS00MDlmLTk2YjItMTVkOTE4Nzg0MjQzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEyZjY4NDc4LWYzNjUtNDA5Zi05NmIyLTE1ZDkxODc4NDI0MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.K6LJewvhiBFmgFRB-rBiZMHbsUVY8S2SgxjyNfmXcKfuLL5GZ9_VtLgnjymKkDI5l0Eq-1Fn4S2PcO48pdxI1PZKSap8MH1UZWY4abTtTUnLsAQzkYrZFC6iXQ71jVHAz_cSvMfWzCjNhOt6w5Q-xVmA6yqEOtEBBSgip1yvCeA0fIyNeNJprjTrEUgoTlcnpqQd1G0vFhAhS6W_MObn97kHISI4SGVKBg_SxjsfmcKfOGUr0NE8zqBZHPMK3FQwmDe3XWU-AkHs-1M8aa_ui1Ai5p5YWEOpR61G7ecetwTIwnjZP_KoH__NsxiM8r5KSZptLVlwVA1vGgnEooIY4A\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:17:21Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:17:23Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:24Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:17:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:17:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NDcsImlhdCI6MTY3NTE4MTg0NywianRpIjoiNjlkMWNlMDQtNWQ2NS00NDI0LWE4ODUtYjYzZTI0YWQ1OWM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiU2dDeFNwNmdqM1F5Zmwta09vYml0ZyIsInNlc3Npb25fc3RhdGUiOiIyNWE0ZjUzYi1kMTA5LTQxNDYtYjczOC0wN2MxYjFjNjljYjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjVhNGY1M2ItZDEwOS00MTQ2LWI3MzgtMDdjMWIxYzY5Y2IzIn0.8pZOmN_wkqqbkGfzdjbmETK22kzitAIq0v34fvVrRI8
[2023-01-31T16:17:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:17:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NDcsImlhdCI6MTY3NTE4MTg0NywianRpIjoiNjlkMWNlMDQtNWQ2NS00NDI0LWE4ODUtYjYzZTI0YWQ1OWM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiU2dDeFNwNmdqM1F5Zmwta09vYml0ZyIsInNlc3Npb25fc3RhdGUiOiIyNWE0ZjUzYi1kMTA5LTQxNDYtYjczOC0wN2MxYjFjNjljYjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjVhNGY1M2ItZDEwOS00MTQ2LWI3MzgtMDdjMWIxYzY5Y2IzIn0.8pZOmN_wkqqbkGfzdjbmETK22kzitAIq0v34fvVrRI8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:17:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:17:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:17:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxNDcsImlhdCI6MTY3NTE4MTg0NywiYXV0aF90aW1lIjoxNjc1MTgxODQ0LCJqdGkiOiIzOGU4Mjk4Mi01MDAyLTQ2MzUtYmJjZi04YWNlNTY5OTQ0YmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNnQ3hTcDZnajNReWZsLWtPb2JpdGciLCJzZXNzaW9uX3N0YXRlIjoiMjVhNGY1M2ItZDEwOS00MTQ2LWI3MzgtMDdjMWIxYzY5Y2IzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI1YTRmNTNiLWQxMDktNDE0Ni1iNzM4LTA3YzFiMWM2OWNiMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HJ_i1ramj9LfWevxF9vmVRDs5ZuqQXjA-lrzbZ806d6TzcxFrD4WNFdM2v6EHjqSJe7StwnWUwkmwGjFmgEgztBSjp-FVzgmiYjUTw2l8lOYOMJfKQakNg-oXybghzDCaueoa5wo4SNAZv-oPzMZ9DXp8hrW0J71m4seRVDAkXfmwvrEFgylN6Ux15enZqSclRZwUsZW-KbG63kVjP6fuwVqIXxcQJhzOg69hECUSI6fGoqMIi5GGn4JJ38clwVXjfXa1c15nazZcZd6_tZupxl5m-P5VtGXslJ04PMd--FuCZ8jyVynDT_2TnfmaPgYQEbJRkGo2dcwhjVSXqE-dg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:17:28Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2023-01-31T16:17:30Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:31Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:17:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:17:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NTUsImlhdCI6MTY3NTE4MTg1NSwianRpIjoiMTg1MGFmNzAtOWMxNy00YzBkLTg0YWUtOTliMzQ0ZWQ2N2FkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRG9NcW9XZXZyaDR0OVFQMk55dUZRUSIsInNlc3Npb25fc3RhdGUiOiJhMzliNzA1OC1mNWIwLTQ0MWYtYmZmZC0zZjVlOTAxZTE5NmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTM5YjcwNTgtZjViMC00NDFmLWJmZmQtM2Y1ZTkwMWUxOTZlIn0.Rzk05FRA1GPAI6fB1wGs3NSk_OT2a5ZVG7AoLYQ9KdU
[2023-01-31T16:17:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:17:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NTUsImlhdCI6MTY3NTE4MTg1NSwianRpIjoiMTg1MGFmNzAtOWMxNy00YzBkLTg0YWUtOTliMzQ0ZWQ2N2FkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRG9NcW9XZXZyaDR0OVFQMk55dUZRUSIsInNlc3Npb25fc3RhdGUiOiJhMzliNzA1OC1mNWIwLTQ0MWYtYmZmZC0zZjVlOTAxZTE5NmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTM5YjcwNTgtZjViMC00NDFmLWJmZmQtM2Y1ZTkwMWUxOTZlIn0.Rzk05FRA1GPAI6fB1wGs3NSk_OT2a5ZVG7AoLYQ9KdU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:17:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:17:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:17:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxNTUsImlhdCI6MTY3NTE4MTg1NSwiYXV0aF90aW1lIjoxNjc1MTgxODUyLCJqdGkiOiJiMDllYWNhZC1jZjYzLTRkYmUtOTBhOS04ZmE2NTU0Y2E0NGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkRvTXFvV2V2cmg0dDlRUDJOeXVGUVEiLCJzZXNzaW9uX3N0YXRlIjoiYTM5YjcwNTgtZjViMC00NDFmLWJmZmQtM2Y1ZTkwMWUxOTZlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzOWI3MDU4LWY1YjAtNDQxZi1iZmZkLTNmNWU5MDFlMTk2ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.i-faDGn6zdFe7ijyMyDiSOjekeQ-FjuKcMdxoMH9lJoZFnygX6reBuuC7ttbS-NXOKOoLjtDZmWa-0pSyCXbvQCI2MxY54SrLG8Y8oi0VGvuoJqYBE4IPJ1QJ0Dzjp2ORQXeTKCDhjZiKCO8Wsv-KVPfiI5EG8CV0R42KL1x64bs6nZ27WveWXjEngpajVcbHTD2GEMjfolv_bbbgL96iXu7rJhplw-g5EyjpQgMbM1izASMTfmiyQqoHgcdWC3tUV_anIsCqhlVjmD4amX4m4Q4DMijOQkkU6Dvchib-1W7NDgQq7A-DOrsgcZsm74KF70EFNNBS6yry4k578aTzg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ✅ tests::drg::test_drg_version

**Duration**: 7s

## ❌ tests::http::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:17:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:17:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:17:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NjksImlhdCI6MTY3NTE4MTg2OSwianRpIjoiZTg2OWE1MTMtMGU4NC00Yjk4LTkwZDctMWIxOTFmODZhMWNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieUdjdlE5Tk03c3JpVjFjRXdzRy1tUSIsInNlc3Npb25fc3RhdGUiOiIwOGQzNGRlMi1kNzFlLTQ0NjctODkyOC03NTM2NzU0M2ZjZWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDhkMzRkZTItZDcxZS00NDY3LTg5MjgtNzUzNjc1NDNmY2VjIn0.6YzXc7PE04F9hXaKrvgti8LBwtr3sDgkDv7co75zUDk
[2023-01-31T16:17:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:17:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NjksImlhdCI6MTY3NTE4MTg2OSwianRpIjoiZTg2OWE1MTMtMGU4NC00Yjk4LTkwZDctMWIxOTFmODZhMWNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieUdjdlE5Tk03c3JpVjFjRXdzRy1tUSIsInNlc3Npb25fc3RhdGUiOiIwOGQzNGRlMi1kNzFlLTQ0NjctODkyOC03NTM2NzU0M2ZjZWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDhkMzRkZTItZDcxZS00NDY3LTg5MjgtNzUzNjc1NDNmY2VjIn0.6YzXc7PE04F9hXaKrvgti8LBwtr3sDgkDv7co75zUDk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:17:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:17:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:17:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxNjksImlhdCI6MTY3NTE4MTg2OSwiYXV0aF90aW1lIjoxNjc1MTgxODY2LCJqdGkiOiIwYzEwZDk2YS02Y2Q0LTQ0YjUtYmU3Ni1lMTYwYjg1NWRkNjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlHY3ZROU5NN3NyaVYxY0V3c0ctbVEiLCJzZXNzaW9uX3N0YXRlIjoiMDhkMzRkZTItZDcxZS00NDY3LTg5MjgtNzUzNjc1NDNmY2VjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA4ZDM0ZGUyLWQ3MWUtNDQ2Ny04OTI4LTc1MzY3NTQzZmNlYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.TmxhBQHfspCzGPUVgNC6hWCxM2K0rr1FpxeSn6CeotxOIIB23UyeYcLtufYGlE_3zBUc2l3zljyVAltS4PG4nzy9akw2Qd6GPnPfq7qhlFemkg1_00k5P4mItURSBXGkxGaeQqqKXRNc-mnx0r1IMYjJWuyAfH9GxtThTobJwwObSeNr2MsfFxpoD30DFQFs2aBnRfBwcS1oMkXkLytWtaJLGaYeZCgPgiD19jG_rHByBg90Au87kbiUuDWgpTXhJwOZePb8AeMFUBdVKaIAjpkoLrUHHWmpe401_hykOhr4K_xBpYjs6-ACFG66D1Vvo-cV_0Ju-3fEaID6B69Sug\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::command::test_command::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:17:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:17:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:17:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:17:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NzYsImlhdCI6MTY3NTE4MTg3NiwianRpIjoiZjllNWMwYTgtNjFjZS00ZDgzLWIyNTItYTVhZTdlNDIxY2U1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTURUejRTLWZwazdYNS0zM29oN1l1dyIsInNlc3Npb25fc3RhdGUiOiI4YzlmNDU5Ni02NTZmLTRjNjgtYmVmOC0yMzdjNTg4OTliNWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGM5ZjQ1OTYtNjU2Zi00YzY4LWJlZjgtMjM3YzU4ODk5YjVjIn0.Uu1cMgDTyHrJrKQ5xi4ezESdzeokTGB82CO4rEdDGJk
[2023-01-31T16:17:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:17:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2NzYsImlhdCI6MTY3NTE4MTg3NiwianRpIjoiZjllNWMwYTgtNjFjZS00ZDgzLWIyNTItYTVhZTdlNDIxY2U1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTURUejRTLWZwazdYNS0zM29oN1l1dyIsInNlc3Npb25fc3RhdGUiOiI4YzlmNDU5Ni02NTZmLTRjNjgtYmVmOC0yMzdjNTg4OTliNWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGM5ZjQ1OTYtNjU2Zi00YzY4LWJlZjgtMjM3YzU4ODk5YjVjIn0.Uu1cMgDTyHrJrKQ5xi4ezESdzeokTGB82CO4rEdDGJk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:17:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:17:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:17:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxNzcsImlhdCI6MTY3NTE4MTg3NywiYXV0aF90aW1lIjoxNjc1MTgxODczLCJqdGkiOiJjMWJmMWMxNS1kOWQ3LTQ2YzUtOTQwMC0xMTY5ZWQzZTBkZDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1EVHo0Uy1mcGs3WDUtMzNvaDdZdXciLCJzZXNzaW9uX3N0YXRlIjoiOGM5ZjQ1OTYtNjU2Zi00YzY4LWJlZjgtMjM3YzU4ODk5YjVjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhjOWY0NTk2LTY1NmYtNGM2OC1iZWY4LTIzN2M1ODg5OWI1YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ybBSje6lyZiKQ5MmAXVRvBN4m6pe0pVK_6d8-4yHdeshrHjOvaaFvdrPbLKY-gccTTZWz1bNdsG9UsJp4gTGcKL8Yn6REob1uumGvdBYzTWBAUIzJ9LC19lfv1XG4TQRpDtnOCAH-nprnKOwp3BdMWZOdtc5C0d5gB1_p-LhIHsYrqw0wJ2c9ugctClFF9Q5noPqBBguEPg8Kte-ELsHkL8i20DaNNisIKD3vzHZFRplh6amS4TZODH98_sSCjdgZAqIAtFGvC3tL30csrxpJRaKXqrJCm0_pNd7XOH5hWn1DTmRklGHQr8lZS_J-b26_CjRfqXO4kBiD9pufOwJDQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:17:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::command::test_command::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:17:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:17:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:17:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:17:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2ODMsImlhdCI6MTY3NTE4MTg4MywianRpIjoiNTg4MjdlN2UtYzgzYS00ZWFlLThkYWYtZWJhZDdlZjA2M2QyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNjdqQlR1WEw5RzVPazJUZVJtZHhWQSIsInNlc3Npb25fc3RhdGUiOiJjOTI0NzhhNy03ZmI1LTQ0ZTAtYjdkYS02YWRhMTA0ZTQ2YmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzkyNDc4YTctN2ZiNS00NGUwLWI3ZGEtNmFkYTEwNGU0NmJiIn0.p61qUCYzRQu5Xa4tVLST9KFjAc7qOskc2UHpnA4Tzr0
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2ODMsImlhdCI6MTY3NTE4MTg4MywianRpIjoiNTg4MjdlN2UtYzgzYS00ZWFlLThkYWYtZWJhZDdlZjA2M2QyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNjdqQlR1WEw5RzVPazJUZVJtZHhWQSIsInNlc3Npb25fc3RhdGUiOiJjOTI0NzhhNy03ZmI1LTQ0ZTAtYjdkYS02YWRhMTA0ZTQ2YmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzkyNDc4YTctN2ZiNS00NGUwLWI3ZGEtNmFkYTEwNGU0NmJiIn0.p61qUCYzRQu5Xa4tVLST9KFjAc7qOskc2UHpnA4Tzr0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxODQsImlhdCI6MTY3NTE4MTg4NCwiYXV0aF90aW1lIjoxNjc1MTgxODgxLCJqdGkiOiJmMGM5YTczYS0yN2ZmLTQ5ZGYtYTY3MS03NTUzOTQzODA1MzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjY3akJUdVhMOUc1T2syVGVSbWR4VkEiLCJzZXNzaW9uX3N0YXRlIjoiYzkyNDc4YTctN2ZiNS00NGUwLWI3ZGEtNmFkYTEwNGU0NmJiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5MjQ3OGE3LTdmYjUtNDRlMC1iN2RhLTZhZGExMDRlNDZiYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ymW77tarXV1kOImbUjDRQ4VHSgEVWU8gYvFvbQvu4PispkvGh5QZdYd68J2RZguXoNlO3TKgDJlnsD1IO4oNw1zGvYWlVzsrRIANHwKZhEvkwbnKrzWqJVTUzxm4gN-90H1ubxirp1y56reiiJUMbgxwPx6SUrn3hS_0H8QoLuO7HOkgWBDwB0d3KgLHr402tZpMX94ADyH2QUuKLrzmQTvbSL4f8AW6eeYTkiHhhN1N74e6B7MMVg5J9pmuypcLeT80Vk1axiZjfARy4kMnK5A1fv5-kVuoZjj6bjPzZ-pVjOKAONNL5hBQZTidPXFdRKSG2LdUFZcxGX5WOGKbUQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2OTAsImlhdCI6MTY3NTE4MTg5MCwianRpIjoiNDY2ZWU2NjUtNzAyMy00YTc4LTkwNzgtMTUwZDg2MDI2MTg2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoib1QwWHJiTF85UUxVdkpXcUZ6eGpyQSIsInNlc3Npb25fc3RhdGUiOiIxOTcyYjAzZC0wNTVlLTRlMDktOTg0MC0zNTQxM2MwYTYyNDAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTk3MmIwM2QtMDU1ZS00ZTA5LTk4NDAtMzU0MTNjMGE2MjQwIn0.6P1TMMfRftSjrhzAUyJg3-pPnGfBwqYBQ8eq81jScXg
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2OTAsImlhdCI6MTY3NTE4MTg5MCwianRpIjoiNDY2ZWU2NjUtNzAyMy00YTc4LTkwNzgtMTUwZDg2MDI2MTg2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoib1QwWHJiTF85UUxVdkpXcUZ6eGpyQSIsInNlc3Npb25fc3RhdGUiOiIxOTcyYjAzZC0wNTVlLTRlMDktOTg0MC0zNTQxM2MwYTYyNDAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTk3MmIwM2QtMDU1ZS00ZTA5LTk4NDAtMzU0MTNjMGE2MjQwIn0.6P1TMMfRftSjrhzAUyJg3-pPnGfBwqYBQ8eq81jScXg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxOTEsImlhdCI6MTY3NTE4MTg5MSwiYXV0aF90aW1lIjoxNjc1MTgxODg4LCJqdGkiOiJiNzI5YzgzMi05Y2JhLTQwMGMtYTUxOS0zODNlNmNkYzI3ZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9UMFhyYkxfOVFMVXZKV3FGenhqckEiLCJzZXNzaW9uX3N0YXRlIjoiMTk3MmIwM2QtMDU1ZS00ZTA5LTk4NDAtMzU0MTNjMGE2MjQwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5NzJiMDNkLTA1NWUtNGUwOS05ODQwLTM1NDEzYzBhNjI0MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ycdQsrv9-isOaTWjOngvFArlxgPV9Bd8iVmOiYM2cMtFHHQdeKLBRf6_qMfaDreQtYvuBNFSGW3nvmDH_UdkE1o-ewJCFicYigVtKDoC6J8WgvTamNzrNFEE6jbucIbuFu2T1iogJfo4tDAqBLDuzVVX8ydSzlJPaGVEr2I5Upe0EC_SKj4znFsL6C3LI6IE0UtMXYK1J-oo2olugldHvKThJjitCmS5L8bsfDy2y0QkhYv9D5XRlTrtWt9T2MON5kRIdT7iWd8_K_DNg9PwFC_PpupA4jHtbPKOAJThp7_0R3JmG89bpB54DEPtqE_v_loCyaRZ-YnkG_OGkN6-kA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2OTgsImlhdCI6MTY3NTE4MTg5OCwianRpIjoiM2VjMDJiYTYtOWYyNi00ODIxLWI4MmEtMDhiMzQyOTZlN2U5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaGRzeXRpME5sTmRTd1YtVTBvRmY3USIsInNlc3Npb25fc3RhdGUiOiI2NTdiMWFkYS00NGVmLTQ2YTItODA4Ni04NGRjNmEwNjI3NmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjU3YjFhZGEtNDRlZi00NmEyLTgwODYtODRkYzZhMDYyNzZkIn0.b83ya07v7nsPq5dkbmm1VaitvZX67qgkdH9_yP5DOS8
[2023-01-31T16:18:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM2OTgsImlhdCI6MTY3NTE4MTg5OCwianRpIjoiM2VjMDJiYTYtOWYyNi00ODIxLWI4MmEtMDhiMzQyOTZlN2U5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaGRzeXRpME5sTmRTd1YtVTBvRmY3USIsInNlc3Npb25fc3RhdGUiOiI2NTdiMWFkYS00NGVmLTQ2YTItODA4Ni04NGRjNmEwNjI3NmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjU3YjFhZGEtNDRlZi00NmEyLTgwODYtODRkYzZhMDYyNzZkIn0.b83ya07v7nsPq5dkbmm1VaitvZX67qgkdH9_yP5DOS8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIxOTgsImlhdCI6MTY3NTE4MTg5OCwiYXV0aF90aW1lIjoxNjc1MTgxODk1LCJqdGkiOiJlZmZiMzZhYy1lYjk4LTQxYjctYTYwNy03NTlhOGEyMzliYjMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imhkc3l0aTBObE5kU3dWLVUwb0ZmN1EiLCJzZXNzaW9uX3N0YXRlIjoiNjU3YjFhZGEtNDRlZi00NmEyLTgwODYtODRkYzZhMDYyNzZkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY1N2IxYWRhLTQ0ZWYtNDZhMi04MDg2LTg0ZGM2YTA2Mjc2ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.mLgqfD0Vi7efdNX5FxlIaSQkMIbwn2GyNRvd-qFJSjW1FnQvpOe4xXGMluc-QttOpcM77s9uaBNQFGiQ27i7h5KNkoIbceM04cnAF4jwPLsq1Qq3WbSbKkXABtI34S0FlDS_bkBgV7TE6S4-Zi1eAh4_aE6iZvBK0hqBi3iSArbOxkPatSOItzcvIcjDSjNvz6bPhp_ZAYM__ObFQ9B9JelG0wT_Vtwe-gBX9PLkhVTAiR0qYE7ny4qQy4W9lE6N7VMwsA-d85LcJemlbSNtoscucVigQOpwhJEAGyUV9X2CpERdjCE-nHu96U8LLpdbWr-mBeITnBsbp7MDIv_GKA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MDUsImlhdCI6MTY3NTE4MTkwNSwianRpIjoiYmE5MWJhY2YtMDE1ZC00YTdhLWJmNzMtZjA5MmEzMDk3NzIzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYktOVW0xVGZGQ3lFRUxtczNGTG1mZyIsInNlc3Npb25fc3RhdGUiOiIzM2NiN2QzOC05MGFlLTQxM2MtYWE5OS1jYjNkY2Y5MTgyNWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzNjYjdkMzgtOTBhZS00MTNjLWFhOTktY2IzZGNmOTE4MjVmIn0.PsNcDb1Ixj0twmYyQr94K-CBzXwTsQWmlYjTolxhirc
[2023-01-31T16:18:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MDUsImlhdCI6MTY3NTE4MTkwNSwianRpIjoiYmE5MWJhY2YtMDE1ZC00YTdhLWJmNzMtZjA5MmEzMDk3NzIzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYktOVW0xVGZGQ3lFRUxtczNGTG1mZyIsInNlc3Npb25fc3RhdGUiOiIzM2NiN2QzOC05MGFlLTQxM2MtYWE5OS1jYjNkY2Y5MTgyNWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzNjYjdkMzgtOTBhZS00MTNjLWFhOTktY2IzZGNmOTE4MjVmIn0.PsNcDb1Ixj0twmYyQr94K-CBzXwTsQWmlYjTolxhirc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyMDUsImlhdCI6MTY3NTE4MTkwNSwiYXV0aF90aW1lIjoxNjc1MTgxOTAyLCJqdGkiOiJhYmZiZjdmOC04MzI4LTQwMTYtYjhkZS02YjZkZWZlZjE4ZDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJLTlVtMVRmRkN5RUVMbXMzRkxtZmciLCJzZXNzaW9uX3N0YXRlIjoiMzNjYjdkMzgtOTBhZS00MTNjLWFhOTktY2IzZGNmOTE4MjVmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMzY2I3ZDM4LTkwYWUtNDEzYy1hYTk5LWNiM2RjZjkxODI1ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.sGvlLAUbQPN3qSuerJNWDnsxvZO7mOIRns2QfUhGYEaV3T44OXwzruXkrlPYDJ7W80LZSYpw8Ff-0QXGqL_12RyKrVsP1xTKalgFjagcdNY6_gaJbvvq2DVbolc0TMgPRT-aAkkVfIKRmjI29G18kTTTJh96WXMEm0FQmJOcBQYxUluarw1Etex8C2PCVKhI_3j36QvkXLp22cKWvCcbGLByuy8wAf-ThnLCXYm3uPOURBP_AxBFFLidDI7lhgq95YwymI33PFKhbDuYk9xedv9t_M0oshjU6AuXzp11QYNOK3xlglyYnvA8QT0nUVsIa-qf42zCY3qjdlTVeJmiIA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MTIsImlhdCI6MTY3NTE4MTkxMiwianRpIjoiZGViMjBmMWUtNGU3Yy00OTY2LWIyMWQtYjBhMTk1ZDg2MmUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNzFzOS14MkJxeHV3Y3lTY1pNS21GUSIsInNlc3Npb25fc3RhdGUiOiI0YzU2ODQxNi1iYTk4LTQ0MDMtOGY1Yi0yZDVkMDE3ODViZjYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGM1Njg0MTYtYmE5OC00NDAzLThmNWItMmQ1ZDAxNzg1YmY2In0.MTJTbFUN24W94LpXfYlRSUCfBf0ewad4PqJO0i2_NHc
[2023-01-31T16:18:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MTIsImlhdCI6MTY3NTE4MTkxMiwianRpIjoiZGViMjBmMWUtNGU3Yy00OTY2LWIyMWQtYjBhMTk1ZDg2MmUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNzFzOS14MkJxeHV3Y3lTY1pNS21GUSIsInNlc3Npb25fc3RhdGUiOiI0YzU2ODQxNi1iYTk4LTQ0MDMtOGY1Yi0yZDVkMDE3ODViZjYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGM1Njg0MTYtYmE5OC00NDAzLThmNWItMmQ1ZDAxNzg1YmY2In0.MTJTbFUN24W94LpXfYlRSUCfBf0ewad4PqJO0i2_NHc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyMTIsImlhdCI6MTY3NTE4MTkxMiwiYXV0aF90aW1lIjoxNjc1MTgxOTA5LCJqdGkiOiJkZjMxNTQzNC1kOWVjLTQwYWQtOWY2Mi1lMGFmNzdiOTFjYmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjcxczkteDJCcXh1d2N5U2NaTUttRlEiLCJzZXNzaW9uX3N0YXRlIjoiNGM1Njg0MTYtYmE5OC00NDAzLThmNWItMmQ1ZDAxNzg1YmY2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjNTY4NDE2LWJhOTgtNDQwMy04ZjViLTJkNWQwMTc4NWJmNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.QNFKlTM90VHFN-3HTa95QQPDR79AIbstj8PfSs38MmcoTva9qq6BzE6Pc-aq9lwDudFj6XcHs88phU8hb94K5qbbJsu75aamfjwMLPK6LB2njut-JR2fG4tstcadinWgRsZTip4rKszkHDq2Q0MMVXR0ysnKRR5dPUnrVoYUgXChQR3-E6KmjoLsLuXNC1gucXjZP4ksAXgJd3pSnO2AN0_afLKt0362j8mYqp7YmTmq223ctihX6zvvU5BZ03vyMZHFXUJu8PJ1O8Mb808IP-bNFHeAdHru7Re6zbpTY_sQTWeIFVLQM4zcNkG501erj-lOG_xtU6Y5Ky5-10EksQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MTksImlhdCI6MTY3NTE4MTkxOSwianRpIjoiOTJlZGY1ZGMtZWI0OC00MzdjLTk5MzctOTU4OGE1OGJhMzkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNlpIY1NqNURER0NBemFhN0lJQ2QyUSIsInNlc3Npb25fc3RhdGUiOiJhMzRiNTc1NC01NTJlLTRkNDEtYTRkNi02MGY4MGNmOGVlMDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTM0YjU3NTQtNTUyZS00ZDQxLWE0ZDYtNjBmODBjZjhlZTAzIn0.li_EJmjv1aR5yrD1DqF5tluvpO7wZcGdnFMwb0-o7yU
[2023-01-31T16:18:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MTksImlhdCI6MTY3NTE4MTkxOSwianRpIjoiOTJlZGY1ZGMtZWI0OC00MzdjLTk5MzctOTU4OGE1OGJhMzkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNlpIY1NqNURER0NBemFhN0lJQ2QyUSIsInNlc3Npb25fc3RhdGUiOiJhMzRiNTc1NC01NTJlLTRkNDEtYTRkNi02MGY4MGNmOGVlMDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTM0YjU3NTQtNTUyZS00ZDQxLWE0ZDYtNjBmODBjZjhlZTAzIn0.li_EJmjv1aR5yrD1DqF5tluvpO7wZcGdnFMwb0-o7yU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyMjAsImlhdCI6MTY3NTE4MTkyMCwiYXV0aF90aW1lIjoxNjc1MTgxOTE3LCJqdGkiOiJkNDM2ODhmZC0wMWIyLTQ4NmItYjQzOC1jZjMzOGFiNDE1ZjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZaSGNTajVEREdDQXphYTdJSUNkMlEiLCJzZXNzaW9uX3N0YXRlIjoiYTM0YjU3NTQtNTUyZS00ZDQxLWE0ZDYtNjBmODBjZjhlZTAzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzNGI1NzU0LTU1MmUtNGQ0MS1hNGQ2LTYwZjgwY2Y4ZWUwMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.C1loigmD9EuV2KMSGPprgtQv09VcGAKCGzxPS_5VfQEs_lWOL0K6J08xDs-cbedUMhAHSL-XMomOeTzQbss3frSz0kKCZ5FtoMSYXwsGIop3v9KSZSWnOJdeVG8Myy_Vnv4knQBhxLXuz-ig_fc11TbA4T0L-bb7UE4B_YLc0Al4_18L1kl3pdmjx7FPSbCIQNnTv5sp0mWRWkxDnEOThPyYApNN44cgBC1pv30YqO2Y9MSzC8ZV83_uA-2YKiSGRkPN8OcwiteJOK_vj48Iqgr0WreJIQRfYPFSbQqIF5-HTRwIYwMgp43HVikC3mot4IWM6p5r9LHY5qh9TLi1kg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MjYsImlhdCI6MTY3NTE4MTkyNiwianRpIjoiM2ZjMTk5MGItZTcwOS00MzE3LTgyMDctZmVkNTMwOWE5MDE5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieFNPV2VGNlhrZXV0aFlKYXl3bmxlZyIsInNlc3Npb25fc3RhdGUiOiI1ZTlmZTM5OC05Y2NkLTQyZTYtYjVmZi04ZTI5NTVhNGRkOTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWU5ZmUzOTgtOWNjZC00MmU2LWI1ZmYtOGUyOTU1YTRkZDk3In0.eSZjXFHlMkiDwu-X2uYpoYTxHcH1FMsJRQppeCwiAW4
[2023-01-31T16:18:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MjYsImlhdCI6MTY3NTE4MTkyNiwianRpIjoiM2ZjMTk5MGItZTcwOS00MzE3LTgyMDctZmVkNTMwOWE5MDE5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieFNPV2VGNlhrZXV0aFlKYXl3bmxlZyIsInNlc3Npb25fc3RhdGUiOiI1ZTlmZTM5OC05Y2NkLTQyZTYtYjVmZi04ZTI5NTVhNGRkOTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWU5ZmUzOTgtOWNjZC00MmU2LWI1ZmYtOGUyOTU1YTRkZDk3In0.eSZjXFHlMkiDwu-X2uYpoYTxHcH1FMsJRQppeCwiAW4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyMjcsImlhdCI6MTY3NTE4MTkyNywiYXV0aF90aW1lIjoxNjc1MTgxOTI0LCJqdGkiOiI1NDRmNDAzNS00NTg1LTRmODUtYThjMy1hOTQ2ODYzZTY1ZmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhTT1dlRjZYa2V1dGhZSmF5d25sZWciLCJzZXNzaW9uX3N0YXRlIjoiNWU5ZmUzOTgtOWNjZC00MmU2LWI1ZmYtOGUyOTU1YTRkZDk3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVlOWZlMzk4LTljY2QtNDJlNi1iNWZmLThlMjk1NWE0ZGQ5NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.zXH1TE8Gts12fgeO36L6dgm_Tcq0Z7MiZDLbjnpxXlr_5wtjBkzD-io1LoCM7nUDlklr2FtVbR_eFXeE-gQFvA60AB2kD1yhodMvhoINrbanUrR3VzLaRHGgFKx1hUob7Va_QRA7ofX8Uvs6Ql89z8QAgaPkv0D-aGIB7Y0u6rUXNJ51k2a1MQILRk3e6j_IxMTCAyzYu31CV1i19kMDgZG_oykXm4jA4kxVhLuVtHiANj_AVSwOnrdxxik_f76vZ9btn_PDi-DpUK9IOQ85ghkMrtXmQZEb8ZRHt4TAw7fSgoEXG9mOQNeiQb_wZbikdoYrWDyzNZpK03w-pjOU_Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MzQsImlhdCI6MTY3NTE4MTkzNCwianRpIjoiODEyODRjOWUtYmNiMC00ODhhLTgwNmUtOThkNDE3Y2YxMWEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZTVVeUNhcjlSUFJIaEZWTGo2N05GUSIsInNlc3Npb25fc3RhdGUiOiJkZWFiODA5OC0zNjNmLTQwZWQtOTgxYi1kNWVkYmZkMmViMzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGVhYjgwOTgtMzYzZi00MGVkLTk4MWItZDVlZGJmZDJlYjM2In0.4HXENpFwoL8Z9cn5fgkJrB_o9xLWUCbO-jzlOO9bbLU
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3MzQsImlhdCI6MTY3NTE4MTkzNCwianRpIjoiODEyODRjOWUtYmNiMC00ODhhLTgwNmUtOThkNDE3Y2YxMWEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZTVVeUNhcjlSUFJIaEZWTGo2N05GUSIsInNlc3Npb25fc3RhdGUiOiJkZWFiODA5OC0zNjNmLTQwZWQtOTgxYi1kNWVkYmZkMmViMzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGVhYjgwOTgtMzYzZi00MGVkLTk4MWItZDVlZGJmZDJlYjM2In0.4HXENpFwoL8Z9cn5fgkJrB_o9xLWUCbO-jzlOO9bbLU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:18:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:18:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyMzQsImlhdCI6MTY3NTE4MTkzNCwiYXV0aF90aW1lIjoxNjc1MTgxOTMxLCJqdGkiOiJlZDJmYTMyOC01ZGNkLTQ4Y2UtYjk3Zi1mMTJkZTdiOTE2YjMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImU1VXlDYXI5UlBSSGhGVkxqNjdORlEiLCJzZXNzaW9uX3N0YXRlIjoiZGVhYjgwOTgtMzYzZi00MGVkLTk4MWItZDVlZGJmZDJlYjM2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRlYWI4MDk4LTM2M2YtNDBlZC05ODFiLWQ1ZWRiZmQyZWIzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.rA3Ka7y47iVVEsGKzIatkqqliveqtLbguC0sNEImHZ-0kDgeov-6OEh6Ini-sa3hZsEwB1-YiDF7mD7KQZbFoOQcCSnHULJdqiD999SQFm5DhZTe6lKXLOKUpiI6QC6AXXhCBr_Ua_AIa4LWQM9cWqjPDKt6dUA2_D_m3G8Ia6Wwif26DhIBd7ssCJ89IaZgODwQ3wlZr_X-7tPnEo741fUuKOgneDlZH-agpRkmIqTcyFrXgl65rPwAZ5Rid-AGmhWz6_8Vf4jB-Ry90MXKZ5ScChHYCl5T3aNoGqhLhru6u6Szw7TvPoFMDq1FdImCUwrESV_rILqULI9jVbSZWQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:18:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:18:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:18:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:18:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:18:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:18:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:18:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:18:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NDEsImlhdCI6MTY3NTE4MTk0MSwianRpIjoiNTIwM2NiNTEtNjI1YS00MTQ4LTgxMDYtNDUzODhlMzVlNjgyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVFJsN0R2cDBKVXFEZmY0YmpJMnJFQSIsInNlc3Npb25fc3RhdGUiOiJjZjliY2Q3My01YTg5LTQwZDYtOTUyMi0wNmY2ZjFlNjZkMmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2Y5YmNkNzMtNWE4OS00MGQ2LTk1MjItMDZmNmYxZTY2ZDJiIn0.rFKumNXqgIshhnRvCW9IKEwJb1WUiHpTTzJDaD1ii1g
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NDEsImlhdCI6MTY3NTE4MTk0MSwianRpIjoiNTIwM2NiNTEtNjI1YS00MTQ4LTgxMDYtNDUzODhlMzVlNjgyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVFJsN0R2cDBKVXFEZmY0YmpJMnJFQSIsInNlc3Npb25fc3RhdGUiOiJjZjliY2Q3My01YTg5LTQwZDYtOTUyMi0wNmY2ZjFlNjZkMmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2Y5YmNkNzMtNWE4OS00MGQ2LTk1MjItMDZmNmYxZTY2ZDJiIn0.rFKumNXqgIshhnRvCW9IKEwJb1WUiHpTTzJDaD1ii1g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyNDEsImlhdCI6MTY3NTE4MTk0MSwiYXV0aF90aW1lIjoxNjc1MTgxOTM4LCJqdGkiOiI0ZmU3M2MyMi0xMjE3LTQ1Y2EtYTNlMC1hODkwODQ2YTNjZDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRSbDdEdnAwSlVxRGZmNGJqSTJyRUEiLCJzZXNzaW9uX3N0YXRlIjoiY2Y5YmNkNzMtNWE4OS00MGQ2LTk1MjItMDZmNmYxZTY2ZDJiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNmOWJjZDczLTVhODktNDBkNi05NTIyLTA2ZjZmMWU2NmQyYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Qp85SkMsMhXywBTZi1oZ-JK1Gi8BAsPHwzQQr8DaJ-Zbo8bWUytemiGkGg_Yl6lkuT5ZMG7N0Ret0wMW4CK_Y51n93yAOUFiwcvSQc-JJ9ZcHFRLD5pb_FUbLUyx_L9qnrSb2pqZXDmfr2WuAZDuieoZe8WKtm0jt4cFAT9m_Tb9wKWI4qiTQ6fgcE9F_WVWPGjjw-FXkWBRuq6vJcFcaMhdEBJ8RLIFyFxxElkwAEUgR_ah1x-n3ytL-Pw-YilP4i2O3aMWALlDzx0Kw8uDU-Tg26Z_hKAMs4_tYoEMBntjVOob9glVPu1w3rz1A3z8dhWl0UCTbqWaOdFEaA2uMw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:19:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:19:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NDgsImlhdCI6MTY3NTE4MTk0OCwianRpIjoiMDRjMDgwNzgtOTAzMy00MmFlLWI3YzItZjRmYjEyY2VlYTU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLVl3QXdvbjZDVHZNcksyQ3FuZWRlQSIsInNlc3Npb25fc3RhdGUiOiIzMGY5ODZhYS00ZDY2LTQwYTMtODg4NC01ZDA2MTdjZDZjZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzBmOTg2YWEtNGQ2Ni00MGEzLTg4ODQtNWQwNjE3Y2Q2Y2Q3In0.cbOIF4hLyyLooZvhjqkWCKbolvmBO8sJZQ2LCEZz-JQ
[2023-01-31T16:19:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NDgsImlhdCI6MTY3NTE4MTk0OCwianRpIjoiMDRjMDgwNzgtOTAzMy00MmFlLWI3YzItZjRmYjEyY2VlYTU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLVl3QXdvbjZDVHZNcksyQ3FuZWRlQSIsInNlc3Npb25fc3RhdGUiOiIzMGY5ODZhYS00ZDY2LTQwYTMtODg4NC01ZDA2MTdjZDZjZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzBmOTg2YWEtNGQ2Ni00MGEzLTg4ODQtNWQwNjE3Y2Q2Y2Q3In0.cbOIF4hLyyLooZvhjqkWCKbolvmBO8sJZQ2LCEZz-JQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyNDgsImlhdCI6MTY3NTE4MTk0OCwiYXV0aF90aW1lIjoxNjc1MTgxOTQ1LCJqdGkiOiJiNWEyNDhkMy0wNDBkLTRlYjUtYTQzMS0xNzVlMjc4M2M5MjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1Zd0F3b242Q1R2TXJLMkNxbmVkZUEiLCJzZXNzaW9uX3N0YXRlIjoiMzBmOTg2YWEtNGQ2Ni00MGEzLTg4ODQtNWQwNjE3Y2Q2Y2Q3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMwZjk4NmFhLTRkNjYtNDBhMy04ODg0LTVkMDYxN2NkNmNkNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.yQ8KNlkkkfdWgRwPKXmRm2wwsiD1Alord2aSWBI_ViytdQiLcvGZMZiMAHKVUKAKqxrquDjA4otFJD2vgEygolbme6TYEdmLJQXwkuawgqnucTooTNpv3MoAjnu9vXZRiJLe83GgKoHD_gHw3AyypGQ0EfWRfF6_jINgGhEf4GVk3TXJqKe7rXep0B3GB5V1L8zK5DfvF-aRUBHf5DkgCXoJ0fCS34DZUy5AIW4C1nWgk6d3nhSXLQi9_e00cR8OAIuNUTYkBxLa4bBXwqHoasG9OSC51Y6f6CNXaDLj1ynS5QkkfWe8ETWM5itw2QI-rICdOiEMM99jrB8w7zre-g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:19:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:19:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NTUsImlhdCI6MTY3NTE4MTk1NSwianRpIjoiYzlmMjFhN2QtZTVmMS00ZGU0LWJmNDQtNmI0NTQyZWI0NGM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia3RIdGlBblgwM0FCMXhQeXByZnQxQSIsInNlc3Npb25fc3RhdGUiOiJhNmY3NDZlZi1lYjM1LTRjNjItYjMxOS0wYzliMzg3ZDBmZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTZmNzQ2ZWYtZWIzNS00YzYyLWIzMTktMGM5YjM4N2QwZmZjIn0.X4uAheadU36Fxtvw28d-laiiFM8-YqI22SlwiTieYO0
[2023-01-31T16:19:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NTUsImlhdCI6MTY3NTE4MTk1NSwianRpIjoiYzlmMjFhN2QtZTVmMS00ZGU0LWJmNDQtNmI0NTQyZWI0NGM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia3RIdGlBblgwM0FCMXhQeXByZnQxQSIsInNlc3Npb25fc3RhdGUiOiJhNmY3NDZlZi1lYjM1LTRjNjItYjMxOS0wYzliMzg3ZDBmZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTZmNzQ2ZWYtZWIzNS00YzYyLWIzMTktMGM5YjM4N2QwZmZjIn0.X4uAheadU36Fxtvw28d-laiiFM8-YqI22SlwiTieYO0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyNTUsImlhdCI6MTY3NTE4MTk1NSwiYXV0aF90aW1lIjoxNjc1MTgxOTUyLCJqdGkiOiI5Mzg4NGVjMy00M2EwLTQxNDQtODcxZS03MDcwMjQ5NmQ4MzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imt0SHRpQW5YMDNBQjF4UHlwcmZ0MUEiLCJzZXNzaW9uX3N0YXRlIjoiYTZmNzQ2ZWYtZWIzNS00YzYyLWIzMTktMGM5YjM4N2QwZmZjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE2Zjc0NmVmLWViMzUtNGM2Mi1iMzE5LTBjOWIzODdkMGZmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Fn9-75XfqwLE_CqYyTxrIhGYYuGapgzwk1_cLXCopyLknzZ9S1aeFWZ5Vx3S5dq6Q-IYX36THPe8kfqYlwG3U_B8tYQ75s76YhAjLMJa-TLhVI2wM6xU4SBQlJ-QeuPH_YGRI0o98F8BhcDVzFSDABZf8BHYEmlKPqtzWSAa_CPLRu1R_9f9TWte7tlfj2c-b1wdOperRLZv2ihqO_sdjNuBdyCleUfVfQTxJdSl0RVIpSCHTnONgpc2TDvgP7q0R2oOWqle3nLCPwkq722x8iSy7enM95mXUTDT2hXM8o1SSfK-PhFgPtmJovwtAfcdZYwwrsKNu8Jf4NGsJeUZug\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:19:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:19:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NjIsImlhdCI6MTY3NTE4MTk2MiwianRpIjoiOWVlZGY3Y2EtZjNiZS00YWJlLThhZWUtNWFmMWE1YzU2MTBlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWnk3T2dHbFdFZ0hkWTQ4QmoyRkd2dyIsInNlc3Npb25fc3RhdGUiOiIyMDA1NjMxNC00OWNjLTQ0NzYtOWVkZi0zZTM0ZWQ0Njg4OTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjAwNTYzMTQtNDljYy00NDc2LTllZGYtM2UzNGVkNDY4ODk3In0.qzJm6DBu8b09NotSNxrS-7kno9tgN9V478PAisBiBBs
[2023-01-31T16:19:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NjIsImlhdCI6MTY3NTE4MTk2MiwianRpIjoiOWVlZGY3Y2EtZjNiZS00YWJlLThhZWUtNWFmMWE1YzU2MTBlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWnk3T2dHbFdFZ0hkWTQ4QmoyRkd2dyIsInNlc3Npb25fc3RhdGUiOiIyMDA1NjMxNC00OWNjLTQ0NzYtOWVkZi0zZTM0ZWQ0Njg4OTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjAwNTYzMTQtNDljYy00NDc2LTllZGYtM2UzNGVkNDY4ODk3In0.qzJm6DBu8b09NotSNxrS-7kno9tgN9V478PAisBiBBs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyNjIsImlhdCI6MTY3NTE4MTk2MiwiYXV0aF90aW1lIjoxNjc1MTgxOTU5LCJqdGkiOiJjZmEzNjRlNS1lODE3LTQ2YzctYWU5NS03M2Q3MDVkN2Q5M2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilp5N09nR2xXRWdIZFk0OEJqMkZHdnciLCJzZXNzaW9uX3N0YXRlIjoiMjAwNTYzMTQtNDljYy00NDc2LTllZGYtM2UzNGVkNDY4ODk3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwMDU2MzE0LTQ5Y2MtNDQ3Ni05ZWRmLTNlMzRlZDQ2ODg5NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.JzlPTgnGedy7Sl1_TIL5mwrkEzPE67iQQz0M83jF90SdG8xH2sCy9OrJWZwc0DV2uh6k0PO1igI5D7NMQ_43KTMpXD5RU-cKyNXMjFVYKlsXpyI58DVqrpqiuFrgxQWwqqq6QiAdAMV2CA-2yLOI2rhUoXg3XbN7uC-nX9IgYD4xutbzyQsImghgMDIZrDl7B23UNqCcNg5EMqZxBz_tJogw8JuV-HyY-SS5YKlQlVXGCavhz3K4hrzkVlxkKnWBy-RT4B7xEsiXH-tmAKRfFsoyD7JjwjgpCuw5Zw8Mn5qIOWfIStQdEXv2jyT_TKP69xrNthasoppyrfl2mwRvZQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:19:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:19:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NjksImlhdCI6MTY3NTE4MTk2OSwianRpIjoiNjQxYmMzM2EtYTI1Zi00OTRjLWE3OWQtNmNiMzIzZmM4MGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNVQ2YkpLVm5HemZvbmRld1pqZlRRUSIsInNlc3Npb25fc3RhdGUiOiJkY2QwMmQyMS04OWNjLTRhMmItYWI1Zi1iOGE3NjJlNjEzNTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGNkMDJkMjEtODljYy00YTJiLWFiNWYtYjhhNzYyZTYxMzU1In0.1JAlnR1rNPJXRJ06iwVhMMT_Bzh3geAmZk0_kTFkUac
[2023-01-31T16:19:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NjksImlhdCI6MTY3NTE4MTk2OSwianRpIjoiNjQxYmMzM2EtYTI1Zi00OTRjLWE3OWQtNmNiMzIzZmM4MGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNVQ2YkpLVm5HemZvbmRld1pqZlRRUSIsInNlc3Npb25fc3RhdGUiOiJkY2QwMmQyMS04OWNjLTRhMmItYWI1Zi1iOGE3NjJlNjEzNTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGNkMDJkMjEtODljYy00YTJiLWFiNWYtYjhhNzYyZTYxMzU1In0.1JAlnR1rNPJXRJ06iwVhMMT_Bzh3geAmZk0_kTFkUac&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyNzAsImlhdCI6MTY3NTE4MTk3MCwiYXV0aF90aW1lIjoxNjc1MTgxOTY2LCJqdGkiOiIxNzc4YTkzYi1kYzE4LTRjM2EtYTQ3ZS04NGQwMjIzYjNlMzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjVUNmJKS1ZuR3pmb25kZXdaamZUUVEiLCJzZXNzaW9uX3N0YXRlIjoiZGNkMDJkMjEtODljYy00YTJiLWFiNWYtYjhhNzYyZTYxMzU1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjZDAyZDIxLTg5Y2MtNGEyYi1hYjVmLWI4YTc2MmU2MTM1NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.TS-NiaEbxZ-maGzXimmD0YFU3rRSLP7qs-eEPcZp6d-OEkH_h63y2vBjcrP_egnnqrf9oOVOF4HWv-ggnaxCr7ZYo5kpk4-AVpJhdq2SatWXW4PlERZQ0X-znMcDWhAaUBqtx0q8oS559bXXWekf9QQay4B6EwPbVFgDQmG6j4zeh0jPKsLcwheo8YOjbZMm_bpCdWXDV9-Mn4qaa33z8DhA5SpYZlxIejw7gDgDq18EUvY-ajWBYpoqC4SGpy_Q-hxhAHD1HZw0o3GqQY-aM3jQqM9tTg4_yztRzkD8sVKMS462NqLhkrTNB6dP2hoGP5ZqHbD94jCRy1rNhms2bg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::integration::test_qos_1_dropping

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:19:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:19:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NzcsImlhdCI6MTY3NTE4MTk3NywianRpIjoiNWMyODgzMWMtYmY2Zi00MDhmLTllNDktZGQ3YWExNzZlNDYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ1Zab2xidkZqRVh1STVwQnlwRmRKQSIsInNlc3Npb25fc3RhdGUiOiIzM2JmZjM5YS1hYWUwLTQxZWItYTNiMC1mOTA2NDRjYzI2YTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzNiZmYzOWEtYWFlMC00MWViLWEzYjAtZjkwNjQ0Y2MyNmExIn0.Njkt56_s71RHuQkpLKAuR8ArtiQDrROSmwLCm2AIiGM
[2023-01-31T16:19:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3NzcsImlhdCI6MTY3NTE4MTk3NywianRpIjoiNWMyODgzMWMtYmY2Zi00MDhmLTllNDktZGQ3YWExNzZlNDYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ1Zab2xidkZqRVh1STVwQnlwRmRKQSIsInNlc3Npb25fc3RhdGUiOiIzM2JmZjM5YS1hYWUwLTQxZWItYTNiMC1mOTA2NDRjYzI2YTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzNiZmYzOWEtYWFlMC00MWViLWEzYjAtZjkwNjQ0Y2MyNmExIn0.Njkt56_s71RHuQkpLKAuR8ArtiQDrROSmwLCm2AIiGM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyNzcsImlhdCI6MTY3NTE4MTk3NywiYXV0aF90aW1lIjoxNjc1MTgxOTc0LCJqdGkiOiIwYzQwYjMwMy04ZGI2LTQ5MjQtOTQ5NS02YTZlNmYwNTZiM2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImdWWm9sYnZGakVYdUk1cEJ5cEZkSkEiLCJzZXNzaW9uX3N0YXRlIjoiMzNiZmYzOWEtYWFlMC00MWViLWEzYjAtZjkwNjQ0Y2MyNmExIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMzYmZmMzlhLWFhZTAtNDFlYi1hM2IwLWY5MDY0NGNjMjZhMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.BNw77YB7KqaiJU4Ow_8B55GB2rLI2Ig2Aw8-C1k08PExLlGDdo_6jk8ddq43qN8JwMmaKaKZkv_rM_JMCsdIjIRpLHIwBP5SI1X4xRoD3lEkreNuOZ0QJ-RDp71sen0f06v9L79K4PsjIvyR1VzN94sOIpbZohU5iRNa7Qjs6zROb1emmomkTb-NN3IVYy7jd_I_sxTNhAF8NKKIX4zQvxzZc8Ufb4fGnS2NrA5ZHBOSa3ALyNGRjcW1JerEf0ITt9UfQxvf0msW6TRkdGoIcnWdt_6CABLMpD8kzvl7_fOk49qQdd3iTsAhYMyzMAk30wIEueZg3molZ1s23-MeFA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:19:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:19:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3ODQsImlhdCI6MTY3NTE4MTk4NCwianRpIjoiZTdkMDZiMDEtMDgyMy00NzI1LThiNzMtNDc0MzkzMGRkZmFhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoickVPQjVGcGJ6bXEtZnFYLUhRaDBQUSIsInNlc3Npb25fc3RhdGUiOiI0ZThhYWQ0YS1kMDEwLTRlYTctYTk3NS1mOTFjYzU0YWZiZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGU4YWFkNGEtZDAxMC00ZWE3LWE5NzUtZjkxY2M1NGFmYmZjIn0.u1Fi0psIhb5HJ7ujXaJSq7ctAf7sTQiEllf_17e22C4
[2023-01-31T16:19:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3ODQsImlhdCI6MTY3NTE4MTk4NCwianRpIjoiZTdkMDZiMDEtMDgyMy00NzI1LThiNzMtNDc0MzkzMGRkZmFhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoickVPQjVGcGJ6bXEtZnFYLUhRaDBQUSIsInNlc3Npb25fc3RhdGUiOiI0ZThhYWQ0YS1kMDEwLTRlYTctYTk3NS1mOTFjYzU0YWZiZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGU4YWFkNGEtZDAxMC00ZWE3LWE5NzUtZjkxY2M1NGFmYmZjIn0.u1Fi0psIhb5HJ7ujXaJSq7ctAf7sTQiEllf_17e22C4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:45Z INFO  drogue_cloud_tests::resources::apps] Create application: 939fafdf-e121-4018-a87e-7ef913c23e7a
[2023-01-31T16:19:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot;
[2023-01-31T16:19:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:19:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;939fafdf-e121-4018-a87e-7ef913c23e7a\&quot;,\n    \&quot;uid\&quot;: \&quot;84ef2b43-cb08-4175-a0f6-1ab3defae7e6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:19:45.198960Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bc3c8e8a-60ab-43f0-924d-a5cc85186d2b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223590736Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223592680Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223593281Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223593882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223594453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223613689Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223653533Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.223686355Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot;), &quot;uid&quot;: String(&quot;84ef2b43-cb08-4175-a0f6-1ab3defae7e6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:19:45.198960Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bc3c8e8a-60ab-43f0-924d-a5cc85186d2b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223590736Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223592680Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223593281Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223593882Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223594453Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223613689Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223653533Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.223686355Z&quot;)}]}}
[2023-01-31T16:19:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;939fafdf-e121-4018-a87e-7ef913c23e7a\&quot;,\n    \&quot;uid\&quot;: \&quot;84ef2b43-cb08-4175-a0f6-1ab3defae7e6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:19:45.198960Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;09a358cb-9a8b-42dd-b831-dd8682f388ff\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;rNjjgyfk3cmG\&quot;,\n        \&quot;username\&quot;: \&quot;user-939fafdf-e121-4018-a87e-7ef913c23e7a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.274376141Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.324255703Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.437854215Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.447923053Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585090577Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585158214Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585193440Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585315017Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot;), &quot;uid&quot;: String(&quot;84ef2b43-cb08-4175-a0f6-1ab3defae7e6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:19:45.198960Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;09a358cb-9a8b-42dd-b831-dd8682f388ff&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;rNjjgyfk3cmG&quot;), &quot;username&quot;: String(&quot;user-939fafdf-e121-4018-a87e-7ef913c23e7a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.274376141Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.324255703Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.437854215Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.447923053Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585090577Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585158214Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585193440Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585315017Z&quot;)}]}}
[2023-01-31T16:19:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;939fafdf-e121-4018-a87e-7ef913c23e7a\&quot;,\n    \&quot;uid\&quot;: \&quot;84ef2b43-cb08-4175-a0f6-1ab3defae7e6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:19:45.198960Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;09a358cb-9a8b-42dd-b831-dd8682f388ff\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;rNjjgyfk3cmG\&quot;,\n        \&quot;username\&quot;: \&quot;user-939fafdf-e121-4018-a87e-7ef913c23e7a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.274376141Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.324255703Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.437854215Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.447923053Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585090577Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585158214Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585193440Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:45.585315017Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot;), &quot;uid&quot;: String(&quot;84ef2b43-cb08-4175-a0f6-1ab3defae7e6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:19:45.198960Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;09a358cb-9a8b-42dd-b831-dd8682f388ff&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;rNjjgyfk3cmG&quot;), &quot;username&quot;: String(&quot;user-939fafdf-e121-4018-a87e-7ef913c23e7a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.274376141Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.324255703Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.437854215Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.447923053Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585090577Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585158214Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585193440Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:45.585315017Z&quot;)}]}}
[2023-01-31T16:19:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyODQsImlhdCI6MTY3NTE4MTk4NCwiYXV0aF90aW1lIjoxNjc1MTgxOTgxLCJqdGkiOiI0MTA5YTdhMy1hMGZjLTQ3ODEtYTkzZC05ZWU2MjA3ZjgzZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJFT0I1RnBiem1xLWZxWC1IUWgwUFEiLCJzZXNzaW9uX3N0YXRlIjoiNGU4YWFkNGEtZDAxMC00ZWE3LWE5NzUtZjkxY2M1NGFmYmZjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRlOGFhZDRhLWQwMTAtNGVhNy1hOTc1LWY5MWNjNTRhZmJmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.uh6BU5wA8CevEYaRw5XYeX0AV6HAxftm_ZTRP6fD1HIPRy6SS44EhkCcXwrSNP4SbJ7mY1l9miz_RuOV-KAiZHweNpVNY9ZLIQ5kpfXca84VAp_QAJFsLFbwQ3k__ZNiAxjrwvpHk0dHBaA4y8E-Fo6gmSVYSxPokiOMECL6x-rla5jgwxAL3PHgqz8l4MImFvY5yycqTrUPlVfhs0urEisIPvK3sDlaLmd2ftQNhU6Y6_FlRfewLWMJF1NJJCum2osg_ahwKSqNZKvDg9wMzPXx06E4YFTmMHcYayYhn8EJoStFGNVGottKOHKMWbFkYYtl2o9CN5oPcJCJfpC3YA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot; &quot;device1&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot; &quot;gateway1&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;939fafdf-e121-4018-a87e-7ef913c23e7a&#x27;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;939fafdf-e121-4018-a87e-7ef913c23e7a&quot;
[2023-01-31T16:19:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:19:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:19:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3OTMsImlhdCI6MTY3NTE4MTk5MywianRpIjoiNTQ5MzQyOTAtYzNhNi00ZDI0LTljOTAtOTc5MWI0OGVmMDYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaXIyOXd3aklOSVpWSWNGSGhuZEQ4dyIsInNlc3Npb25fc3RhdGUiOiI3MTgwMzBmZi0zNmFiLTQ4ZmMtOTllMS0yMWJkYWRmMTFmMjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzE4MDMwZmYtMzZhYi00OGZjLTk5ZTEtMjFiZGFkZjExZjI5In0.RVadSGKvepr7nmFU88INjEWBA0kR3oURVwfPFJgRUJU
[2023-01-31T16:19:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:19:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM3OTMsImlhdCI6MTY3NTE4MTk5MywianRpIjoiNTQ5MzQyOTAtYzNhNi00ZDI0LTljOTAtOTc5MWI0OGVmMDYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaXIyOXd3aklOSVpWSWNGSGhuZEQ4dyIsInNlc3Npb25fc3RhdGUiOiI3MTgwMzBmZi0zNmFiLTQ4ZmMtOTllMS0yMWJkYWRmMTFmMjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzE4MDMwZmYtMzZhYi00OGZjLTk5ZTEtMjFiZGFkZjExZjI5In0.RVadSGKvepr7nmFU88INjEWBA0kR3oURVwfPFJgRUJU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:19:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:53Z INFO  drogue_cloud_tests::resources::apps] Create application: a623928e-0b2e-406e-9c86-a26562397b9b
[2023-01-31T16:19:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot;
[2023-01-31T16:19:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:19:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a623928e-0b2e-406e-9c86-a26562397b9b\&quot;,\n    \&quot;uid\&quot;: \&quot;d84a5d34-3214-4667-b95d-ac76d661c071\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:19:54.012099Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a3212682-bd63-4cfc-af5b-a30d3f907a59\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042433072Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042433924Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042434455Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042434856Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042435417Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042439925Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042546304Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.042520386Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot;), &quot;uid&quot;: String(&quot;d84a5d34-3214-4667-b95d-ac76d661c071&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:19:54.012099Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a3212682-bd63-4cfc-af5b-a30d3f907a59&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042433072Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042433924Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042434455Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042434856Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042435417Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042439925Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042546304Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.042520386Z&quot;)}]}}
[2023-01-31T16:19:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a623928e-0b2e-406e-9c86-a26562397b9b\&quot;,\n    \&quot;uid\&quot;: \&quot;d84a5d34-3214-4667-b95d-ac76d661c071\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:19:54.012099Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d16dfec4-d3f7-4024-814f-fab9e5f4b1a5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hxcA6mN8RfTc\&quot;,\n        \&quot;username\&quot;: \&quot;user-a623928e-0b2e-406e-9c86-a26562397b9b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.076782264Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.083935360Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.237280239Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.243967414Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.377230731Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.379539399Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.379848447Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.379627163Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot;), &quot;uid&quot;: String(&quot;d84a5d34-3214-4667-b95d-ac76d661c071&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:19:54.012099Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d16dfec4-d3f7-4024-814f-fab9e5f4b1a5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hxcA6mN8RfTc&quot;), &quot;username&quot;: String(&quot;user-a623928e-0b2e-406e-9c86-a26562397b9b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.076782264Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.083935360Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.237280239Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.243967414Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.377230731Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.379539399Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.379848447Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.379627163Z&quot;)}]}}
[2023-01-31T16:19:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a623928e-0b2e-406e-9c86-a26562397b9b\&quot;,\n    \&quot;uid\&quot;: \&quot;d84a5d34-3214-4667-b95d-ac76d661c071\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:19:54.012099Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d16dfec4-d3f7-4024-814f-fab9e5f4b1a5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hxcA6mN8RfTc\&quot;,\n        \&quot;username\&quot;: \&quot;user-a623928e-0b2e-406e-9c86-a26562397b9b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.076782264Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.083935360Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.237280239Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.243967414Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.377230731Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.379539399Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.379848447Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:19:54.379627163Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot;), &quot;uid&quot;: String(&quot;d84a5d34-3214-4667-b95d-ac76d661c071&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:19:54.012099Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d16dfec4-d3f7-4024-814f-fab9e5f4b1a5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hxcA6mN8RfTc&quot;), &quot;username&quot;: String(&quot;user-a623928e-0b2e-406e-9c86-a26562397b9b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.076782264Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.083935360Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.237280239Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.243967414Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.377230731Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.379539399Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.379848447Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:19:54.379627163Z&quot;)}]}}
[2023-01-31T16:19:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:19:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIyOTMsImlhdCI6MTY3NTE4MTk5MywiYXV0aF90aW1lIjoxNjc1MTgxOTkwLCJqdGkiOiJiMzk1OTU3MC0wOTA3LTRiNWYtYWQzYi1iZjBjYjI2OGFlNGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlyMjl3d2pJTklaVkljRkhobmREOHciLCJzZXNzaW9uX3N0YXRlIjoiNzE4MDMwZmYtMzZhYi00OGZjLTk5ZTEtMjFiZGFkZjExZjI5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcxODAzMGZmLTM2YWItNDhmYy05OWUxLTIxYmRhZGYxMWYyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.1JOxHZa4Xx8Pyu3ECK5DbKnaWlbeOcO6yY_OsbaI36FFjUs2wx6SNfWCZZKuZjUDjAVI9x--WTdaDKHxZWjETWQX-r3eK98NmYeQ8LB8w5s8uu7NUny-8JfXSXuG1BFjuDrJz3hAjltl0reOH69aHgE_9f2VfqtyioxNdiNUHLVN2J99y3nFNQRIQndtXNpJ3si8xETPLIpjTED9CktiYWiD7pJgD0DI551xx6GWUBO3_49YKpaQvG7Y1nT0Vq3ZCa7Zh2nRJEAhV_SIWOZ4sL9LP4gdm0CpXf9dzmTWgJpx3XCJcTYKGsIyvM77HpljMij9MYc1xneq4G7DfR9iVw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot; &quot;device1&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot; &quot;gateway1&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a623928e-0b2e-406e-9c86-a26562397b9b&#x27;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a623928e-0b2e-406e-9c86-a26562397b9b&quot;
[2023-01-31T16:19:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:19:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:19:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:19:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:19:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:19:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:20:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:20:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MDIsImlhdCI6MTY3NTE4MjAwMiwianRpIjoiZmFlMmM0OGEtODk2Zi00ZGY1LWI1ZmItNGE5MWU2MWU2YmE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieFR5bjFrSVZtSzFhNmkyODB0UF9QZyIsInNlc3Npb25fc3RhdGUiOiIyNWFiN2E0NC1kMjFmLTQ0NDMtOGI1Ni1hMTBkOTMyYWU0YmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjVhYjdhNDQtZDIxZi00NDQzLThiNTYtYTEwZDkzMmFlNGJiIn0.yH29pOUF9mhDj2Ya4p7neoa6RM0XWLKktbuMEMvuWR4
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MDIsImlhdCI6MTY3NTE4MjAwMiwianRpIjoiZmFlMmM0OGEtODk2Zi00ZGY1LWI1ZmItNGE5MWU2MWU2YmE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieFR5bjFrSVZtSzFhNmkyODB0UF9QZyIsInNlc3Npb25fc3RhdGUiOiIyNWFiN2E0NC1kMjFmLTQ0NDMtOGI1Ni1hMTBkOTMyYWU0YmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjVhYjdhNDQtZDIxZi00NDQzLThiNTYtYTEwZDkzMmFlNGJiIn0.yH29pOUF9mhDj2Ya4p7neoa6RM0XWLKktbuMEMvuWR4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::resources::apps] Create application: ae51fcd1-83ec-4024-b332-26a5f37e5414
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot;
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ae51fcd1-83ec-4024-b332-26a5f37e5414\&quot;,\n    \&quot;uid\&quot;: \&quot;d7d25def-e74e-47c1-83b9-d7afde68ad25\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:02.840691Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;73d8eac2-3be4-4ad1-a7b6-c890a7b85af7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.891255259Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.897130636Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.897167576Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.856587171Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.856588122Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.856598412Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.856635942Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.856706644Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot;), &quot;uid&quot;: String(&quot;d7d25def-e74e-47c1-83b9-d7afde68ad25&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:02.840691Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;73d8eac2-3be4-4ad1-a7b6-c890a7b85af7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.891255259Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.897130636Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.897167576Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.856587171Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.856588122Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.856598412Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.856635942Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.856706644Z&quot;)}]}}
[2023-01-31T16:20:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:20:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ae51fcd1-83ec-4024-b332-26a5f37e5414\&quot;,\n    \&quot;uid\&quot;: \&quot;d7d25def-e74e-47c1-83b9-d7afde68ad25\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:02.840691Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7c93c951-f642-45f2-832a-bed4e151ff9e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;UIAA3zQYWBZ8\&quot;,\n        \&quot;username\&quot;: \&quot;user-ae51fcd1-83ec-4024-b332-26a5f37e5414\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.891255259Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.897130636Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.990517819Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.998229079Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.161245738Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.161267368Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.161946529Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.162030946Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot;), &quot;uid&quot;: String(&quot;d7d25def-e74e-47c1-83b9-d7afde68ad25&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:02.840691Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7c93c951-f642-45f2-832a-bed4e151ff9e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;UIAA3zQYWBZ8&quot;), &quot;username&quot;: String(&quot;user-ae51fcd1-83ec-4024-b332-26a5f37e5414&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.891255259Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.897130636Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.990517819Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.998229079Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.161245738Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.161267368Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.161946529Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.162030946Z&quot;)}]}}
[2023-01-31T16:20:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:20:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ae51fcd1-83ec-4024-b332-26a5f37e5414\&quot;,\n    \&quot;uid\&quot;: \&quot;d7d25def-e74e-47c1-83b9-d7afde68ad25\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:02.840691Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7c93c951-f642-45f2-832a-bed4e151ff9e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;UIAA3zQYWBZ8\&quot;,\n        \&quot;username\&quot;: \&quot;user-ae51fcd1-83ec-4024-b332-26a5f37e5414\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.891255259Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.897130636Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.990517819Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:02.998229079Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.161245738Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.161267368Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.161946529Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:03.162030946Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot;), &quot;uid&quot;: String(&quot;d7d25def-e74e-47c1-83b9-d7afde68ad25&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:02.840691Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7c93c951-f642-45f2-832a-bed4e151ff9e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;UIAA3zQYWBZ8&quot;), &quot;username&quot;: String(&quot;user-ae51fcd1-83ec-4024-b332-26a5f37e5414&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.891255259Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.897130636Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.990517819Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:02.998229079Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.161245738Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.161267368Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.161946529Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:03.162030946Z&quot;)}]}}
[2023-01-31T16:20:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:20:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzMDIsImlhdCI6MTY3NTE4MjAwMiwiYXV0aF90aW1lIjoxNjc1MTgxOTk5LCJqdGkiOiIyODA0NjEyNS0xZTQyLTQ3NWQtOWFmYS1kMTc4Nzk2YTg4ODQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhUeW4xa0lWbUsxYTZpMjgwdFBfUGciLCJzZXNzaW9uX3N0YXRlIjoiMjVhYjdhNDQtZDIxZi00NDQzLThiNTYtYTEwZDkzMmFlNGJiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI1YWI3YTQ0LWQyMWYtNDQ0My04YjU2LWExMGQ5MzJhZTRiYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.BtJ9Mj8V-bhy_y6REgdN9dMZ5au5rgXBPgVsn9brEE91ItV-ppHcMXzbkIR_6kEq-SX6fXb-E0ceqKdAdDigjmdiuTIPHTR7cT399GcsAUy7CmKYWsceK5hxpS_NBD4RRTTlPvMFwSc9KokRxZ5ow4GOSdQsA8anIuBbctOJ1H5GA_QEF77CMoXHYUJNpwnTfGiy9kxxu5cAqVBISRjqOpezSxs9rLTg3kkDqzibtakAEd9rWCsX5zCcsdJX9XaK9CBhV0xBEb9jYBSWTOBY6YYASXO2kBITDD7LwG5FF6QnUHsjB1c-CuB2aj42tbaQBYi5YCGjnt-Vay8me75ywQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot; &quot;device1&quot;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot; &quot;gateway1&quot;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ae51fcd1-83ec-4024-b332-26a5f37e5414&#x27;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ae51fcd1-83ec-4024-b332-26a5f37e5414&quot;
[2023-01-31T16:20:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:20:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:20:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:20:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:20:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MTAsImlhdCI6MTY3NTE4MjAxMCwianRpIjoiZDBiZDEzMmYtNTczOS00ODY5LThlZGQtZDU1NTk3Y2FmZjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTnpBMC13Ml9OTWlTWTg2Y0J3WUNwUSIsInNlc3Npb25fc3RhdGUiOiI5YTU5ODkxOS1mZDRhLTQ5MjgtYjFjNS0xOGNlN2Q2OGM5ZWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWE1OTg5MTktZmQ0YS00OTI4LWIxYzUtMThjZTdkNjhjOWVmIn0.iI_un3Oyaj3vX_2Uwv7BJC6PPHfnd5oRJtZ1zduR4KE
[2023-01-31T16:20:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:20:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MTAsImlhdCI6MTY3NTE4MjAxMCwianRpIjoiZDBiZDEzMmYtNTczOS00ODY5LThlZGQtZDU1NTk3Y2FmZjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTnpBMC13Ml9OTWlTWTg2Y0J3WUNwUSIsInNlc3Npb25fc3RhdGUiOiI5YTU5ODkxOS1mZDRhLTQ5MjgtYjFjNS0xOGNlN2Q2OGM5ZWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWE1OTg5MTktZmQ0YS00OTI4LWIxYzUtMThjZTdkNjhjOWVmIn0.iI_un3Oyaj3vX_2Uwv7BJC6PPHfnd5oRJtZ1zduR4KE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:20:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 55e533db-7da3-417d-b0f7-73f6d7532f0d
[2023-01-31T16:20:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot;
[2023-01-31T16:20:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55e533db-7da3-417d-b0f7-73f6d7532f0d\&quot;,\n    \&quot;uid\&quot;: \&quot;78466843-0acb-4045-aa8c-b7fff1a4849e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:11.596202Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;be443bc9-241c-46c6-87c6-1cff07348765\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.648290802Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.657226852Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.657274381Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.611428930Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.611429611Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.611438347Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.611471680Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.611497417Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot;), &quot;uid&quot;: String(&quot;78466843-0acb-4045-aa8c-b7fff1a4849e&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:11.596202Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;be443bc9-241c-46c6-87c6-1cff07348765&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.648290802Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.657226852Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.657274381Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.611428930Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.611429611Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.611438347Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.611471680Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.611497417Z&quot;)}]}}
[2023-01-31T16:20:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55e533db-7da3-417d-b0f7-73f6d7532f0d\&quot;,\n    \&quot;uid\&quot;: \&quot;78466843-0acb-4045-aa8c-b7fff1a4849e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:11.596202Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8da89201-f44b-4377-94c1-268cf24f1bec\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JkHkv8ObKHJ3\&quot;,\n        \&quot;username\&quot;: \&quot;user-55e533db-7da3-417d-b0f7-73f6d7532f0d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.648290802Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.657226852Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.760531473Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.767903869Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902321171Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902390810Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902424063Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902501789Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot;), &quot;uid&quot;: String(&quot;78466843-0acb-4045-aa8c-b7fff1a4849e&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:11.596202Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8da89201-f44b-4377-94c1-268cf24f1bec&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JkHkv8ObKHJ3&quot;), &quot;username&quot;: String(&quot;user-55e533db-7da3-417d-b0f7-73f6d7532f0d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.648290802Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.657226852Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.760531473Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.767903869Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902321171Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902390810Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902424063Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902501789Z&quot;)}]}}
[2023-01-31T16:20:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55e533db-7da3-417d-b0f7-73f6d7532f0d\&quot;,\n    \&quot;uid\&quot;: \&quot;78466843-0acb-4045-aa8c-b7fff1a4849e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:11.596202Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8da89201-f44b-4377-94c1-268cf24f1bec\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JkHkv8ObKHJ3\&quot;,\n        \&quot;username\&quot;: \&quot;user-55e533db-7da3-417d-b0f7-73f6d7532f0d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.648290802Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.657226852Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.760531473Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.767903869Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902321171Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902390810Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902424063Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:11.902501789Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot;), &quot;uid&quot;: String(&quot;78466843-0acb-4045-aa8c-b7fff1a4849e&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:11.596202Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8da89201-f44b-4377-94c1-268cf24f1bec&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JkHkv8ObKHJ3&quot;), &quot;username&quot;: String(&quot;user-55e533db-7da3-417d-b0f7-73f6d7532f0d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.648290802Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.657226852Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.760531473Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.767903869Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902321171Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902390810Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902424063Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:11.902501789Z&quot;)}]}}
[2023-01-31T16:20:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:20:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzMTAsImlhdCI6MTY3NTE4MjAxMCwiYXV0aF90aW1lIjoxNjc1MTgyMDA3LCJqdGkiOiJhNjE1ZTkxYS1lZDc1LTQyMzctYTdjMS1lZDgyNTAwZjE4YjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik56QTAtdzJfTk1pU1k4NmNCd1lDcFEiLCJzZXNzaW9uX3N0YXRlIjoiOWE1OTg5MTktZmQ0YS00OTI4LWIxYzUtMThjZTdkNjhjOWVmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlhNTk4OTE5LWZkNGEtNDkyOC1iMWM1LTE4Y2U3ZDY4YzllZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Fm3QgW9W7ZeZ3F69WdiKqWSWPSeJ80KCBBdZEP9AFSBeruJ9eSeUsm6-kC5HANzKJ9Dwwy7DzI-ft2w53uSva8IjxYOb3z46hVQPxS0AbmIKnhxv4iykLhg0GApRaTyrLqpQ_4uApXzIkm_tPX-czN9_N8RoQ2R-PE1ydGXJ8a_RMjEpiANt71aIiXyx31mtWJaRPCd29PnnJxw_3mml5Pmf2oqFWXK0Olofc-y-3mMftHDtxaFM3pG9tzKqBvtQYlLb7Ckhyeq5qnYL--x4LYpx9zdWBCzfPNNaxVjZaexw_zhIQHUJEWgQuLtYB-20AMIbk1X8eBa5M8a5nKxZRw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot; &quot;device1&quot;
[2023-01-31T16:20:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:13Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:20:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot; &quot;gateway1&quot;
[2023-01-31T16:20:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:13Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;55e533db-7da3-417d-b0f7-73f6d7532f0d&#x27;
[2023-01-31T16:20:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;55e533db-7da3-417d-b0f7-73f6d7532f0d&quot;
[2023-01-31T16:20:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:20:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:20:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:20:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:20:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MTksImlhdCI6MTY3NTE4MjAxOSwianRpIjoiODUzYzg3MGMtZjUwMy00ZTZmLWI0MWMtZTllNzYwZmFmNGM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYTNSZzIxc2xtV3gyejZtVDJLaVlFQSIsInNlc3Npb25fc3RhdGUiOiJkOTU0N2Q1NS01NDU2LTQzMjYtOWE0ZS1kMWFhN2Q3Y2E1ODUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDk1NDdkNTUtNTQ1Ni00MzI2LTlhNGUtZDFhYTdkN2NhNTg1In0.rNPTICUzgHo2jdfIG8YkkoJiNmiyid9V0OebGOXDpf4
[2023-01-31T16:20:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:20:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MTksImlhdCI6MTY3NTE4MjAxOSwianRpIjoiODUzYzg3MGMtZjUwMy00ZTZmLWI0MWMtZTllNzYwZmFmNGM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYTNSZzIxc2xtV3gyejZtVDJLaVlFQSIsInNlc3Npb25fc3RhdGUiOiJkOTU0N2Q1NS01NDU2LTQzMjYtOWE0ZS1kMWFhN2Q3Y2E1ODUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDk1NDdkNTUtNTQ1Ni00MzI2LTlhNGUtZDFhYTdkN2NhNTg1In0.rNPTICUzgHo2jdfIG8YkkoJiNmiyid9V0OebGOXDpf4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:20:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:20Z INFO  drogue_cloud_tests::resources::apps] Create application: f5dac58c-6b1e-447e-a68c-4705db0b00de
[2023-01-31T16:20:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot;
[2023-01-31T16:20:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f5dac58c-6b1e-447e-a68c-4705db0b00de\&quot;,\n    \&quot;uid\&quot;: \&quot;644e456b-6955-49dc-9ec9-35382b4fc732\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:20.528139Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2db1c5c4-e53e-4d7f-9204-f4bddb108c80\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563274119Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563275382Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563275753Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563276564Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563277306Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563286472Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563405385Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.563357255Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot;), &quot;uid&quot;: String(&quot;644e456b-6955-49dc-9ec9-35382b4fc732&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:20.528139Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2db1c5c4-e53e-4d7f-9204-f4bddb108c80&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563274119Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563275382Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563275753Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563276564Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563277306Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563286472Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563405385Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.563357255Z&quot;)}]}}
[2023-01-31T16:20:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f5dac58c-6b1e-447e-a68c-4705db0b00de\&quot;,\n    \&quot;uid\&quot;: \&quot;644e456b-6955-49dc-9ec9-35382b4fc732\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:20.528139Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3f5930d5-cff8-4612-b1c1-d9929129d6b7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;N4yRcYxZ2ySl\&quot;,\n        \&quot;username\&quot;: \&quot;user-f5dac58c-6b1e-447e-a68c-4705db0b00de\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.597048999Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.603407269Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.710098275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.716284624Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.866880052Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.866910048Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.867021888Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.866941096Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot;), &quot;uid&quot;: String(&quot;644e456b-6955-49dc-9ec9-35382b4fc732&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:20.528139Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3f5930d5-cff8-4612-b1c1-d9929129d6b7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;N4yRcYxZ2ySl&quot;), &quot;username&quot;: String(&quot;user-f5dac58c-6b1e-447e-a68c-4705db0b00de&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.597048999Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.603407269Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.710098275Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.716284624Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.866880052Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.866910048Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.867021888Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.866941096Z&quot;)}]}}
[2023-01-31T16:20:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f5dac58c-6b1e-447e-a68c-4705db0b00de\&quot;,\n    \&quot;uid\&quot;: \&quot;644e456b-6955-49dc-9ec9-35382b4fc732\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:20.528139Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3f5930d5-cff8-4612-b1c1-d9929129d6b7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;N4yRcYxZ2ySl\&quot;,\n        \&quot;username\&quot;: \&quot;user-f5dac58c-6b1e-447e-a68c-4705db0b00de\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.597048999Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.603407269Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.710098275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.716284624Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.866880052Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.866910048Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.867021888Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:20.866941096Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot;), &quot;uid&quot;: String(&quot;644e456b-6955-49dc-9ec9-35382b4fc732&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:20.528139Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3f5930d5-cff8-4612-b1c1-d9929129d6b7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;N4yRcYxZ2ySl&quot;), &quot;username&quot;: String(&quot;user-f5dac58c-6b1e-447e-a68c-4705db0b00de&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.597048999Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.603407269Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.710098275Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.716284624Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.866880052Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.866910048Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.867021888Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:20.866941096Z&quot;)}]}}
[2023-01-31T16:20:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:20:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzMTksImlhdCI6MTY3NTE4MjAxOSwiYXV0aF90aW1lIjoxNjc1MTgyMDE2LCJqdGkiOiJhZGJkNjM4ZS1iYTFjLTRkOWYtOWE5Yi0yZTY4NDdkMzdkODQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImEzUmcyMXNsbVd4Mno2bVQyS2lZRUEiLCJzZXNzaW9uX3N0YXRlIjoiZDk1NDdkNTUtNTQ1Ni00MzI2LTlhNGUtZDFhYTdkN2NhNTg1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ5NTQ3ZDU1LTU0NTYtNDMyNi05YTRlLWQxYWE3ZDdjYTU4NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.B_L9A3D6Utk0wfP5gKcl7_niSSLBcf5hdlOI08kXS293iFfiBJu6VPvnk-EhSKGgTZczmU-pVgkcmCqUThFlghAot6QYCv8T6aHQZN5eygKwNZYGlJY4NHUqA15m7jwBws_yjWWC8VwBvwoud78ilkNKqMEwxf9ivGPyRuzlWkrY57-h8p46pslYDyu3ReovazvjD1RxFjRr0Rn0plahvLyLhQs2DDr5DsDHwRaz2BPG88KAetE7a0VpXGCQZC_gZBOpJjI5gGxLIAt2BeokBqo8OBzkI-IzNDD5HA5ox6xcet1NiICFp8ZjrYNQpYrpOoo6riN7GKZWb3eJh0_ZmQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot; &quot;device1&quot;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot; &quot;gateway1&quot;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f5dac58c-6b1e-447e-a68c-4705db0b00de&#x27;
[2023-01-31T16:20:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f5dac58c-6b1e-447e-a68c-4705db0b00de&quot;
[2023-01-31T16:20:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:20:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:20:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:20:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:20:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MjgsImlhdCI6MTY3NTE4MjAyOCwianRpIjoiYzhjNmM1YzAtMzM4NS00YWJhLTg0NzYtMjZhZDVhZDAxMDNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQ3lwVzBxRUprUUcxbHlrS09BODFRUSIsInNlc3Npb25fc3RhdGUiOiJlOTIzZWIxYi0wODU2LTQ2MzMtOThhOS00YzdjN2Q4NmE5OGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTkyM2ViMWItMDg1Ni00NjMzLTk4YTktNGM3YzdkODZhOThkIn0.DES9WR46DPBxgKEtZdt2TM8PJA4EFH4G8_D41Tdj00E
[2023-01-31T16:20:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:20:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MjgsImlhdCI6MTY3NTE4MjAyOCwianRpIjoiYzhjNmM1YzAtMzM4NS00YWJhLTg0NzYtMjZhZDVhZDAxMDNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQ3lwVzBxRUprUUcxbHlrS09BODFRUSIsInNlc3Npb25fc3RhdGUiOiJlOTIzZWIxYi0wODU2LTQ2MzMtOThhOS00YzdjN2Q4NmE5OGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTkyM2ViMWItMDg1Ni00NjMzLTk4YTktNGM3YzdkODZhOThkIn0.DES9WR46DPBxgKEtZdt2TM8PJA4EFH4G8_D41Tdj00E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:20:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:29Z INFO  drogue_cloud_tests::resources::apps] Create application: fd6b20d5-9432-4567-9ddc-1bf33d1038d6
[2023-01-31T16:20:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot;
[2023-01-31T16:20:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6\&quot;,\n    \&quot;uid\&quot;: \&quot;af6f9465-8d14-4f46-8250-6cd33aa59ce1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:29.303206Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2a10bea1-6e67-41a1-8e88-b7762805f1df\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.353108143Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.363668220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.363711762Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.327239787Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.327240448Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.327244717Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.327288458Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.327267730Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot;), &quot;uid&quot;: String(&quot;af6f9465-8d14-4f46-8250-6cd33aa59ce1&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:29.303206Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2a10bea1-6e67-41a1-8e88-b7762805f1df&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.353108143Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.363668220Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.363711762Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.327239787Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.327240448Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.327244717Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.327288458Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.327267730Z&quot;)}]}}
[2023-01-31T16:20:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6\&quot;,\n    \&quot;uid\&quot;: \&quot;af6f9465-8d14-4f46-8250-6cd33aa59ce1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:29.303206Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;17697c6b-569e-431d-aed0-fd10a5f87066\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vIbQsm1RdDdk\&quot;,\n        \&quot;username\&quot;: \&quot;user-fd6b20d5-9432-4567-9ddc-1bf33d1038d6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.353108143Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.363668220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.467839897Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.486777573Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628497085Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628586262Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628755369Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628623072Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot;), &quot;uid&quot;: String(&quot;af6f9465-8d14-4f46-8250-6cd33aa59ce1&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:29.303206Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;17697c6b-569e-431d-aed0-fd10a5f87066&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vIbQsm1RdDdk&quot;), &quot;username&quot;: String(&quot;user-fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.353108143Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.363668220Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.467839897Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.486777573Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628497085Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628586262Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628755369Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628623072Z&quot;)}]}}
[2023-01-31T16:20:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6\&quot;,\n    \&quot;uid\&quot;: \&quot;af6f9465-8d14-4f46-8250-6cd33aa59ce1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:29.303206Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;17697c6b-569e-431d-aed0-fd10a5f87066\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vIbQsm1RdDdk\&quot;,\n        \&quot;username\&quot;: \&quot;user-fd6b20d5-9432-4567-9ddc-1bf33d1038d6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.353108143Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.363668220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.467839897Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.486777573Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628497085Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628586262Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628755369Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:29.628623072Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot;), &quot;uid&quot;: String(&quot;af6f9465-8d14-4f46-8250-6cd33aa59ce1&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:29.303206Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;17697c6b-569e-431d-aed0-fd10a5f87066&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vIbQsm1RdDdk&quot;), &quot;username&quot;: String(&quot;user-fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.353108143Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.363668220Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.467839897Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.486777573Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628497085Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628586262Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628755369Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:29.628623072Z&quot;)}]}}
[2023-01-31T16:20:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:20:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzMjgsImlhdCI6MTY3NTE4MjAyOCwiYXV0aF90aW1lIjoxNjc1MTgyMDI1LCJqdGkiOiJjYTdlODVlOC02NTM3LTRhZjctOGU4MC01NmVhNDNmZjRiNjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkN5cFcwcUVKa1FHMWx5a0tPQTgxUVEiLCJzZXNzaW9uX3N0YXRlIjoiZTkyM2ViMWItMDg1Ni00NjMzLTk4YTktNGM3YzdkODZhOThkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU5MjNlYjFiLTA4NTYtNDYzMy05OGE5LTRjN2M3ZDg2YTk4ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.NHde0clxsBV0z0ThL89LBXXQBjn9NhJPt3_QnshseGCIbSFi5hThzxeh7srvsd2SU7OCW0aDTvqamkIvP42Z_TAN6RGX4BkYvALRWTLaxDM04u5FbFGSnGbO5cGovxRzZzRn6gOqwoXG1P6DNvZiI-8AU9LWGSI1DjjyEIR4KoHZsLUTNX2oU9IXQbIK9G60ipWZvtAmldSLEhtrRuTMNlkpWy1tKgTWWT5ZMsFlknz8eLD4Ht_ArQFgZqa593fxGwOl2lE9r7OJ3PZWz88SepMUJdqkIA0ZxVdslj0l9s-cHYFT3Olk6Xnpke6i0mV4JKMX5lOiprU5_-dtuIM31A\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot; &quot;device1&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot; &quot;gateway1&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&#x27;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fd6b20d5-9432-4567-9ddc-1bf33d1038d6&quot;
[2023-01-31T16:20:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:20:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:20:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:20:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:20:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MzcsImlhdCI6MTY3NTE4MjAzNywianRpIjoiYmJjZGEzZDItZDUzZi00YmQ1LTkxNzQtN2MxYWRmMmRlZDkxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVXRJRVNfLWh0Mmo5YWV5SHdCMVg0USIsInNlc3Npb25fc3RhdGUiOiIzY2QxZWMxYi00MGExLTQzNTktYTgwNi0xYmEzNDE0YzZkZjIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2NkMWVjMWItNDBhMS00MzU5LWE4MDYtMWJhMzQxNGM2ZGYyIn0.GxLGzBXYixaQvKKohcPftaC4cCDWMl5CkILY5y9ixVM
[2023-01-31T16:20:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:20:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4MzcsImlhdCI6MTY3NTE4MjAzNywianRpIjoiYmJjZGEzZDItZDUzZi00YmQ1LTkxNzQtN2MxYWRmMmRlZDkxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVXRJRVNfLWh0Mmo5YWV5SHdCMVg0USIsInNlc3Npb25fc3RhdGUiOiIzY2QxZWMxYi00MGExLTQzNTktYTgwNi0xYmEzNDE0YzZkZjIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2NkMWVjMWItNDBhMS00MzU5LWE4MDYtMWJhMzQxNGM2ZGYyIn0.GxLGzBXYixaQvKKohcPftaC4cCDWMl5CkILY5y9ixVM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:20:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:38Z INFO  drogue_cloud_tests::resources::apps] Create application: 03eadc56-69be-4bf0-8ffa-10f5b9d55de8
[2023-01-31T16:20:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot;
[2023-01-31T16:20:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8\&quot;,\n    \&quot;uid\&quot;: \&quot;bf91b774-8da1-4f55-ae3f-e4348c9343f6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:38.829572Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;54a2d9b1-e833-4c6a-81d6-cfe0fbf4c602\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.888838176Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.894617453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.894660754Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.857369707Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.857370068Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.857377442Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.857428787Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.857403770Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot;), &quot;uid&quot;: String(&quot;bf91b774-8da1-4f55-ae3f-e4348c9343f6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:38.829572Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;54a2d9b1-e833-4c6a-81d6-cfe0fbf4c602&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.888838176Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.894617453Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.894660754Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.857369707Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.857370068Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.857377442Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.857428787Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.857403770Z&quot;)}]}}
[2023-01-31T16:20:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:20:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8\&quot;,\n    \&quot;uid\&quot;: \&quot;bf91b774-8da1-4f55-ae3f-e4348c9343f6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:38.829572Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;41f2eded-4c35-4f6c-ada9-52c1293d61cf\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FfZmQDFb0DEJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-03eadc56-69be-4bf0-8ffa-10f5b9d55de8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.888838176Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.894617453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.973288173Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.979613273Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.127145559Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.127213867Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.128656154Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.128481127Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot;), &quot;uid&quot;: String(&quot;bf91b774-8da1-4f55-ae3f-e4348c9343f6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:38.829572Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;41f2eded-4c35-4f6c-ada9-52c1293d61cf&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FfZmQDFb0DEJ&quot;), &quot;username&quot;: String(&quot;user-03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.888838176Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.894617453Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.973288173Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.979613273Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.127145559Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.127213867Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.128656154Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.128481127Z&quot;)}]}}
[2023-01-31T16:20:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:20:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8\&quot;,\n    \&quot;uid\&quot;: \&quot;bf91b774-8da1-4f55-ae3f-e4348c9343f6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:38.829572Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;41f2eded-4c35-4f6c-ada9-52c1293d61cf\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FfZmQDFb0DEJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-03eadc56-69be-4bf0-8ffa-10f5b9d55de8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.888838176Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.894617453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.973288173Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:38.979613273Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.127145559Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.127213867Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.128656154Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:39.128481127Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot;), &quot;uid&quot;: String(&quot;bf91b774-8da1-4f55-ae3f-e4348c9343f6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:38.829572Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;41f2eded-4c35-4f6c-ada9-52c1293d61cf&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FfZmQDFb0DEJ&quot;), &quot;username&quot;: String(&quot;user-03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.888838176Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.894617453Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.973288173Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:38.979613273Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.127145559Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.127213867Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.128656154Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:39.128481127Z&quot;)}]}}
[2023-01-31T16:20:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:20:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzMzcsImlhdCI6MTY3NTE4MjAzNywiYXV0aF90aW1lIjoxNjc1MTgyMDM0LCJqdGkiOiI4N2E4ZTdmYy0zMTRjLTQ2MjYtYjcyNS0wYTdiMDU4NGI0YjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlV0SUVTXy1odDJqOWFleUh3QjFYNFEiLCJzZXNzaW9uX3N0YXRlIjoiM2NkMWVjMWItNDBhMS00MzU5LWE4MDYtMWJhMzQxNGM2ZGYyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjZDFlYzFiLTQwYTEtNDM1OS1hODA2LTFiYTM0MTRjNmRmMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.vtMtBUCHSM-HWwKRz5wLQRiQThVjJB5T2w8BGnW_OBuD9dRgPZNcWYgZl1s0voC28zTMvynOLwKryfJpjUXuCGGYea0Bc_bLFFoPpAldH4po90RavSKorvoQKoqwXxNev2Z8lpwCPIMhdqPyf0DAFSUtfopjFerxWVALycNXY8SRe444Ti614KqcyBa6cRR5PqgM7FwyS7K3LIkQijNnGbkql9wTtikNAj1rfmxQAvrgjLMj-UmORvxzI9e209xBNCPgrDYg_IEtJpMO_KfAc8JENG3JBOJcS7o7mFrS0kQFK32r6mbv1YIysEz4EaQGsjN9xooFi3fHkwoF9GpWbw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot; &quot;device1&quot;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot; &quot;gateway1&quot;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&#x27;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;03eadc56-69be-4bf0-8ffa-10f5b9d55de8&quot;
[2023-01-31T16:20:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:20:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:20:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:20:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:20:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NDYsImlhdCI6MTY3NTE4MjA0NiwianRpIjoiOTFkZTIwZjQtYzI4Ni00ZGI0LWFjOGUtOWQzODRiZGJiZTI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRzR5eWVZSzB2dVJOMENWbFd3R1hLZyIsInNlc3Npb25fc3RhdGUiOiI1ODVlMGMxZC01MzM4LTQ5NGEtOWEwNS1kOTMxYTVlNWYxOTkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTg1ZTBjMWQtNTMzOC00OTRhLTlhMDUtZDkzMWE1ZTVmMTk5In0.VeO-AMUGSJ7J1J52pxbtR3QN3cjA91A2txUt5RKF-9M
[2023-01-31T16:20:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:20:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NDYsImlhdCI6MTY3NTE4MjA0NiwianRpIjoiOTFkZTIwZjQtYzI4Ni00ZGI0LWFjOGUtOWQzODRiZGJiZTI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRzR5eWVZSzB2dVJOMENWbFd3R1hLZyIsInNlc3Npb25fc3RhdGUiOiI1ODVlMGMxZC01MzM4LTQ5NGEtOWEwNS1kOTMxYTVlNWYxOTkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTg1ZTBjMWQtNTMzOC00OTRhLTlhMDUtZDkzMWE1ZTVmMTk5In0.VeO-AMUGSJ7J1J52pxbtR3QN3cjA91A2txUt5RKF-9M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:20:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:47Z INFO  drogue_cloud_tests::resources::apps] Create application: 79501b39-b22e-4841-bf60-df564ea9d503
[2023-01-31T16:20:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot;
[2023-01-31T16:20:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;79501b39-b22e-4841-bf60-df564ea9d503\&quot;,\n    \&quot;uid\&quot;: \&quot;127adb39-1bff-47a5-9a8c-d2c9d13d1178\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:47.592821Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;376c19b5-b79e-4311-ba63-a86aff0ab043\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.639377635Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.646633653Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.646671464Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.605631676Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.605632618Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.605653998Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.605692840Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.605731563Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;79501b39-b22e-4841-bf60-df564ea9d503&quot;), &quot;uid&quot;: String(&quot;127adb39-1bff-47a5-9a8c-d2c9d13d1178&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:47.592821Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;376c19b5-b79e-4311-ba63-a86aff0ab043&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.639377635Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.646633653Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.646671464Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.605631676Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.605632618Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.605653998Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.605692840Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.605731563Z&quot;)}]}}
[2023-01-31T16:20:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;79501b39-b22e-4841-bf60-df564ea9d503\&quot;,\n    \&quot;uid\&quot;: \&quot;127adb39-1bff-47a5-9a8c-d2c9d13d1178\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:47.592821Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;093a145b-a6c6-4ecc-88d2-5af68a1c6509\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;umYgXpjCJcyQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-79501b39-b22e-4841-bf60-df564ea9d503\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.639377635Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.646633653Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.732116466Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.738724624Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.854963853Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.854977819Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.855004970Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.855048241Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;79501b39-b22e-4841-bf60-df564ea9d503&quot;), &quot;uid&quot;: String(&quot;127adb39-1bff-47a5-9a8c-d2c9d13d1178&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:47.592821Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;093a145b-a6c6-4ecc-88d2-5af68a1c6509&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;umYgXpjCJcyQ&quot;), &quot;username&quot;: String(&quot;user-79501b39-b22e-4841-bf60-df564ea9d503&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.639377635Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.646633653Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.732116466Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.738724624Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.854963853Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.854977819Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.855004970Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.855048241Z&quot;)}]}}
[2023-01-31T16:20:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;79501b39-b22e-4841-bf60-df564ea9d503\&quot;,\n    \&quot;uid\&quot;: \&quot;127adb39-1bff-47a5-9a8c-d2c9d13d1178\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:47.592821Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;093a145b-a6c6-4ecc-88d2-5af68a1c6509\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;umYgXpjCJcyQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-79501b39-b22e-4841-bf60-df564ea9d503\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.639377635Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.646633653Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.732116466Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.738724624Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.854963853Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.854977819Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.855004970Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:47.855048241Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;79501b39-b22e-4841-bf60-df564ea9d503&quot;), &quot;uid&quot;: String(&quot;127adb39-1bff-47a5-9a8c-d2c9d13d1178&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:47.592821Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;093a145b-a6c6-4ecc-88d2-5af68a1c6509&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;umYgXpjCJcyQ&quot;), &quot;username&quot;: String(&quot;user-79501b39-b22e-4841-bf60-df564ea9d503&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.639377635Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.646633653Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.732116466Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.738724624Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.854963853Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.854977819Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.855004970Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:47.855048241Z&quot;)}]}}
[2023-01-31T16:20:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:20:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzNDYsImlhdCI6MTY3NTE4MjA0NiwiYXV0aF90aW1lIjoxNjc1MTgyMDQ0LCJqdGkiOiIxNzk0M2YzMi0zOWY0LTQ1ODgtOGU0ZC1hNjUwMWY1ZGQ3NDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikc0eXllWUswdnVSTjBDVmxXd0dYS2ciLCJzZXNzaW9uX3N0YXRlIjoiNTg1ZTBjMWQtNTMzOC00OTRhLTlhMDUtZDkzMWE1ZTVmMTk5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU4NWUwYzFkLTUzMzgtNDk0YS05YTA1LWQ5MzFhNWU1ZjE5OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.21y_Ge-DAhlXWvpWcMjlFeNB1oIYy41_LZs_jUS_h-8SNl-vZkDIYZUQT2QnEOktOr072jI0LAZMaVMTdLy3HdWuRKcRnaXiYpkkuFP1cZdj_gzAM3ElLP3iOPKlcE6KsyXESnJJtNjQT23h4uf086KpZfwifLSQ6u439LjTG3J_2V4vzwG0wNZDniACz04ftf-CzZPvTnr-EQQT2aAK61mdMViA3DAfQwsd9WD5ahvqTIk7ewpCdcQUP0mL7s_8mI3jGKXEhY6VPjhJvU4PlJvMK38RXQHc-yTNXrfb_jW2bjGbSsDigXl8SWlhmWJvIe_MVQk3cx4lfHYe9rD2Kw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:20:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot; &quot;device1&quot;
[2023-01-31T16:20:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:20:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot; &quot;gateway1&quot;
[2023-01-31T16:20:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;79501b39-b22e-4841-bf60-df564ea9d503&#x27;
[2023-01-31T16:20:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;79501b39-b22e-4841-bf60-df564ea9d503&quot;
[2023-01-31T16:20:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:20:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:20:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:20:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:20:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:20:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NTUsImlhdCI6MTY3NTE4MjA1NSwianRpIjoiMmFmZmUxNDYtYzExZC00ZTk3LTgzZDUtODY5MjIwYmY3NDQzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibHN2Wll3MDVoVl84b1VuTmdYdWFUdyIsInNlc3Npb25fc3RhdGUiOiI3MGNkYTk4MS1kMGI3LTQyYWItODcwOS1jOGQxN2RmOTlkYjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzBjZGE5ODEtZDBiNy00MmFiLTg3MDktYzhkMTdkZjk5ZGI1In0.cq-p9wUrrUSoE_sCoFEYbMf3jiCjNGw-fR6vrfEU1J4
[2023-01-31T16:20:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:20:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NTUsImlhdCI6MTY3NTE4MjA1NSwianRpIjoiMmFmZmUxNDYtYzExZC00ZTk3LTgzZDUtODY5MjIwYmY3NDQzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibHN2Wll3MDVoVl84b1VuTmdYdWFUdyIsInNlc3Npb25fc3RhdGUiOiI3MGNkYTk4MS1kMGI3LTQyYWItODcwOS1jOGQxN2RmOTlkYjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzBjZGE5ODEtZDBiNy00MmFiLTg3MDktYzhkMTdkZjk5ZGI1In0.cq-p9wUrrUSoE_sCoFEYbMf3jiCjNGw-fR6vrfEU1J4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:20:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:56Z INFO  drogue_cloud_tests::resources::apps] Create application: 62bc3ed4-af81-458e-bb13-8944737edb3c
[2023-01-31T16:20:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot;
[2023-01-31T16:20:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;62bc3ed4-af81-458e-bb13-8944737edb3c\&quot;,\n    \&quot;uid\&quot;: \&quot;e8927e94-ee65-4405-ac78-66702a26d7ea\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:56.410042Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f267d0b0-111e-4217-bbb2-bb1b8e6007b1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.472273703Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.482242816Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.482307147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.433398231Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.433398672Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.433443997Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.433591362Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.433464946Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot;), &quot;uid&quot;: String(&quot;e8927e94-ee65-4405-ac78-66702a26d7ea&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:56.410042Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f267d0b0-111e-4217-bbb2-bb1b8e6007b1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.472273703Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.482242816Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.482307147Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.433398231Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.433398672Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.433443997Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.433591362Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.433464946Z&quot;)}]}}
[2023-01-31T16:20:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;62bc3ed4-af81-458e-bb13-8944737edb3c\&quot;,\n    \&quot;uid\&quot;: \&quot;e8927e94-ee65-4405-ac78-66702a26d7ea\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:56.410042Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;97a59b4d-f498-40f6-bb04-cf6d679c5ab4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VOmiWZki1Uxv\&quot;,\n        \&quot;username\&quot;: \&quot;user-62bc3ed4-af81-458e-bb13-8944737edb3c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.472273703Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.482242816Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.616082554Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.639672109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797554809Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797584044Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797680155Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797614682Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot;), &quot;uid&quot;: String(&quot;e8927e94-ee65-4405-ac78-66702a26d7ea&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:56.410042Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;97a59b4d-f498-40f6-bb04-cf6d679c5ab4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VOmiWZki1Uxv&quot;), &quot;username&quot;: String(&quot;user-62bc3ed4-af81-458e-bb13-8944737edb3c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.472273703Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.482242816Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.616082554Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.639672109Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797554809Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797584044Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797680155Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797614682Z&quot;)}]}}
[2023-01-31T16:20:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;62bc3ed4-af81-458e-bb13-8944737edb3c\&quot;,\n    \&quot;uid\&quot;: \&quot;e8927e94-ee65-4405-ac78-66702a26d7ea\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:20:56.410042Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;97a59b4d-f498-40f6-bb04-cf6d679c5ab4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VOmiWZki1Uxv\&quot;,\n        \&quot;username\&quot;: \&quot;user-62bc3ed4-af81-458e-bb13-8944737edb3c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.472273703Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.482242816Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.616082554Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.639672109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797554809Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797584044Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797680155Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:20:56.797614682Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot;), &quot;uid&quot;: String(&quot;e8927e94-ee65-4405-ac78-66702a26d7ea&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:20:56.410042Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;97a59b4d-f498-40f6-bb04-cf6d679c5ab4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VOmiWZki1Uxv&quot;), &quot;username&quot;: String(&quot;user-62bc3ed4-af81-458e-bb13-8944737edb3c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.472273703Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.482242816Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.616082554Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.639672109Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797554809Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797584044Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797680155Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:20:56.797614682Z&quot;)}]}}
[2023-01-31T16:20:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:20:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzNTUsImlhdCI6MTY3NTE4MjA1NSwiYXV0aF90aW1lIjoxNjc1MTgyMDUyLCJqdGkiOiJkOTU2ZjRlYi1lNmRjLTQyNGQtYjk4Yy03NDc2YjZiMGY4OWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImxzdlpZdzA1aFZfOG9Vbk5nWHVhVHciLCJzZXNzaW9uX3N0YXRlIjoiNzBjZGE5ODEtZDBiNy00MmFiLTg3MDktYzhkMTdkZjk5ZGI1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcwY2RhOTgxLWQwYjctNDJhYi04NzA5LWM4ZDE3ZGY5OWRiNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.DdusiCMBt5btyUXRRjNG95pG4EkS7QyFYUVNCZUmKsf1XwFUzk0kcT2UwtT9s6GiAOAiW8L8EG9fSHHcpl87avdPv8EebvbwO8c6ryhgTTHTUNPsnL2ks-3wUXQR1CesFTuVAufJUEjLrL8riCCxESUdDdNNIXr36j7iXCJXsmhVDREWkHRwIGgm8whAl1K_NfTKF3cxvWRIXQvRGbO8SHNipbu9Qc0vatz6yvXy2lZJ2nl-6ovZUzDH2zJsbzlLwM4GiLVmigE-GoNTjWNZhuqQz27ZdehTEYc7zJp4xL9qqFj17e_XvaMYtFejLSHnfJFDZI6Wy27WIHCeBbrviA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot; &quot;device1&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot; &quot;gateway1&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;62bc3ed4-af81-458e-bb13-8944737edb3c&#x27;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;62bc3ed4-af81-458e-bb13-8944737edb3c&quot;
[2023-01-31T16:20:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:21:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:21:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:21:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:21:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NjQsImlhdCI6MTY3NTE4MjA2NCwianRpIjoiODUwOWUyZTItYWZkNS00Y2NkLWEyYTctMDk4ODE5YmM0YThjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTzhXemRrSENzX1F6ZUxSZmx5UkR4dyIsInNlc3Npb25fc3RhdGUiOiJiZGE5OTBiYi0yZDQ2LTQ5YmUtYTgyYy05NmNiYTIwODVmYjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYmRhOTkwYmItMmQ0Ni00OWJlLWE4MmMtOTZjYmEyMDg1ZmI5In0.lSJaD-fuYF2T-8_Ckl9YsM0ztj_lg5I6x40KnSVazOk
[2023-01-31T16:21:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:21:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NjQsImlhdCI6MTY3NTE4MjA2NCwianRpIjoiODUwOWUyZTItYWZkNS00Y2NkLWEyYTctMDk4ODE5YmM0YThjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTzhXemRrSENzX1F6ZUxSZmx5UkR4dyIsInNlc3Npb25fc3RhdGUiOiJiZGE5OTBiYi0yZDQ2LTQ5YmUtYTgyYy05NmNiYTIwODVmYjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYmRhOTkwYmItMmQ0Ni00OWJlLWE4MmMtOTZjYmEyMDg1ZmI5In0.lSJaD-fuYF2T-8_Ckl9YsM0ztj_lg5I6x40KnSVazOk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:21:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:05Z INFO  drogue_cloud_tests::resources::apps] Create application: cf8027a6-6f2e-440c-ad4c-9170335f7187
[2023-01-31T16:21:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot;
[2023-01-31T16:21:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;cf8027a6-6f2e-440c-ad4c-9170335f7187\&quot;,\n    \&quot;uid\&quot;: \&quot;8999b50a-3726-453a-9678-a5d9ac3b7d92\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:05.451245Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c9ae7471-6b74-43a7-a770-2ade633f7dee\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.495981041Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.502342709Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.502388924Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.466462306Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.466463067Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.466516909Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.466643815Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.466701143Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot;), &quot;uid&quot;: String(&quot;8999b50a-3726-453a-9678-a5d9ac3b7d92&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:05.451245Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c9ae7471-6b74-43a7-a770-2ade633f7dee&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.495981041Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.502342709Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.502388924Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.466462306Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.466463067Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.466516909Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.466643815Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.466701143Z&quot;)}]}}
[2023-01-31T16:21:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;cf8027a6-6f2e-440c-ad4c-9170335f7187\&quot;,\n    \&quot;uid\&quot;: \&quot;8999b50a-3726-453a-9678-a5d9ac3b7d92\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:05.451245Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6649bd8e-b821-4ebd-9423-b04b0da90e33\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;C8IPRFjjzUig\&quot;,\n        \&quot;username\&quot;: \&quot;user-cf8027a6-6f2e-440c-ad4c-9170335f7187\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.495981041Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.502342709Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.604188394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.611607359Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742281890Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742304702Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742336552Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742411692Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot;), &quot;uid&quot;: String(&quot;8999b50a-3726-453a-9678-a5d9ac3b7d92&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:05.451245Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6649bd8e-b821-4ebd-9423-b04b0da90e33&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;C8IPRFjjzUig&quot;), &quot;username&quot;: String(&quot;user-cf8027a6-6f2e-440c-ad4c-9170335f7187&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.495981041Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.502342709Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.604188394Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.611607359Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742281890Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742304702Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742336552Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742411692Z&quot;)}]}}
[2023-01-31T16:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;cf8027a6-6f2e-440c-ad4c-9170335f7187\&quot;,\n    \&quot;uid\&quot;: \&quot;8999b50a-3726-453a-9678-a5d9ac3b7d92\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:05.451245Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6649bd8e-b821-4ebd-9423-b04b0da90e33\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;C8IPRFjjzUig\&quot;,\n        \&quot;username\&quot;: \&quot;user-cf8027a6-6f2e-440c-ad4c-9170335f7187\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.495981041Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.502342709Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.604188394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.611607359Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742281890Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742304702Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742336552Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:05.742411692Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot;), &quot;uid&quot;: String(&quot;8999b50a-3726-453a-9678-a5d9ac3b7d92&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:05.451245Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6649bd8e-b821-4ebd-9423-b04b0da90e33&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;C8IPRFjjzUig&quot;), &quot;username&quot;: String(&quot;user-cf8027a6-6f2e-440c-ad4c-9170335f7187&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.495981041Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.502342709Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.604188394Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.611607359Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742281890Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742304702Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742336552Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:05.742411692Z&quot;)}]}}
[2023-01-31T16:21:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:21:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzNjQsImlhdCI6MTY3NTE4MjA2NCwiYXV0aF90aW1lIjoxNjc1MTgyMDYxLCJqdGkiOiJjYzUwMjhmMy0zYjdhLTQwMWMtYjYwNC1kMDY0ODA4NGZiM2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik84V3pka0hDc19RemVMUmZseVJEeHciLCJzZXNzaW9uX3N0YXRlIjoiYmRhOTkwYmItMmQ0Ni00OWJlLWE4MmMtOTZjYmEyMDg1ZmI5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkYTk5MGJiLTJkNDYtNDliZS1hODJjLTk2Y2JhMjA4NWZiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.xe0M8TUzk3LCfX83wO0XBiwk_YOlCZPWp1DqPMhJI6tGUk2h2KJ-aUIkRFr4RXzR0b_1vlYeYRrCSOXtlemgLACSm7C7-Du8EQ5uS4_SvY7dEXC83TeIcI6vPDh9Ec_XjG7dcdolJRlz_68bl3KDmH7YI5xRuWyQVAIvRNviFzbgqY75Jh2wrgdvu5NKbrWkEzkkdjtG9TXnrPIUjMIE7_9EQRevs8nRLdRClQ3Wc0Q6VSzcM1zSMpF_M9CfdnDkecIpVAFr7B5qnIkBO53mXM79D9vLrBrOi3jC4NGbv4v9axtk7H3i8okI0QKdOYipvv19GhvesWyQS-2viPwMbQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot; &quot;device1&quot;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot; &quot;gateway1&quot;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;cf8027a6-6f2e-440c-ad4c-9170335f7187&#x27;
[2023-01-31T16:21:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;cf8027a6-6f2e-440c-ad4c-9170335f7187&quot;
[2023-01-31T16:21:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:21:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:21:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:21:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:21:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NzMsImlhdCI6MTY3NTE4MjA3MywianRpIjoiYjgyMDEzYjMtY2JjOS00ZjlkLTllZDAtMjVjYzdjOWE2ZjI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicWRLUFE3eXdzSDNhTUNReTlYLVVIdyIsInNlc3Npb25fc3RhdGUiOiI2MThmYTU3YS01NTg3LTQwZTgtOWNkMS00MDhlM2M3MWJmMGMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjE4ZmE1N2EtNTU4Ny00MGU4LTljZDEtNDA4ZTNjNzFiZjBjIn0.LYKl6MBwhpkIdSE3uVADN4kAfDAZZnToMW-qFdudqxI
[2023-01-31T16:21:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:21:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4NzMsImlhdCI6MTY3NTE4MjA3MywianRpIjoiYjgyMDEzYjMtY2JjOS00ZjlkLTllZDAtMjVjYzdjOWE2ZjI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicWRLUFE3eXdzSDNhTUNReTlYLVVIdyIsInNlc3Npb25fc3RhdGUiOiI2MThmYTU3YS01NTg3LTQwZTgtOWNkMS00MDhlM2M3MWJmMGMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjE4ZmE1N2EtNTU4Ny00MGU4LTljZDEtNDA4ZTNjNzFiZjBjIn0.LYKl6MBwhpkIdSE3uVADN4kAfDAZZnToMW-qFdudqxI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:21:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:14Z INFO  drogue_cloud_tests::resources::apps] Create application: 3e66f1be-976e-4869-a67a-f8755549dc68
[2023-01-31T16:21:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot;
[2023-01-31T16:21:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3e66f1be-976e-4869-a67a-f8755549dc68\&quot;,\n    \&quot;uid\&quot;: \&quot;c619ba10-f983-4637-8c4f-7ff3b6cd4897\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:14.619946Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2e88448c-ea4b-446a-8136-e5a9223c1cca\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.664463080Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.670142682Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.670187806Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.633862121Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.633862652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.633910411Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.633942521Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.633986634Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot;), &quot;uid&quot;: String(&quot;c619ba10-f983-4637-8c4f-7ff3b6cd4897&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:14.619946Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2e88448c-ea4b-446a-8136-e5a9223c1cca&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.664463080Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.670142682Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.670187806Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.633862121Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.633862652Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.633910411Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.633942521Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.633986634Z&quot;)}]}}
[2023-01-31T16:21:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3e66f1be-976e-4869-a67a-f8755549dc68\&quot;,\n    \&quot;uid\&quot;: \&quot;c619ba10-f983-4637-8c4f-7ff3b6cd4897\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:14.619946Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e831931b-fd41-40cf-a746-ca9c57541ad8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jTHTZVzHqwRm\&quot;,\n        \&quot;username\&quot;: \&quot;user-3e66f1be-976e-4869-a67a-f8755549dc68\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.664463080Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.670142682Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.764273773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.771057340Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046210722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046320198Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046361105Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046914449Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot;), &quot;uid&quot;: String(&quot;c619ba10-f983-4637-8c4f-7ff3b6cd4897&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:14.619946Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e831931b-fd41-40cf-a746-ca9c57541ad8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jTHTZVzHqwRm&quot;), &quot;username&quot;: String(&quot;user-3e66f1be-976e-4869-a67a-f8755549dc68&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.664463080Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.670142682Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.764273773Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.771057340Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046210722Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046320198Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046361105Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046914449Z&quot;)}]}}
[2023-01-31T16:21:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3e66f1be-976e-4869-a67a-f8755549dc68\&quot;,\n    \&quot;uid\&quot;: \&quot;c619ba10-f983-4637-8c4f-7ff3b6cd4897\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:14.619946Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e831931b-fd41-40cf-a746-ca9c57541ad8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jTHTZVzHqwRm\&quot;,\n        \&quot;username\&quot;: \&quot;user-3e66f1be-976e-4869-a67a-f8755549dc68\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.664463080Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.670142682Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.764273773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:14.771057340Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046210722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046320198Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046361105Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:15.046914449Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot;), &quot;uid&quot;: String(&quot;c619ba10-f983-4637-8c4f-7ff3b6cd4897&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:14.619946Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e831931b-fd41-40cf-a746-ca9c57541ad8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jTHTZVzHqwRm&quot;), &quot;username&quot;: String(&quot;user-3e66f1be-976e-4869-a67a-f8755549dc68&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.664463080Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.670142682Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.764273773Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:14.771057340Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046210722Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046320198Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046361105Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:15.046914449Z&quot;)}]}}
[2023-01-31T16:21:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:21:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzNzQsImlhdCI6MTY3NTE4MjA3NCwiYXV0aF90aW1lIjoxNjc1MTgyMDcwLCJqdGkiOiJlMWZhNTM2Yi0yZjMyLTQyN2QtOTVkOC01NzIzOTE1OGUyODYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InFkS1BRN3l3c0gzYU1DUXk5WC1VSHciLCJzZXNzaW9uX3N0YXRlIjoiNjE4ZmE1N2EtNTU4Ny00MGU4LTljZDEtNDA4ZTNjNzFiZjBjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYxOGZhNTdhLTU1ODctNDBlOC05Y2QxLTQwOGUzYzcxYmYwYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.CiQFhyHOQxDN47C33-tveBgU7GnDvgjhax17qNJP-alhvwcPgQH_3llBzGAuF3ciZH_uj1qMtjqtgYvkMasrQCtZvmk5GY-qIpCxMGUCGzr7F-deokhActCmvLUnjk__x70o2QRTeagF0Bv6fMc-ft5ZAY57NbWtrBgO942gZ4VtqSCDxYVyUa5ULPeHS043s8ui5-osdNtpiBoSENiqX1WM2tRz6aOJTHPtxJPYhxOXbo_pFgZoYJ_VZwlSFgSmnA_4RtDhFpzTI-iYEO0j8g1-PkCYAaPBthXegSXara0lm4ghaenhgYwqM4sFnAnIYQtlc8aWRHMUa3RBK_5OnQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot; &quot;device1&quot;
[2023-01-31T16:21:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:21:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot; &quot;gateway1&quot;
[2023-01-31T16:21:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3e66f1be-976e-4869-a67a-f8755549dc68&#x27;
[2023-01-31T16:21:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3e66f1be-976e-4869-a67a-f8755549dc68&quot;
[2023-01-31T16:21:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:21:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:21:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:21:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:21:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4ODIsImlhdCI6MTY3NTE4MjA4MiwianRpIjoiZDY4ZDA3NzEtNzA0Ny00MTU1LTlhY2ItMjQ0NDI1ZTQyYmJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVEM1NUZSNnFGV1hwbGxPZmxHck9RUSIsInNlc3Npb25fc3RhdGUiOiJhZTdiOGM4OS1mZDcxLTQ2OTYtODgyYy1lMzlmYzhjMmE2YTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWU3YjhjODktZmQ3MS00Njk2LTg4MmMtZTM5ZmM4YzJhNmE1In0.62vbUEWOEJhM-mdmG4oJlY_49AuLhif5XgBY_4JSaRk
[2023-01-31T16:21:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:21:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4ODIsImlhdCI6MTY3NTE4MjA4MiwianRpIjoiZDY4ZDA3NzEtNzA0Ny00MTU1LTlhY2ItMjQ0NDI1ZTQyYmJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVEM1NUZSNnFGV1hwbGxPZmxHck9RUSIsInNlc3Npb25fc3RhdGUiOiJhZTdiOGM4OS1mZDcxLTQ2OTYtODgyYy1lMzlmYzhjMmE2YTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWU3YjhjODktZmQ3MS00Njk2LTg4MmMtZTM5ZmM4YzJhNmE1In0.62vbUEWOEJhM-mdmG4oJlY_49AuLhif5XgBY_4JSaRk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:21:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:23Z INFO  drogue_cloud_tests::resources::apps] Create application: c49b2b46-86fa-47c2-9747-6992574c0a43
[2023-01-31T16:21:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot;
[2023-01-31T16:21:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c49b2b46-86fa-47c2-9747-6992574c0a43\&quot;,\n    \&quot;uid\&quot;: \&quot;3af9b40a-5942-4d1a-b894-c7574ffd506d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:23.544934Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e05509b8-e848-428a-9bbb-8a50af0fbf3c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.598276445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.604333353Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.604370683Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.571142179Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.571142700Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.571147900Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.571197603Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.571171204Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot;), &quot;uid&quot;: String(&quot;3af9b40a-5942-4d1a-b894-c7574ffd506d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:23.544934Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e05509b8-e848-428a-9bbb-8a50af0fbf3c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.598276445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.604333353Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.604370683Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.571142179Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.571142700Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.571147900Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.571197603Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.571171204Z&quot;)}]}}
[2023-01-31T16:21:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c49b2b46-86fa-47c2-9747-6992574c0a43\&quot;,\n    \&quot;uid\&quot;: \&quot;3af9b40a-5942-4d1a-b894-c7574ffd506d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:23.544934Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2ae8648f-cb25-4545-a3ff-3601b29c2807\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;litdzan7K2se\&quot;,\n        \&quot;username\&quot;: \&quot;user-c49b2b46-86fa-47c2-9747-6992574c0a43\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.598276445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.604333353Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.701794375Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.718505247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.857657457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.857823207Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.858015217Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.857857011Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot;), &quot;uid&quot;: String(&quot;3af9b40a-5942-4d1a-b894-c7574ffd506d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:23.544934Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2ae8648f-cb25-4545-a3ff-3601b29c2807&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;litdzan7K2se&quot;), &quot;username&quot;: String(&quot;user-c49b2b46-86fa-47c2-9747-6992574c0a43&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.598276445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.604333353Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.701794375Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.718505247Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.857657457Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.857823207Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.858015217Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.857857011Z&quot;)}]}}
[2023-01-31T16:21:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c49b2b46-86fa-47c2-9747-6992574c0a43\&quot;,\n    \&quot;uid\&quot;: \&quot;3af9b40a-5942-4d1a-b894-c7574ffd506d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:23.544934Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2ae8648f-cb25-4545-a3ff-3601b29c2807\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;litdzan7K2se\&quot;,\n        \&quot;username\&quot;: \&quot;user-c49b2b46-86fa-47c2-9747-6992574c0a43\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.598276445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.604333353Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.701794375Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.718505247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.857657457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.857823207Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.858015217Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:23.857857011Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot;), &quot;uid&quot;: String(&quot;3af9b40a-5942-4d1a-b894-c7574ffd506d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:23.544934Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2ae8648f-cb25-4545-a3ff-3601b29c2807&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;litdzan7K2se&quot;), &quot;username&quot;: String(&quot;user-c49b2b46-86fa-47c2-9747-6992574c0a43&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.598276445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.604333353Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.701794375Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.718505247Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.857657457Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.857823207Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.858015217Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:23.857857011Z&quot;)}]}}
[2023-01-31T16:21:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:21:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzODIsImlhdCI6MTY3NTE4MjA4MiwiYXV0aF90aW1lIjoxNjc1MTgyMDc5LCJqdGkiOiI5MmJiMzU2Zi05YzQ3LTRmM2UtYTJlNi03Yjk4NTAwNWZmNjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRDNTVGUjZxRldYcGxsT2ZsR3JPUVEiLCJzZXNzaW9uX3N0YXRlIjoiYWU3YjhjODktZmQ3MS00Njk2LTg4MmMtZTM5ZmM4YzJhNmE1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFlN2I4Yzg5LWZkNzEtNDY5Ni04ODJjLWUzOWZjOGMyYTZhNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.qFRkebX9GXZkjiICyTRd6Lc7S_fsr09cAVt1O8mwo0PDsaWjlVopmr93t-BCZp-EGE_6orokG6C7LvhvsVQDFaOc330-J3lMkD7uBpdQti2y7cTHkFR7r9_g1xemRRtAPDwOPNYDrn6LJg3j1Itsmxj4yybLzssWizfSPGQbE4RkYLqQhqaxrVQP4caH578bL634Uhbo9Gj_qlnCSGAd0IoEit4qN2g7q7xAAlDjIkJzClB0a3xWsyP_zAcf1iM6Ami_vHr9Fldnd1V2LN0xAYBL2ZBcwnlsP0TMPlDDaYVMTE6RnDCwy8GTMBVZBKVzoQqK9mXtYpVCx0iiNeDkSA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot; &quot;device1&quot;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:21:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot; &quot;gateway1&quot;
[2023-01-31T16:21:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c49b2b46-86fa-47c2-9747-6992574c0a43&#x27;
[2023-01-31T16:21:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c49b2b46-86fa-47c2-9747-6992574c0a43&quot;
[2023-01-31T16:21:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_1

**Duration**: 10s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:21:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:21:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:21:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:21:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4OTMsImlhdCI6MTY3NTE4MjA5MywianRpIjoiMWQ2MzZlZGMtODFiZC00ODA4LWI2OTYtYTNjOTMzZWJlN2QyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQlV4QldjaGx1QTdHR21ITVk5bklSQSIsInNlc3Npb25fc3RhdGUiOiJjNzU1MTJlNS02N2I4LTRmOGQtOTY5My04MzBhNGQ2ZjVhMzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzc1NTEyZTUtNjdiOC00ZjhkLTk2OTMtODMwYTRkNmY1YTMwIn0.aq4fJH_xMnRxEA8IMzbJL4QUemeutvHUiXq2c-ihB0c
[2023-01-31T16:21:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:21:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM4OTMsImlhdCI6MTY3NTE4MjA5MywianRpIjoiMWQ2MzZlZGMtODFiZC00ODA4LWI2OTYtYTNjOTMzZWJlN2QyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQlV4QldjaGx1QTdHR21ITVk5bklSQSIsInNlc3Npb25fc3RhdGUiOiJjNzU1MTJlNS02N2I4LTRmOGQtOTY5My04MzBhNGQ2ZjVhMzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzc1NTEyZTUtNjdiOC00ZjhkLTk2OTMtODMwYTRkNmY1YTMwIn0.aq4fJH_xMnRxEA8IMzbJL4QUemeutvHUiXq2c-ihB0c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:21:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:34Z INFO  drogue_cloud_tests::resources::apps] Create application: e7768cc3-ac11-45ce-b840-4afe7b822f5a
[2023-01-31T16:21:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot;
[2023-01-31T16:21:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a\&quot;,\n    \&quot;uid\&quot;: \&quot;5ce1dc02-9579-4499-afb1-a4169faac212\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:34.116370Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a037f029-b32c-4392-af31-59b9b0d6f501\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.162103269Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.169889842Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.169937301Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.130242853Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.130243775Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.130258463Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.130298115Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.130334494Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot;), &quot;uid&quot;: String(&quot;5ce1dc02-9579-4499-afb1-a4169faac212&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:34.116370Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a037f029-b32c-4392-af31-59b9b0d6f501&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.162103269Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.169889842Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.169937301Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.130242853Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.130243775Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.130258463Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.130298115Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.130334494Z&quot;)}]}}
[2023-01-31T16:21:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a\&quot;,\n    \&quot;uid\&quot;: \&quot;5ce1dc02-9579-4499-afb1-a4169faac212\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:34.116370Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;61c995ee-5758-4f43-b485-4d844aa486e8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Yb9zKI6awMpr\&quot;,\n        \&quot;username\&quot;: \&quot;user-e7768cc3-ac11-45ce-b840-4afe7b822f5a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.162103269Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.169889842Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.268245398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.273840512Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407194172Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407301103Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407364009Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407477683Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot;), &quot;uid&quot;: String(&quot;5ce1dc02-9579-4499-afb1-a4169faac212&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:34.116370Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;61c995ee-5758-4f43-b485-4d844aa486e8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Yb9zKI6awMpr&quot;), &quot;username&quot;: String(&quot;user-e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.162103269Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.169889842Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.268245398Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.273840512Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407194172Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407301103Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407364009Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407477683Z&quot;)}]}}
[2023-01-31T16:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a\&quot;,\n    \&quot;uid\&quot;: \&quot;5ce1dc02-9579-4499-afb1-a4169faac212\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:34.116370Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;61c995ee-5758-4f43-b485-4d844aa486e8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Yb9zKI6awMpr\&quot;,\n        \&quot;username\&quot;: \&quot;user-e7768cc3-ac11-45ce-b840-4afe7b822f5a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.162103269Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.169889842Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.268245398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.273840512Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407194172Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407301103Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407364009Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:34.407477683Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot;), &quot;uid&quot;: String(&quot;5ce1dc02-9579-4499-afb1-a4169faac212&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:34.116370Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;61c995ee-5758-4f43-b485-4d844aa486e8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Yb9zKI6awMpr&quot;), &quot;username&quot;: String(&quot;user-e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.162103269Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.169889842Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.268245398Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.273840512Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407194172Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407301103Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407364009Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:34.407477683Z&quot;)}]}}
[2023-01-31T16:21:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:21:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODIzOTMsImlhdCI6MTY3NTE4MjA5MywiYXV0aF90aW1lIjoxNjc1MTgyMDg5LCJqdGkiOiJjYTIwZTUxNC0xYWUzLTQzMjctYjdiMy01OTUwMGUxMTFiYjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJVeEJXY2hsdUE3R0dtSE1ZOW5JUkEiLCJzZXNzaW9uX3N0YXRlIjoiYzc1NTEyZTUtNjdiOC00ZjhkLTk2OTMtODMwYTRkNmY1YTMwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM3NTUxMmU1LTY3YjgtNGY4ZC05NjkzLTgzMGE0ZDZmNWEzMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.syvNsBEcowjmHQnQK-mv-xWHqpyF_1aFqVBifcrqylzK-Z9sXWdwlNuzuiQ5IOV02XBEWAkqHKiCZLcKvW9EcoQajPOtZOtFTcCwbLfIYs_MiuxbwnYGYWWlY8lQSGlJwwpCm9PE9Gsoxrc_k4P4lvHgrLUpCnkyZp0Rx3tBANRfu_YI4BsOgiGUWSvjOr6OU54oWpFokXufcIXjYOTDEqRh_749Cs7AZxRCNxsQ-vzdGG0nMc_zCeurT3h-_hKe6TH08MlYiiRF-m4kfVeZsrNdUVWHEC-knGhobIg7LmVzUN2gbCwNKjGsAuAg84r12MciDW5kc3caLNGnm_iLhA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot; &quot;device1&quot;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e7768cc3-ac11-45ce-b840-4afe7b822f5a&#x27;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e7768cc3-ac11-45ce-b840-4afe7b822f5a&quot;
[2023-01-31T16:21:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:21:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:21:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:21:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:21:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MDEsImlhdCI6MTY3NTE4MjEwMSwianRpIjoiY2JmMDhlMzctMDJjZi00YmIxLWI2MGYtZGI0MzlhNzNjODM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiV2RHUFcxalc3bFRRaG80YVhoN3JYdyIsInNlc3Npb25fc3RhdGUiOiJmNTU1YmMxOC05YmI5LTRkOTktYWE2ZC0xYmQ4MGM5OGZiMGYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjU1NWJjMTgtOWJiOS00ZDk5LWFhNmQtMWJkODBjOThmYjBmIn0.ANXGrV5q2694XVlnG4eT1o-cnlcrNNm1lojQzWEl_RQ
[2023-01-31T16:21:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:21:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MDEsImlhdCI6MTY3NTE4MjEwMSwianRpIjoiY2JmMDhlMzctMDJjZi00YmIxLWI2MGYtZGI0MzlhNzNjODM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiV2RHUFcxalc3bFRRaG80YVhoN3JYdyIsInNlc3Npb25fc3RhdGUiOiJmNTU1YmMxOC05YmI5LTRkOTktYWE2ZC0xYmQ4MGM5OGZiMGYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjU1NWJjMTgtOWJiOS00ZDk5LWFhNmQtMWJkODBjOThmYjBmIn0.ANXGrV5q2694XVlnG4eT1o-cnlcrNNm1lojQzWEl_RQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:21:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 157d8653-d1dc-40da-b6f5-6b1e82162c0a
[2023-01-31T16:21:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot;
[2023-01-31T16:21:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a\&quot;,\n    \&quot;uid\&quot;: \&quot;4bb58260-f39f-436f-9f20-c65e6376db9f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:42.765642Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;975f5a53-3c97-4b44-8c98-82f576f65f04\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.809929779Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.815434745Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.815476903Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.778201189Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.778202110Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.778213431Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.778251543Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.778366989Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot;), &quot;uid&quot;: String(&quot;4bb58260-f39f-436f-9f20-c65e6376db9f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:42.765642Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;975f5a53-3c97-4b44-8c98-82f576f65f04&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.809929779Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.815434745Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.815476903Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.778201189Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.778202110Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.778213431Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.778251543Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.778366989Z&quot;)}]}}
[2023-01-31T16:21:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:21:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a\&quot;,\n    \&quot;uid\&quot;: \&quot;4bb58260-f39f-436f-9f20-c65e6376db9f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:42.765642Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;faff167f-2935-4891-95d1-fd466388f9e1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;k306IPTHRwnU\&quot;,\n        \&quot;username\&quot;: \&quot;user-157d8653-d1dc-40da-b6f5-6b1e82162c0a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.809929779Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.815434745Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.922269160Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.932164587Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130842Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130859754Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130886835Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130929264Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot;), &quot;uid&quot;: String(&quot;4bb58260-f39f-436f-9f20-c65e6376db9f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:42.765642Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;faff167f-2935-4891-95d1-fd466388f9e1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;k306IPTHRwnU&quot;), &quot;username&quot;: String(&quot;user-157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.809929779Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.815434745Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.922269160Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.932164587Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130842Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130859754Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130886835Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130929264Z&quot;)}]}}
[2023-01-31T16:21:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:21:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a\&quot;,\n    \&quot;uid\&quot;: \&quot;4bb58260-f39f-436f-9f20-c65e6376db9f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:42.765642Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;faff167f-2935-4891-95d1-fd466388f9e1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;k306IPTHRwnU\&quot;,\n        \&quot;username\&quot;: \&quot;user-157d8653-d1dc-40da-b6f5-6b1e82162c0a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.809929779Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.815434745Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.922269160Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:42.932164587Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130842Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130859754Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130886835Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:43.130929264Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot;), &quot;uid&quot;: String(&quot;4bb58260-f39f-436f-9f20-c65e6376db9f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:42.765642Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;faff167f-2935-4891-95d1-fd466388f9e1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;k306IPTHRwnU&quot;), &quot;username&quot;: String(&quot;user-157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.809929779Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.815434745Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.922269160Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:42.932164587Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130842Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130859754Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130886835Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:43.130929264Z&quot;)}]}}
[2023-01-31T16:21:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:21:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:21:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:21:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0MDIsImlhdCI6MTY3NTE4MjEwMiwiYXV0aF90aW1lIjoxNjc1MTgyMDk5LCJqdGkiOiJiZDczZDBjNi01OThlLTRmYjctOTk0OC03MWNmZWNmYjNjYTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IldkR1BXMWpXN2xUUWhvNGFYaDdyWHciLCJzZXNzaW9uX3N0YXRlIjoiZjU1NWJjMTgtOWJiOS00ZDk5LWFhNmQtMWJkODBjOThmYjBmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY1NTViYzE4LTliYjktNGQ5OS1hYTZkLTFiZDgwYzk4ZmIwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.EnN4kfd0R4KTi4S5mQYcalg0pBKk_IwMEiBCgHXCqM58zOkzoBgInxGZMytWJ9lqfwX2cwKnbApiYSFdwjy8xCsCAfhdI7cfRfAuMHAmFNOTtDbNsRPcfkfzY0-NExq_AxSFZW_FRLRd21UWGGqTkc9OzweTsJtvqYwoxjXa_R4H5U7zYCk7ZYAlTttqljkjoOCDK3VZAfAottTO0f8rVq9DiyhKIsNQsSptnKMQ2I_p77es2l5f_5-Xnl2onkK1rV0h6PmhJb_DiMebqWBXHfjz0hEFcYw9IOPA8x7tHC2uqZ1QhmoG2BbF8tCNImh3AqyLHIwBLVZ1oCIzbStsrA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot; &quot;device1&quot;
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;157d8653-d1dc-40da-b6f5-6b1e82162c0a&#x27;
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;157d8653-d1dc-40da-b6f5-6b1e82162c0a&quot;
[2023-01-31T16:21:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:21:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:21:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:21:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:21:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MTAsImlhdCI6MTY3NTE4MjExMCwianRpIjoiMTQ2OTlhMmYtNDVhZi00ZWM4LWI4MTUtNjg5MzM3M2I4NGY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWkt1Q0htLUZndWlRLVNxQXZpcXZZUSIsInNlc3Npb25fc3RhdGUiOiI2MWQzOGIzMS1kZjA3LTRmZDMtYjg4YS1jODBjMWU0M2Q4MTYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjFkMzhiMzEtZGYwNy00ZmQzLWI4OGEtYzgwYzFlNDNkODE2In0.63Ftc4j2r4xR6-VPDusc3k_A--v95j2dKk8TSBbZPbs
[2023-01-31T16:21:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:21:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MTAsImlhdCI6MTY3NTE4MjExMCwianRpIjoiMTQ2OTlhMmYtNDVhZi00ZWM4LWI4MTUtNjg5MzM3M2I4NGY1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWkt1Q0htLUZndWlRLVNxQXZpcXZZUSIsInNlc3Npb25fc3RhdGUiOiI2MWQzOGIzMS1kZjA3LTRmZDMtYjg4YS1jODBjMWU0M2Q4MTYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjFkMzhiMzEtZGYwNy00ZmQzLWI4OGEtYzgwYzFlNDNkODE2In0.63Ftc4j2r4xR6-VPDusc3k_A--v95j2dKk8TSBbZPbs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:21:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:51Z INFO  drogue_cloud_tests::resources::apps] Create application: aad77c8d-e32b-4921-b0f2-6d7728be75b9
[2023-01-31T16:21:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot;
[2023-01-31T16:21:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9\&quot;,\n    \&quot;uid\&quot;: \&quot;e5332f57-7b9b-40fc-b601-c7ac37cc00de\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:51.315873Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;af6f4fb5-3311-44fa-941c-37c154e4484b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.367689691Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.373314491Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.373354506Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.335755787Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.335756488Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.335761117Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.335810048Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.335786032Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot;), &quot;uid&quot;: String(&quot;e5332f57-7b9b-40fc-b601-c7ac37cc00de&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:51.315873Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;af6f4fb5-3311-44fa-941c-37c154e4484b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.367689691Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.373314491Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.373354506Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.335755787Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.335756488Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.335761117Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.335810048Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.335786032Z&quot;)}]}}
[2023-01-31T16:21:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9\&quot;,\n    \&quot;uid\&quot;: \&quot;e5332f57-7b9b-40fc-b601-c7ac37cc00de\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:51.315873Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9281fd8f-b60c-48c5-9dfe-8d63eda8834c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;x78ARm4JNNTE\&quot;,\n        \&quot;username\&quot;: \&quot;user-aad77c8d-e32b-4921-b0f2-6d7728be75b9\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.367689691Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.373314491Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.450821910Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.461429408Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614298722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614457820Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614724920Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614500019Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot;), &quot;uid&quot;: String(&quot;e5332f57-7b9b-40fc-b601-c7ac37cc00de&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:51.315873Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9281fd8f-b60c-48c5-9dfe-8d63eda8834c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;x78ARm4JNNTE&quot;), &quot;username&quot;: String(&quot;user-aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.367689691Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.373314491Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.450821910Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.461429408Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614298722Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614457820Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614724920Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614500019Z&quot;)}]}}
[2023-01-31T16:21:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9\&quot;,\n    \&quot;uid\&quot;: \&quot;e5332f57-7b9b-40fc-b601-c7ac37cc00de\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:21:51.315873Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9281fd8f-b60c-48c5-9dfe-8d63eda8834c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;x78ARm4JNNTE\&quot;,\n        \&quot;username\&quot;: \&quot;user-aad77c8d-e32b-4921-b0f2-6d7728be75b9\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.367689691Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.373314491Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.450821910Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.461429408Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614298722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614457820Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614724920Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:21:51.614500019Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot;), &quot;uid&quot;: String(&quot;e5332f57-7b9b-40fc-b601-c7ac37cc00de&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:21:51.315873Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9281fd8f-b60c-48c5-9dfe-8d63eda8834c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;x78ARm4JNNTE&quot;), &quot;username&quot;: String(&quot;user-aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.367689691Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.373314491Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.450821910Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.461429408Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614298722Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614457820Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614724920Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:21:51.614500019Z&quot;)}]}}
[2023-01-31T16:21:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:21:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0MTAsImlhdCI6MTY3NTE4MjExMCwiYXV0aF90aW1lIjoxNjc1MTgyMTA3LCJqdGkiOiJkMTBlNDA0My05YmE4LTRlNGYtOGE3NS03N2EwNzM3YWFhYmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpLdUNIbS1GZ3VpUS1TcUF2aXF2WVEiLCJzZXNzaW9uX3N0YXRlIjoiNjFkMzhiMzEtZGYwNy00ZmQzLWI4OGEtYzgwYzFlNDNkODE2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYxZDM4YjMxLWRmMDctNGZkMy1iODhhLWM4MGMxZTQzZDgxNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.q0Nk9cGSZLsf0qVAnYUbsYOknmeE-9PaXDpgYNEuvznGado0RoIuvASiD3WFXe_tRCnXyIqfoRGcFrxi7DorDXLUHvtpN9ALYSSpixeGp82zQUEEctl1OY1ptiejFkmGnyxC5PO_AU7HIADuAWjAQNOrmRVqZTKXq83wx5PhVZawawigjUkkr6f-qLMEr0--a61t-K9RkRPia4otesPDr5S7833W-G_zTQiWUjrf3F8VRrambLWEE1KIknyNA7QglneHzmPbKu1-Sdsja5WBGz0lEPWRYrS143eHGfs9nBUNtdK_Qf7Soqqtno-oD_vRYQAZg552aJMFGkTYQXloIg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot; &quot;device1&quot;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;aad77c8d-e32b-4921-b0f2-6d7728be75b9&#x27;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;aad77c8d-e32b-4921-b0f2-6d7728be75b9&quot;
[2023-01-31T16:21:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:21:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:21:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:21:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:21:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:21:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:21:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:21:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MTksImlhdCI6MTY3NTE4MjExOSwianRpIjoiOGQ1M2YzOGItMjY5ZC00ODAxLTgzMDAtZjdmYzRjNWM5MzE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM3FraWpVb1ZFcVBQRG9ZSzA1Q1BiZyIsInNlc3Npb25fc3RhdGUiOiIzODZkOWY3ZC01ZDI2LTQzZjQtYWI2Yy03YjdkZWI4MGJlNzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzg2ZDlmN2QtNWQyNi00M2Y0LWFiNmMtN2I3ZGViODBiZTcyIn0.I5Z5SYbjcVemaR_H20r_NwZmm1aO24BiPeS5u1M7mjc
[2023-01-31T16:21:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:21:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:21:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MTksImlhdCI6MTY3NTE4MjExOSwianRpIjoiOGQ1M2YzOGItMjY5ZC00ODAxLTgzMDAtZjdmYzRjNWM5MzE2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM3FraWpVb1ZFcVBQRG9ZSzA1Q1BiZyIsInNlc3Npb25fc3RhdGUiOiIzODZkOWY3ZC01ZDI2LTQzZjQtYWI2Yy03YjdkZWI4MGJlNzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzg2ZDlmN2QtNWQyNi00M2Y0LWFiNmMtN2I3ZGViODBiZTcyIn0.I5Z5SYbjcVemaR_H20r_NwZmm1aO24BiPeS5u1M7mjc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:21:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 4b40670b-8ca1-472e-ad99-c3641d488f14
[2023-01-31T16:22:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot;
[2023-01-31T16:22:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4b40670b-8ca1-472e-ad99-c3641d488f14\&quot;,\n    \&quot;uid\&quot;: \&quot;3c4ed6cd-5ae2-4e3c-8402-9f75aecaa43c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:00.045171Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0e80e292-d34d-44cc-b85c-84916abe8c48\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.096140827Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.101979096Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.102015274Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.067247869Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.067248640Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.067261234Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.067317309Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.067286531Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot;), &quot;uid&quot;: String(&quot;3c4ed6cd-5ae2-4e3c-8402-9f75aecaa43c&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:00.045171Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0e80e292-d34d-44cc-b85c-84916abe8c48&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.096140827Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.101979096Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.102015274Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.067247869Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.067248640Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.067261234Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.067317309Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.067286531Z&quot;)}]}}
[2023-01-31T16:22:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4b40670b-8ca1-472e-ad99-c3641d488f14\&quot;,\n    \&quot;uid\&quot;: \&quot;3c4ed6cd-5ae2-4e3c-8402-9f75aecaa43c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:00.045171Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4318225b-7dec-4d85-9fff-8844ab0fc120\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;NsHF0MkdidW2\&quot;,\n        \&quot;username\&quot;: \&quot;user-4b40670b-8ca1-472e-ad99-c3641d488f14\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.096140827Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.101979096Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.172366720Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.182028661Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318387810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318456648Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318590429Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318490912Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot;), &quot;uid&quot;: String(&quot;3c4ed6cd-5ae2-4e3c-8402-9f75aecaa43c&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:00.045171Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4318225b-7dec-4d85-9fff-8844ab0fc120&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;NsHF0MkdidW2&quot;), &quot;username&quot;: String(&quot;user-4b40670b-8ca1-472e-ad99-c3641d488f14&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.096140827Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.101979096Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.172366720Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.182028661Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318387810Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318456648Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318590429Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318490912Z&quot;)}]}}
[2023-01-31T16:22:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4b40670b-8ca1-472e-ad99-c3641d488f14\&quot;,\n    \&quot;uid\&quot;: \&quot;3c4ed6cd-5ae2-4e3c-8402-9f75aecaa43c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:00.045171Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4318225b-7dec-4d85-9fff-8844ab0fc120\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;NsHF0MkdidW2\&quot;,\n        \&quot;username\&quot;: \&quot;user-4b40670b-8ca1-472e-ad99-c3641d488f14\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.096140827Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.101979096Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.172366720Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.182028661Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318387810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318456648Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318590429Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:00.318490912Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot;), &quot;uid&quot;: String(&quot;3c4ed6cd-5ae2-4e3c-8402-9f75aecaa43c&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:00.045171Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4318225b-7dec-4d85-9fff-8844ab0fc120&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;NsHF0MkdidW2&quot;), &quot;username&quot;: String(&quot;user-4b40670b-8ca1-472e-ad99-c3641d488f14&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.096140827Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.101979096Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.172366720Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.182028661Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318387810Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318456648Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318590429Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:00.318490912Z&quot;)}]}}
[2023-01-31T16:22:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:22:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0MTksImlhdCI6MTY3NTE4MjExOSwiYXV0aF90aW1lIjoxNjc1MTgyMTE2LCJqdGkiOiJmNmU4ZDE1Yi1hNDBjLTRjZWUtYmE0MC0zYjIxYzgwODkzODUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjNxa2lqVW9WRXFQUERvWUswNUNQYmciLCJzZXNzaW9uX3N0YXRlIjoiMzg2ZDlmN2QtNWQyNi00M2Y0LWFiNmMtN2I3ZGViODBiZTcyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM4NmQ5ZjdkLTVkMjYtNDNmNC1hYjZjLTdiN2RlYjgwYmU3MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.pLRU46HQQwnUgS2xx4K-x2rVX2TaTImyYe9woLB6ZJ6fNZYPDQTQsyLdGz4N-_MY5TEZdNiy5z6XDElJNx_ybgq57GMBj_YCshloR8qVQUXYHShRXquz810OfS4Y6N4uzTNa_JYxmyfXiDx4k95-Qvz27YpFuf0rse7M-LYfx0abb0hLmgydgDtIS2KkwkB7tqSrIoIVivvsqYlflrKhHyrMJVWAl6o8YnuLo4juL9DoC6R51ARGKDtN9NctIA_AgMJ8mGmekf70URTaF6hKhz21HTAxUbtgDYfk5Q1asuq_HaHbfjt9zaHaUxl3Q4L2pyjTpDEP3Me43cyuo_if9Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot; &quot;device1&quot;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4b40670b-8ca1-472e-ad99-c3641d488f14&#x27;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4b40670b-8ca1-472e-ad99-c3641d488f14&quot;
[2023-01-31T16:22:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:22:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:22:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:22:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:22:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MjcsImlhdCI6MTY3NTE4MjEyNywianRpIjoiODU4YzY5MzItYmRjOC00ZTI1LTk2YzgtYThkMTc4OGY2NTMzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWGgtR1BoSnFUU2Y4Z1hEekVsdE9qdyIsInNlc3Npb25fc3RhdGUiOiI2YzQ3NDJjNy03YWJkLTQxMzgtODUyZC0wMzcyYmU0ZmU3ZWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmM0NzQyYzctN2FiZC00MTM4LTg1MmQtMDM3MmJlNGZlN2VmIn0.kk7d4GqS_Y8J4LQhdJ17YYPy_iFVPIMQVP0h_ZxlzZI
[2023-01-31T16:22:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:22:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MjcsImlhdCI6MTY3NTE4MjEyNywianRpIjoiODU4YzY5MzItYmRjOC00ZTI1LTk2YzgtYThkMTc4OGY2NTMzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWGgtR1BoSnFUU2Y4Z1hEekVsdE9qdyIsInNlc3Npb25fc3RhdGUiOiI2YzQ3NDJjNy03YWJkLTQxMzgtODUyZC0wMzcyYmU0ZmU3ZWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmM0NzQyYzctN2FiZC00MTM4LTg1MmQtMDM3MmJlNGZlN2VmIn0.kk7d4GqS_Y8J4LQhdJ17YYPy_iFVPIMQVP0h_ZxlzZI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:22:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:08Z INFO  drogue_cloud_tests::resources::apps] Create application: f7feaadc-04a8-4969-9b02-a723ddd35d71
[2023-01-31T16:22:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot;
[2023-01-31T16:22:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f7feaadc-04a8-4969-9b02-a723ddd35d71\&quot;,\n    \&quot;uid\&quot;: \&quot;b083effb-9703-4eba-9a75-5c3501e136ab\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:08.718505Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;507df031-8bdc-4d0e-8a57-b5eda1ca912d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.759199596Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.767887395Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.767922892Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.732431873Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.732432884Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.732444035Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.732512834Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.732552098Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot;), &quot;uid&quot;: String(&quot;b083effb-9703-4eba-9a75-5c3501e136ab&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:08.718505Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;507df031-8bdc-4d0e-8a57-b5eda1ca912d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.759199596Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.767887395Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.767922892Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.732431873Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.732432884Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.732444035Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.732512834Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.732552098Z&quot;)}]}}
[2023-01-31T16:22:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f7feaadc-04a8-4969-9b02-a723ddd35d71\&quot;,\n    \&quot;uid\&quot;: \&quot;b083effb-9703-4eba-9a75-5c3501e136ab\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:08.718505Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5d3a0d31-8c78-4da2-a601-227025f82561\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sf1S2AgOLyfp\&quot;,\n        \&quot;username\&quot;: \&quot;user-f7feaadc-04a8-4969-9b02-a723ddd35d71\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.759199596Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.767887395Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.867150867Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.872296661Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003352213Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003372911Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003403769Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003524194Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot;), &quot;uid&quot;: String(&quot;b083effb-9703-4eba-9a75-5c3501e136ab&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:08.718505Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5d3a0d31-8c78-4da2-a601-227025f82561&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sf1S2AgOLyfp&quot;), &quot;username&quot;: String(&quot;user-f7feaadc-04a8-4969-9b02-a723ddd35d71&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.759199596Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.767887395Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.867150867Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.872296661Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003352213Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003372911Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003403769Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003524194Z&quot;)}]}}
[2023-01-31T16:22:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f7feaadc-04a8-4969-9b02-a723ddd35d71\&quot;,\n    \&quot;uid\&quot;: \&quot;b083effb-9703-4eba-9a75-5c3501e136ab\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:08.718505Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5d3a0d31-8c78-4da2-a601-227025f82561\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sf1S2AgOLyfp\&quot;,\n        \&quot;username\&quot;: \&quot;user-f7feaadc-04a8-4969-9b02-a723ddd35d71\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.759199596Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.767887395Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.867150867Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:08.872296661Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003352213Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003372911Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003403769Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:09.003524194Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot;), &quot;uid&quot;: String(&quot;b083effb-9703-4eba-9a75-5c3501e136ab&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:08.718505Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5d3a0d31-8c78-4da2-a601-227025f82561&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sf1S2AgOLyfp&quot;), &quot;username&quot;: String(&quot;user-f7feaadc-04a8-4969-9b02-a723ddd35d71&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.759199596Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.767887395Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.867150867Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:08.872296661Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003352213Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003372911Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003403769Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:09.003524194Z&quot;)}]}}
[2023-01-31T16:22:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:22:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0MjgsImlhdCI6MTY3NTE4MjEyOCwiYXV0aF90aW1lIjoxNjc1MTgyMTI0LCJqdGkiOiJlMDUwMGFmNi0xNzM4LTQ1ZjctOTA0Ny1kODNlMmZkNGEwMGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhoLUdQaEpxVFNmOGdYRHpFbHRPanciLCJzZXNzaW9uX3N0YXRlIjoiNmM0NzQyYzctN2FiZC00MTM4LTg1MmQtMDM3MmJlNGZlN2VmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZjNDc0MmM3LTdhYmQtNDEzOC04NTJkLTAzNzJiZTRmZTdlZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.gUSz9VLpzsSOHQR0gln2eCbPuqB1gtqSySZHzR1EujeC8WZSIx1vJX1ALu__Cjw_qNt_YM-b5H9Fk5fcjwOiXU-xW8hyVpEBww7EyqyLkIT4sD8dB5Ymg4hN0zLlKpyrd8m2BxCn21fUN3MObxNC-vrOC5STOQPO4u4LJHuHVY4wajTlQSQ7EXpfEAQS3e9pwlaaz5Y9KvusCik1qSRfQiwQOGhqh5BqHKjtwliwWnARhsoMKpZRxSIYmpuDLRXGvURg7-M9jmQZa0SA98dHSWsFzzIiE4s9AotB8EjrDMnveUgiZrLFKqGgLSskDmKXQJR9RgXE7pvy9E5gXcDFUw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot; &quot;device1&quot;
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f7feaadc-04a8-4969-9b02-a723ddd35d71&#x27;
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f7feaadc-04a8-4969-9b02-a723ddd35d71&quot;
[2023-01-31T16:22:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:22:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:22:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:22:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:22:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MzYsImlhdCI6MTY3NTE4MjEzNiwianRpIjoiMDJkNTJiNjYtNjNjNi00ZjA1LTk0YTctZjhiZDJjMzBlMjBlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNnctSWJIWTdnRVFiRm5FMV9fSmxTQSIsInNlc3Npb25fc3RhdGUiOiIwNTM2MDFjYi00MTllLTRkMzktYWMwMi04NjBiYzJjODQ4ZjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDUzNjAxY2ItNDE5ZS00ZDM5LWFjMDItODYwYmMyYzg0OGY5In0.cDwz0CViH6PG4cpR9Q1EZp8zroNCAVgDNbvIwSFE91s
[2023-01-31T16:22:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:22:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5MzYsImlhdCI6MTY3NTE4MjEzNiwianRpIjoiMDJkNTJiNjYtNjNjNi00ZjA1LTk0YTctZjhiZDJjMzBlMjBlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNnctSWJIWTdnRVFiRm5FMV9fSmxTQSIsInNlc3Npb25fc3RhdGUiOiIwNTM2MDFjYi00MTllLTRkMzktYWMwMi04NjBiYzJjODQ4ZjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDUzNjAxY2ItNDE5ZS00ZDM5LWFjMDItODYwYmMyYzg0OGY5In0.cDwz0CViH6PG4cpR9Q1EZp8zroNCAVgDNbvIwSFE91s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:22:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:17Z INFO  drogue_cloud_tests::resources::apps] Create application: f2514d69-266a-4515-bbb2-a058c405a451
[2023-01-31T16:22:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f2514d69-266a-4515-bbb2-a058c405a451&quot;
[2023-01-31T16:22:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f2514d69-266a-4515-bbb2-a058c405a451&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f2514d69-266a-4515-bbb2-a058c405a451\&quot;,\n    \&quot;uid\&quot;: \&quot;1cc15273-24ea-4890-a696-25521a1fa9ed\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:17.201995Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9491c9d8-e002-4425-b9d9-dc664ad68b76\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.251915003Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.258142520Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.258196601Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.225614543Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.225615224Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.225620674Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.225821700Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.225725841Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f2514d69-266a-4515-bbb2-a058c405a451&quot;), &quot;uid&quot;: String(&quot;1cc15273-24ea-4890-a696-25521a1fa9ed&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:17.201995Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9491c9d8-e002-4425-b9d9-dc664ad68b76&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.251915003Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.258142520Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.258196601Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.225614543Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.225615224Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.225620674Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.225821700Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.225725841Z&quot;)}]}}
[2023-01-31T16:22:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f2514d69-266a-4515-bbb2-a058c405a451&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f2514d69-266a-4515-bbb2-a058c405a451\&quot;,\n    \&quot;uid\&quot;: \&quot;1cc15273-24ea-4890-a696-25521a1fa9ed\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:17.201995Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d5f2df54-86b8-4e22-9d40-dfead7299c6a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;lkYbFEq4eHHu\&quot;,\n        \&quot;username\&quot;: \&quot;user-f2514d69-266a-4515-bbb2-a058c405a451\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.251915003Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.258142520Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.339362917Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.348818733Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.460587556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.460642298Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.461074276Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.460674408Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f2514d69-266a-4515-bbb2-a058c405a451&quot;), &quot;uid&quot;: String(&quot;1cc15273-24ea-4890-a696-25521a1fa9ed&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:17.201995Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d5f2df54-86b8-4e22-9d40-dfead7299c6a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;lkYbFEq4eHHu&quot;), &quot;username&quot;: String(&quot;user-f2514d69-266a-4515-bbb2-a058c405a451&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.251915003Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.258142520Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.339362917Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.348818733Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.460587556Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.460642298Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.461074276Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.460674408Z&quot;)}]}}
[2023-01-31T16:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f2514d69-266a-4515-bbb2-a058c405a451&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f2514d69-266a-4515-bbb2-a058c405a451\&quot;,\n    \&quot;uid\&quot;: \&quot;1cc15273-24ea-4890-a696-25521a1fa9ed\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:17.201995Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d5f2df54-86b8-4e22-9d40-dfead7299c6a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;lkYbFEq4eHHu\&quot;,\n        \&quot;username\&quot;: \&quot;user-f2514d69-266a-4515-bbb2-a058c405a451\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.251915003Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.258142520Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.339362917Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.348818733Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.460587556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.460642298Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.461074276Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:17.460674408Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f2514d69-266a-4515-bbb2-a058c405a451&quot;), &quot;uid&quot;: String(&quot;1cc15273-24ea-4890-a696-25521a1fa9ed&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:17.201995Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d5f2df54-86b8-4e22-9d40-dfead7299c6a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;lkYbFEq4eHHu&quot;), &quot;username&quot;: String(&quot;user-f2514d69-266a-4515-bbb2-a058c405a451&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.251915003Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.258142520Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.339362917Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.348818733Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.460587556Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.460642298Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.461074276Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:17.460674408Z&quot;)}]}}
[2023-01-31T16:22:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f2514d69-266a-4515-bbb2-a058c405a451&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:22:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0MzYsImlhdCI6MTY3NTE4MjEzNiwiYXV0aF90aW1lIjoxNjc1MTgyMTMzLCJqdGkiOiI4YTc1ZGE0Yi1mMDBhLTQ4ZjYtOTE4ZS00NjgxMDZmZmQyMTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZ3LUliSFk3Z0VRYkZuRTFfX0psU0EiLCJzZXNzaW9uX3N0YXRlIjoiMDUzNjAxY2ItNDE5ZS00ZDM5LWFjMDItODYwYmMyYzg0OGY5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MzYwMWNiLTQxOWUtNGQzOS1hYzAyLTg2MGJjMmM4NDhmOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.l4jJvzdsQYrTOvwrEDO1FaBRkhlXHGQ1Z0ofal10V-5eqZPmPfgLV0UgNIAKtIqZz8IpzFCVS20hETIMHXYrxya1JxD4PE-IsG4-Qno5b5A8A9ZTXuc0cmV7HAgRtci7mJTFiDMZG_oUD9IJJZrQVoHwKgTEm3ib6zPVUkq5dB9ntM6Nq2HR7lz_5C_VQgT1pY3L5W-YMf_Udlewy3aZDP1WfmS7hv9HyhkD7nEPHsjKRF92Maj3P0kwKC_UI5pOwjUCLh5jTp6pm7BkHle-nRcKKpkOMU7DR0W1Wo5jdmVN0fAisKSb7_aXl6_f-0geO5MgmL_9DvwxtDJnGQB6dQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f2514d69-266a-4515-bbb2-a058c405a451&quot; &quot;device1&quot;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f2514d69-266a-4515-bbb2-a058c405a451&#x27;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f2514d69-266a-4515-bbb2-a058c405a451&quot;
[2023-01-31T16:22:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:22:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:22:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:22:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:22:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NDQsImlhdCI6MTY3NTE4MjE0NCwianRpIjoiOGNkODU2NTEtNjI0NS00NDU3LTlmNmUtZDU5NGRjODE5MzFiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia1ZkYXVQY3RLSDBJOFpZckdkVGZBQSIsInNlc3Npb25fc3RhdGUiOiI2OWNhNjVmYy1lYzkxLTRhMzMtYTA5ZS0wOTNjYzVjNDgxOGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjljYTY1ZmMtZWM5MS00YTMzLWEwOWUtMDkzY2M1YzQ4MThlIn0.dgmDGbC4YGMGmdmVaWSrZHGhqnDfhcwFykMn6rbXSNw
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NDQsImlhdCI6MTY3NTE4MjE0NCwianRpIjoiOGNkODU2NTEtNjI0NS00NDU3LTlmNmUtZDU5NGRjODE5MzFiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia1ZkYXVQY3RLSDBJOFpZckdkVGZBQSIsInNlc3Npb25fc3RhdGUiOiI2OWNhNjVmYy1lYzkxLTRhMzMtYTA5ZS0wOTNjYzVjNDgxOGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjljYTY1ZmMtZWM5MS00YTMzLWEwOWUtMDkzY2M1YzQ4MThlIn0.dgmDGbC4YGMGmdmVaWSrZHGhqnDfhcwFykMn6rbXSNw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::resources::apps] Create application: 54f2e625-e899-46fd-9cbd-e1f799198d7e
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot;
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;54f2e625-e899-46fd-9cbd-e1f799198d7e\&quot;,\n    \&quot;uid\&quot;: \&quot;dad2dedc-68d0-4f8a-ac35-bdc7e55848f2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:25.793800Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;715987cb-53de-47e7-ac91-eefa4d64ad7b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820033782Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820035295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820035756Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820036697Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820037659Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820062335Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820117438Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.820090869Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot;), &quot;uid&quot;: String(&quot;dad2dedc-68d0-4f8a-ac35-bdc7e55848f2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:25.793800Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;715987cb-53de-47e7-ac91-eefa4d64ad7b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820033782Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820035295Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820035756Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820036697Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820037659Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820062335Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820117438Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.820090869Z&quot;)}]}}
[2023-01-31T16:22:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:22:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;54f2e625-e899-46fd-9cbd-e1f799198d7e\&quot;,\n    \&quot;uid\&quot;: \&quot;dad2dedc-68d0-4f8a-ac35-bdc7e55848f2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:25.793800Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0143853b-b265-462e-b050-eef9f587f6d0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Xy5a15sA1lpU\&quot;,\n        \&quot;username\&quot;: \&quot;user-54f2e625-e899-46fd-9cbd-e1f799198d7e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.853533216Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.859201348Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.985194175Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.993280440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127150773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127175828Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127294882Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127207848Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot;), &quot;uid&quot;: String(&quot;dad2dedc-68d0-4f8a-ac35-bdc7e55848f2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:25.793800Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0143853b-b265-462e-b050-eef9f587f6d0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Xy5a15sA1lpU&quot;), &quot;username&quot;: String(&quot;user-54f2e625-e899-46fd-9cbd-e1f799198d7e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.853533216Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.859201348Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.985194175Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.993280440Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127150773Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127175828Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127294882Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127207848Z&quot;)}]}}
[2023-01-31T16:22:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:22:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;54f2e625-e899-46fd-9cbd-e1f799198d7e\&quot;,\n    \&quot;uid\&quot;: \&quot;dad2dedc-68d0-4f8a-ac35-bdc7e55848f2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:25.793800Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0143853b-b265-462e-b050-eef9f587f6d0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Xy5a15sA1lpU\&quot;,\n        \&quot;username\&quot;: \&quot;user-54f2e625-e899-46fd-9cbd-e1f799198d7e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.853533216Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.859201348Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.985194175Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:25.993280440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127150773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127175828Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127294882Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:26.127207848Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot;), &quot;uid&quot;: String(&quot;dad2dedc-68d0-4f8a-ac35-bdc7e55848f2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:25.793800Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0143853b-b265-462e-b050-eef9f587f6d0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Xy5a15sA1lpU&quot;), &quot;username&quot;: String(&quot;user-54f2e625-e899-46fd-9cbd-e1f799198d7e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.853533216Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.859201348Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.985194175Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:25.993280440Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127150773Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127175828Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127294882Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:26.127207848Z&quot;)}]}}
[2023-01-31T16:22:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:22:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:22:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:22:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0NDUsImlhdCI6MTY3NTE4MjE0NSwiYXV0aF90aW1lIjoxNjc1MTgyMTQyLCJqdGkiOiI2ZTlhMGFiYy0wMWZhLTQ4YTktOGVjNy04NWZjNmI5Y2EyM2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtWZGF1UGN0S0gwSThaWXJHZFRmQUEiLCJzZXNzaW9uX3N0YXRlIjoiNjljYTY1ZmMtZWM5MS00YTMzLWEwOWUtMDkzY2M1YzQ4MThlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY5Y2E2NWZjLWVjOTEtNGEzMy1hMDllLTA5M2NjNWM0ODE4ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.RsNJT5gbItRK8VJxS0wBglbl7awgkbqaPQTPfqMmtRyODffKWm5_cfR6YNm9d64FWYyBZ-fe3HpQgC9FbuFKGqe0WAXjDWbz6F32abWPGAEO8_kbXSFwuWkZi1WguGGkiZHSJ-GHdzFgiVBo8UeksJHGBzxr9dbSrfEpoOl0yA_bbjv08UGvlhMVkvnTwezCpRHIs94gQHhKKgFI2EMbNoHKgnKhXTtD662l6Mlp_FJXB5T6J4DE6Ml1LRJqMelI1UWjwWYRunz-Ej-BYcqf-zjDsQ7QspoVndDhhQ6PBO3tpVfaOc0r-k1l358PgxcH4iEHtimj1wiSY7PnX3BUnA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot; &quot;device1&quot;
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;54f2e625-e899-46fd-9cbd-e1f799198d7e&#x27;
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;54f2e625-e899-46fd-9cbd-e1f799198d7e&quot;
[2023-01-31T16:22:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:22:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:22:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:22:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:22:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NTMsImlhdCI6MTY3NTE4MjE1MywianRpIjoiMjc1N2Y0MTQtNzE3MC00ZTA3LWFjMTMtZTk2NWI1MDc5M2Y4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMWpfT2tuV1J1WWF3M0txWWZMcllCUSIsInNlc3Npb25fc3RhdGUiOiJlMTlkNGJjNy02NTQyLTQzMmUtOTc3MC1iNDFmZDY1ZjFjYTYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTE5ZDRiYzctNjU0Mi00MzJlLTk3NzAtYjQxZmQ2NWYxY2E2In0.imSiHyzD2lRQrOfPb9pjtZxENL2jK5obf1HQWILsSug
[2023-01-31T16:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NTMsImlhdCI6MTY3NTE4MjE1MywianRpIjoiMjc1N2Y0MTQtNzE3MC00ZTA3LWFjMTMtZTk2NWI1MDc5M2Y4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMWpfT2tuV1J1WWF3M0txWWZMcllCUSIsInNlc3Npb25fc3RhdGUiOiJlMTlkNGJjNy02NTQyLTQzMmUtOTc3MC1iNDFmZDY1ZjFjYTYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTE5ZDRiYzctNjU0Mi00MzJlLTk3NzAtYjQxZmQ2NWYxY2E2In0.imSiHyzD2lRQrOfPb9pjtZxENL2jK5obf1HQWILsSug&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:22:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:34Z INFO  drogue_cloud_tests::resources::apps] Create application: 016c86f2-5264-4f3e-ac71-b95439aad2ea
[2023-01-31T16:22:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot;
[2023-01-31T16:22:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;016c86f2-5264-4f3e-ac71-b95439aad2ea\&quot;,\n    \&quot;uid\&quot;: \&quot;75458638-b65e-4312-aa0f-4ff454427341\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:34.384866Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b7eb9ff1-a8f8-4155-9120-7964a64510af\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.438077881Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.444385559Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.444447616Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.408430571Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.408431122Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.408434648Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.408482257Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.408455277Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot;), &quot;uid&quot;: String(&quot;75458638-b65e-4312-aa0f-4ff454427341&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:34.384866Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b7eb9ff1-a8f8-4155-9120-7964a64510af&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.438077881Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.444385559Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.444447616Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.408430571Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.408431122Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.408434648Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.408482257Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.408455277Z&quot;)}]}}
[2023-01-31T16:22:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;016c86f2-5264-4f3e-ac71-b95439aad2ea\&quot;,\n    \&quot;uid\&quot;: \&quot;75458638-b65e-4312-aa0f-4ff454427341\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:34.384866Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4bf330ef-3370-47bc-bf93-a67729c40759\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;GqeSUX9o2YDS\&quot;,\n        \&quot;username\&quot;: \&quot;user-016c86f2-5264-4f3e-ac71-b95439aad2ea\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.438077881Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.444385559Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.513883103Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.520748594Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666030191Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666085195Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666188617Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666117605Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot;), &quot;uid&quot;: String(&quot;75458638-b65e-4312-aa0f-4ff454427341&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:34.384866Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4bf330ef-3370-47bc-bf93-a67729c40759&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;GqeSUX9o2YDS&quot;), &quot;username&quot;: String(&quot;user-016c86f2-5264-4f3e-ac71-b95439aad2ea&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.438077881Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.444385559Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.513883103Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.520748594Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666030191Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666085195Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666188617Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666117605Z&quot;)}]}}
[2023-01-31T16:22:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;016c86f2-5264-4f3e-ac71-b95439aad2ea\&quot;,\n    \&quot;uid\&quot;: \&quot;75458638-b65e-4312-aa0f-4ff454427341\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:34.384866Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4bf330ef-3370-47bc-bf93-a67729c40759\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;GqeSUX9o2YDS\&quot;,\n        \&quot;username\&quot;: \&quot;user-016c86f2-5264-4f3e-ac71-b95439aad2ea\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.438077881Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.444385559Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.513883103Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.520748594Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666030191Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666085195Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666188617Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:34.666117605Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot;), &quot;uid&quot;: String(&quot;75458638-b65e-4312-aa0f-4ff454427341&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:34.384866Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4bf330ef-3370-47bc-bf93-a67729c40759&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;GqeSUX9o2YDS&quot;), &quot;username&quot;: String(&quot;user-016c86f2-5264-4f3e-ac71-b95439aad2ea&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.438077881Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.444385559Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.513883103Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.520748594Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666030191Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666085195Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666188617Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:34.666117605Z&quot;)}]}}
[2023-01-31T16:22:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:22:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0NTMsImlhdCI6MTY3NTE4MjE1MywiYXV0aF90aW1lIjoxNjc1MTgyMTUwLCJqdGkiOiI1MDY3OGVmNi0wMDMwLTRkYzktODI0Ny1mOTRkYmI0ODM0NTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFqX09rbldSdVlhdzNLcVlmTHJZQlEiLCJzZXNzaW9uX3N0YXRlIjoiZTE5ZDRiYzctNjU0Mi00MzJlLTk3NzAtYjQxZmQ2NWYxY2E2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUxOWQ0YmM3LTY1NDItNDMyZS05NzcwLWI0MWZkNjVmMWNhNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.NdY0_Vtr-bh54q655bI8cQsKPTfS6KuErxRAvDHSkFf-cjNHMbi0-8-L-jR9Zz-dxIVASs9_HyqKQ3W_fax0WA_3D4TKW0TXIfGhPOBBA9A7ea58-2Yp--Tp9lFMUbAEHe7iG4Yx1dniFd2GHOrwcFTXrzVa7uftoktiAumJ7P5RXI0Uo4baLwHX_l77AJthL47E6-w4Mq1ECUKqLeGxVqQuthDqR3PbirB94vfjzzmepDwH3do90ewA6hw_R3WMPoEiOHV045dbSNgtyzLbsMgY6TkykKRU0Spi6CtEDF4bs-es6ZbsQvAwAi9209B9c_6YZT-MRkUNDSJ86KCdhg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot; &quot;device1&quot;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;016c86f2-5264-4f3e-ac71-b95439aad2ea&#x27;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;016c86f2-5264-4f3e-ac71-b95439aad2ea&quot;
[2023-01-31T16:22:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:22:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:22:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:22:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:22:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NjEsImlhdCI6MTY3NTE4MjE2MSwianRpIjoiNjdlYzEzZTYtOGQ1OS00Njk2LWI1NmItMTcwOTgxMmY4YjlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSG1UTmpGSEp4OXhEYjJ0cnJJNUs0dyIsInNlc3Npb25fc3RhdGUiOiI0MGQ5MjhjMi1hYmIxLTRkNTctYjlmOS03YmE5YWFlYTRmNTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDBkOTI4YzItYWJiMS00ZDU3LWI5ZjktN2JhOWFhZWE0ZjUyIn0.esshgRXo_jULeXK1Tf6yMrPuAr_7_PaFaA3TJypiZK0
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NjEsImlhdCI6MTY3NTE4MjE2MSwianRpIjoiNjdlYzEzZTYtOGQ1OS00Njk2LWI1NmItMTcwOTgxMmY4YjlmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSG1UTmpGSEp4OXhEYjJ0cnJJNUs0dyIsInNlc3Npb25fc3RhdGUiOiI0MGQ5MjhjMi1hYmIxLTRkNTctYjlmOS03YmE5YWFlYTRmNTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDBkOTI4YzItYWJiMS00ZDU3LWI5ZjktN2JhOWFhZWE0ZjUyIn0.esshgRXo_jULeXK1Tf6yMrPuAr_7_PaFaA3TJypiZK0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 227ffd69-eab2-4262-859e-11616dc0ec5e
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot;
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;227ffd69-eab2-4262-859e-11616dc0ec5e\&quot;,\n    \&quot;uid\&quot;: \&quot;2c5cbf40-a63f-4f36-985f-75cbe7b91002\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:42.959697Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aed2a5ac-6d6d-43b1-bbbe-c27df664de59\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.000289346Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.007330145Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.007372144Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:42.975029221Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:42.975030112Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:42.975041794Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:42.975131352Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:42.975263119Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot;), &quot;uid&quot;: String(&quot;2c5cbf40-a63f-4f36-985f-75cbe7b91002&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:42.959697Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aed2a5ac-6d6d-43b1-bbbe-c27df664de59&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.000289346Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.007330145Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.007372144Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:42.975029221Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:42.975030112Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:42.975041794Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:42.975131352Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:42.975263119Z&quot;)}]}}
[2023-01-31T16:22:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;227ffd69-eab2-4262-859e-11616dc0ec5e\&quot;,\n    \&quot;uid\&quot;: \&quot;2c5cbf40-a63f-4f36-985f-75cbe7b91002\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:42.959697Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1e1f66e0-1ffb-4cb8-9a01-f5a2c64b11e8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;iPCreuqrpsJL\&quot;,\n        \&quot;username\&quot;: \&quot;user-227ffd69-eab2-4262-859e-11616dc0ec5e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.000289346Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.007330145Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.070789427Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.082734038Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222165095Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222179682Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222898236Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222981271Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot;), &quot;uid&quot;: String(&quot;2c5cbf40-a63f-4f36-985f-75cbe7b91002&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:42.959697Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1e1f66e0-1ffb-4cb8-9a01-f5a2c64b11e8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;iPCreuqrpsJL&quot;), &quot;username&quot;: String(&quot;user-227ffd69-eab2-4262-859e-11616dc0ec5e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.000289346Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.007330145Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.070789427Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.082734038Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222165095Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222179682Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222898236Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222981271Z&quot;)}]}}
[2023-01-31T16:22:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;227ffd69-eab2-4262-859e-11616dc0ec5e\&quot;,\n    \&quot;uid\&quot;: \&quot;2c5cbf40-a63f-4f36-985f-75cbe7b91002\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:42.959697Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1e1f66e0-1ffb-4cb8-9a01-f5a2c64b11e8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;iPCreuqrpsJL\&quot;,\n        \&quot;username\&quot;: \&quot;user-227ffd69-eab2-4262-859e-11616dc0ec5e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.000289346Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.007330145Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.070789427Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.082734038Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222165095Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222179682Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222898236Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:43.222981271Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot;), &quot;uid&quot;: String(&quot;2c5cbf40-a63f-4f36-985f-75cbe7b91002&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:42.959697Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1e1f66e0-1ffb-4cb8-9a01-f5a2c64b11e8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;iPCreuqrpsJL&quot;), &quot;username&quot;: String(&quot;user-227ffd69-eab2-4262-859e-11616dc0ec5e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.000289346Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.007330145Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.070789427Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.082734038Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222165095Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222179682Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222898236Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:43.222981271Z&quot;)}]}}
[2023-01-31T16:22:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:22:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0NjIsImlhdCI6MTY3NTE4MjE2MiwiYXV0aF90aW1lIjoxNjc1MTgyMTU5LCJqdGkiOiJjODQ4MTJlZi0yZWUxLTQ1OTktYjQ5MC1jZmVkZGU3ZGYxNzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkhtVE5qRkhKeDl4RGIydHJySTVLNHciLCJzZXNzaW9uX3N0YXRlIjoiNDBkOTI4YzItYWJiMS00ZDU3LWI5ZjktN2JhOWFhZWE0ZjUyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZDkyOGMyLWFiYjEtNGQ1Ny1iOWY5LTdiYTlhYWVhNGY1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cJpIb0U-FC3Ds52BkpsqWMgTKwKxSOkD0nt6oei6xRC8w4F9a_OZH_RNrBfOyfYZW8yG_D1Z1_IOWc_7K54P7EJ3HhWiVajUa-Cd0Z2Je0rlFGqt_09mfFpWEm3MLboKrhtqnIJry1iORndFXlVhQceC5P59x-pwJ_NdDY-qMr3CB_lMC86FKIHlWDmJ-OIMdIj-bFzfqIhglare0mN-itL1LYIgbTboYIYJ_RcmXO_sX-5z3pSaPk5J8gjmc0Ag6vUxPXwxoODlPQReL83v5O5lNE952d6v_1seJ5fMxGuMRsxpQz4Ib8M9EF-VxNMmqaKaSPnlUF3eaCKmi_qtmw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot; &quot;device1&quot;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;227ffd69-eab2-4262-859e-11616dc0ec5e&#x27;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;227ffd69-eab2-4262-859e-11616dc0ec5e&quot;
[2023-01-31T16:22:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:22:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:22:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:22:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:22:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NzAsImlhdCI6MTY3NTE4MjE3MCwianRpIjoiYmNiMzljYTUtYTQ2ZC00OGJhLWIxNDgtNWU4YmYwMTEyNjAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidlJzOFhIVTZ1dENQcjltNFd0ZU9vUSIsInNlc3Npb25fc3RhdGUiOiJhMWJmNzc1YS1lNmRjLTRkYzgtOTRlMy1iN2ExNGY0Nzg0NDgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTFiZjc3NWEtZTZkYy00ZGM4LTk0ZTMtYjdhMTRmNDc4NDQ4In0.mRbTKCMs5j8KtKgas3xhoFrR4iDDvdArWYALmi_4ViM
[2023-01-31T16:22:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:22:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NzAsImlhdCI6MTY3NTE4MjE3MCwianRpIjoiYmNiMzljYTUtYTQ2ZC00OGJhLWIxNDgtNWU4YmYwMTEyNjAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidlJzOFhIVTZ1dENQcjltNFd0ZU9vUSIsInNlc3Npb25fc3RhdGUiOiJhMWJmNzc1YS1lNmRjLTRkYzgtOTRlMy1iN2ExNGY0Nzg0NDgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTFiZjc3NWEtZTZkYy00ZGM4LTk0ZTMtYjdhMTRmNDc4NDQ4In0.mRbTKCMs5j8KtKgas3xhoFrR4iDDvdArWYALmi_4ViM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:22:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:51Z INFO  drogue_cloud_tests::resources::apps] Create application: eabc9413-5fc8-440f-85c2-bbf9e4636b0f
[2023-01-31T16:22:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot;
[2023-01-31T16:22:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f\&quot;,\n    \&quot;uid\&quot;: \&quot;09be0414-670d-46e9-a6ef-c8665330f809\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:51.749402Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e6441f33-ad0e-4be9-a493-f59a81de5117\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.796111170Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.809890213Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.809938722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.761358048Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.761358850Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.761402041Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.761448548Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.761511295Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot;), &quot;uid&quot;: String(&quot;09be0414-670d-46e9-a6ef-c8665330f809&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:51.749402Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e6441f33-ad0e-4be9-a493-f59a81de5117&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.796111170Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.809890213Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.809938722Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.761358048Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.761358850Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.761402041Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.761448548Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.761511295Z&quot;)}]}}
[2023-01-31T16:22:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f\&quot;,\n    \&quot;uid\&quot;: \&quot;09be0414-670d-46e9-a6ef-c8665330f809\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:51.749402Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;31eb7191-86a2-459b-aa3f-fa2f7dea32e8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;OqcdKpU5hl23\&quot;,\n        \&quot;username\&quot;: \&quot;user-eabc9413-5fc8-440f-85c2-bbf9e4636b0f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.796111170Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.809890213Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.897090218Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.905379373Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.016269260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.016389064Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.016461649Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.017793961Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot;), &quot;uid&quot;: String(&quot;09be0414-670d-46e9-a6ef-c8665330f809&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:51.749402Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;31eb7191-86a2-459b-aa3f-fa2f7dea32e8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;OqcdKpU5hl23&quot;), &quot;username&quot;: String(&quot;user-eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.796111170Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.809890213Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.897090218Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.905379373Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.016269260Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.016389064Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.016461649Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.017793961Z&quot;)}]}}
[2023-01-31T16:22:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f\&quot;,\n    \&quot;uid\&quot;: \&quot;09be0414-670d-46e9-a6ef-c8665330f809\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:22:51.749402Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;31eb7191-86a2-459b-aa3f-fa2f7dea32e8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;OqcdKpU5hl23\&quot;,\n        \&quot;username\&quot;: \&quot;user-eabc9413-5fc8-440f-85c2-bbf9e4636b0f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.796111170Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.809890213Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.897090218Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:51.905379373Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.016269260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.016389064Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.016461649Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:22:52.017793961Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot;), &quot;uid&quot;: String(&quot;09be0414-670d-46e9-a6ef-c8665330f809&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:22:51.749402Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;31eb7191-86a2-459b-aa3f-fa2f7dea32e8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;OqcdKpU5hl23&quot;), &quot;username&quot;: String(&quot;user-eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.796111170Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.809890213Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.897090218Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:51.905379373Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.016269260Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.016389064Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.016461649Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:22:52.017793961Z&quot;)}]}}
[2023-01-31T16:22:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:22:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0NzEsImlhdCI6MTY3NTE4MjE3MSwiYXV0aF90aW1lIjoxNjc1MTgyMTY4LCJqdGkiOiJmMmNiNGQ3Mi01OThmLTRjZDMtODYyNS1hZTJkZGEzZjE0NDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZSczhYSFU2dXRDUHI5bTRXdGVPb1EiLCJzZXNzaW9uX3N0YXRlIjoiYTFiZjc3NWEtZTZkYy00ZGM4LTk0ZTMtYjdhMTRmNDc4NDQ4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImExYmY3NzVhLWU2ZGMtNGRjOC05NGUzLWI3YTE0ZjQ3ODQ0OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Ge8LNqQA3HjvVigPvNix9dVBnlYKe628KEZM1uyQyx7Hu3zN4N5njO0J-LTu_8itCts7yn3V5-AD2zjBQQpFWHjqY_7NO6I87Dwt5c_Eh6hlDTdXMfAAfzRPKSBANPNxMR7CUktEUqWeSEWKaVVdnNwo4IS1J3ZSsXlFfBXTL_crxUoUCmQQJK8YbpIfEVD_rwoWME_nxdUiVdkW8O4JZ9yXVfHS2ipy2fwCR9_TjHLKjTY1toA8P59HR8MN4uABRU41Jv-Axxiqc-5nw7nxoFMeNanh9TH7eSc_6Pf5YlkxM_Wa-Id_KGL9nYBetfhE9rcUwgXsQH93jHw43mWb4g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot; &quot;device1&quot;
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&#x27;
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;eabc9413-5fc8-440f-85c2-bbf9e4636b0f&quot;
[2023-01-31T16:22:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:22:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:22:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:22:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:22:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:22:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:22:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:22:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NzksImlhdCI6MTY3NTE4MjE3OSwianRpIjoiMDI0ZGY1ODktMzljYi00MzU4LTljMmUtN2VmNWEwYjI4YjI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSTduNHJfVFMyYzJNcmI3NGs1eW5SZyIsInNlc3Npb25fc3RhdGUiOiI3ZDE3MTdhMy1kZjcxLTQ0MzYtYmEzOC0yZDlhNjI4Mjk5YWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2QxNzE3YTMtZGY3MS00NDM2LWJhMzgtMmQ5YTYyODI5OWFiIn0.xBhteO_AVFfNbsyN27rzCv-9bwghSm1yvh2a3fvwbls
[2023-01-31T16:22:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:22:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:22:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5NzksImlhdCI6MTY3NTE4MjE3OSwianRpIjoiMDI0ZGY1ODktMzljYi00MzU4LTljMmUtN2VmNWEwYjI4YjI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSTduNHJfVFMyYzJNcmI3NGs1eW5SZyIsInNlc3Npb25fc3RhdGUiOiI3ZDE3MTdhMy1kZjcxLTQ0MzYtYmEzOC0yZDlhNjI4Mjk5YWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2QxNzE3YTMtZGY3MS00NDM2LWJhMzgtMmQ5YTYyODI5OWFiIn0.xBhteO_AVFfNbsyN27rzCv-9bwghSm1yvh2a3fvwbls&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:22:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 4a21ce74-34be-4ed1-a65d-6f236baec40c
[2023-01-31T16:23:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot;
[2023-01-31T16:23:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4a21ce74-34be-4ed1-a65d-6f236baec40c\&quot;,\n    \&quot;uid\&quot;: \&quot;e084f5f1-be7d-4231-b080-de353735c1c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:00.311099Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3ff325ab-f78e-430e-8984-a0d22a3df69b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332341077Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332342239Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332342611Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332343081Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332343622Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332352529Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332403103Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.332377785Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot;), &quot;uid&quot;: String(&quot;e084f5f1-be7d-4231-b080-de353735c1c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:00.311099Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3ff325ab-f78e-430e-8984-a0d22a3df69b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332341077Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332342239Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332342611Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332343081Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332343622Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332352529Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332403103Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.332377785Z&quot;)}]}}
[2023-01-31T16:23:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4a21ce74-34be-4ed1-a65d-6f236baec40c\&quot;,\n    \&quot;uid\&quot;: \&quot;e084f5f1-be7d-4231-b080-de353735c1c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:00.311099Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;71b2d0be-ab8d-421d-9393-bf61f851a3b1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;PqjgCqcZENoK\&quot;,\n        \&quot;username\&quot;: \&quot;user-4a21ce74-34be-4ed1-a65d-6f236baec40c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.360398656Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.368603813Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.461828891Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.469163820Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603735323Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603754929Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603851290Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603784115Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot;), &quot;uid&quot;: String(&quot;e084f5f1-be7d-4231-b080-de353735c1c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:00.311099Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;71b2d0be-ab8d-421d-9393-bf61f851a3b1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;PqjgCqcZENoK&quot;), &quot;username&quot;: String(&quot;user-4a21ce74-34be-4ed1-a65d-6f236baec40c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.360398656Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.368603813Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.461828891Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.469163820Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603735323Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603754929Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603851290Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603784115Z&quot;)}]}}
[2023-01-31T16:23:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4a21ce74-34be-4ed1-a65d-6f236baec40c\&quot;,\n    \&quot;uid\&quot;: \&quot;e084f5f1-be7d-4231-b080-de353735c1c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:00.311099Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;71b2d0be-ab8d-421d-9393-bf61f851a3b1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;PqjgCqcZENoK\&quot;,\n        \&quot;username\&quot;: \&quot;user-4a21ce74-34be-4ed1-a65d-6f236baec40c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.360398656Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.368603813Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.461828891Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.469163820Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603735323Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603754929Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603851290Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:00.603784115Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot;), &quot;uid&quot;: String(&quot;e084f5f1-be7d-4231-b080-de353735c1c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:00.311099Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;71b2d0be-ab8d-421d-9393-bf61f851a3b1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;PqjgCqcZENoK&quot;), &quot;username&quot;: String(&quot;user-4a21ce74-34be-4ed1-a65d-6f236baec40c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.360398656Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.368603813Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.461828891Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.469163820Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603735323Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603754929Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603851290Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:00.603784115Z&quot;)}]}}
[2023-01-31T16:23:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:23:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0NzksImlhdCI6MTY3NTE4MjE3OSwiYXV0aF90aW1lIjoxNjc1MTgyMTc2LCJqdGkiOiI0ODQwZDA1My05ZmJiLTRlODAtYWUyMC1kMGExZjRmMjYxYTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikk3bjRyX1RTMmMyTXJiNzRrNXluUmciLCJzZXNzaW9uX3N0YXRlIjoiN2QxNzE3YTMtZGY3MS00NDM2LWJhMzgtMmQ5YTYyODI5OWFiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdkMTcxN2EzLWRmNzEtNDQzNi1iYTM4LTJkOWE2MjgyOTlhYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.TfIv8xV-5lxkjWFI8vM-v61GnTFv4k-beyhMxUClbRs3hSxxxQEKkPX9VdTXsiYxmJIWat0K3zq03FqLZYFqjtK3kwFjyVVxhEmw2uD4pVb8EmnUQrIEYkjiOU0fefnh-MY4aS9RZzEXezx7-gllHuxrjFHk2FUzxeNIyshBAm1mFcQBwWpSJ7V7DvTDqcOY0zATKwnPNke1lnItVFcy-XC-mvUQe_UcNCxKfXEf5HK66agFDpLlgfiT-xRszm4LwQX9RxorJ5iB36AJkWaz79GfflZM2F6GHp9O5bTIq0HsyInsm4FSS8MG-IR2vCrU5vsVnQIke5efdKONhMHG_w\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot; &quot;device1&quot;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4a21ce74-34be-4ed1-a65d-6f236baec40c&#x27;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4a21ce74-34be-4ed1-a65d-6f236baec40c&quot;
[2023-01-31T16:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:23:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:23:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:23:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:23:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5ODcsImlhdCI6MTY3NTE4MjE4NywianRpIjoiMWViNzBkM2YtMzJhOS00YjBkLWI0MjAtMGFiZTZiNmY4ZTA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiN2ZqeG5sazJGU2JtR3ROekQwR0tHZyIsInNlc3Npb25fc3RhdGUiOiJjNDM3OGUxZS0yNmUxLTRlOWItYmMzMC01NjMyNDE2NGJiNTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQzNzhlMWUtMjZlMS00ZTliLWJjMzAtNTYzMjQxNjRiYjU4In0.5jHp-VB8O4AbDS_32PdQNxjFbiVL-6jrtM2dCSzqOQ0
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5ODcsImlhdCI6MTY3NTE4MjE4NywianRpIjoiMWViNzBkM2YtMzJhOS00YjBkLWI0MjAtMGFiZTZiNmY4ZTA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiN2ZqeG5sazJGU2JtR3ROekQwR0tHZyIsInNlc3Npb25fc3RhdGUiOiJjNDM3OGUxZS0yNmUxLTRlOWItYmMzMC01NjMyNDE2NGJiNTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQzNzhlMWUtMjZlMS00ZTliLWJjMzAtNTYzMjQxNjRiYjU4In0.5jHp-VB8O4AbDS_32PdQNxjFbiVL-6jrtM2dCSzqOQ0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 5f8e6b3b-4150-4e78-9832-9b7785fa0fa3
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot;
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3\&quot;,\n    \&quot;uid\&quot;: \&quot;0310c2b9-0216-4425-82bd-bda397fab815\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:08.983640Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1f713ec0-e1ee-4d0a-a603-789295036302\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.022043323Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.028867166Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.028918592Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:08.996938137Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:08.996938887Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:08.996948816Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:08.996983702Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:08.997019608Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot;), &quot;uid&quot;: String(&quot;0310c2b9-0216-4425-82bd-bda397fab815&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:08.983640Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1f713ec0-e1ee-4d0a-a603-789295036302&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.022043323Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.028867166Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.028918592Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:08.996938137Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:08.996938887Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:08.996948816Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:08.996983702Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:08.997019608Z&quot;)}]}}
[2023-01-31T16:23:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3\&quot;,\n    \&quot;uid\&quot;: \&quot;0310c2b9-0216-4425-82bd-bda397fab815\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:08.983640Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;54a9c2eb-5b0f-47d5-9486-a7dfe3bc5017\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CDeGvGwKNDG4\&quot;,\n        \&quot;username\&quot;: \&quot;user-5f8e6b3b-4150-4e78-9832-9b7785fa0fa3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.022043323Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.028867166Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.109279330Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.116533360Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232121587Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232140983Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232170959Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232247002Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot;), &quot;uid&quot;: String(&quot;0310c2b9-0216-4425-82bd-bda397fab815&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:08.983640Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;54a9c2eb-5b0f-47d5-9486-a7dfe3bc5017&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CDeGvGwKNDG4&quot;), &quot;username&quot;: String(&quot;user-5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.022043323Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.028867166Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.109279330Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.116533360Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232121587Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232140983Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232170959Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232247002Z&quot;)}]}}
[2023-01-31T16:23:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3\&quot;,\n    \&quot;uid\&quot;: \&quot;0310c2b9-0216-4425-82bd-bda397fab815\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:08.983640Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;54a9c2eb-5b0f-47d5-9486-a7dfe3bc5017\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CDeGvGwKNDG4\&quot;,\n        \&quot;username\&quot;: \&quot;user-5f8e6b3b-4150-4e78-9832-9b7785fa0fa3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.022043323Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.028867166Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.109279330Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.116533360Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232121587Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232140983Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232170959Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:09.232247002Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot;), &quot;uid&quot;: String(&quot;0310c2b9-0216-4425-82bd-bda397fab815&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:08.983640Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;54a9c2eb-5b0f-47d5-9486-a7dfe3bc5017&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CDeGvGwKNDG4&quot;), &quot;username&quot;: String(&quot;user-5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.022043323Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.028867166Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.109279330Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.116533360Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232121587Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232140983Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232170959Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:09.232247002Z&quot;)}]}}
[2023-01-31T16:23:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:23:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0ODgsImlhdCI6MTY3NTE4MjE4OCwiYXV0aF90aW1lIjoxNjc1MTgyMTg1LCJqdGkiOiJmOTllNzBkNy1kN2NjLTRjNGUtODU4My00OWFlMWVmNDI0NmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdmanhubGsyRlNibUd0TnpEMEdLR2ciLCJzZXNzaW9uX3N0YXRlIjoiYzQzNzhlMWUtMjZlMS00ZTliLWJjMzAtNTYzMjQxNjRiYjU4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0Mzc4ZTFlLTI2ZTEtNGU5Yi1iYzMwLTU2MzI0MTY0YmI1OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.WgBmfMR3ys0iArb-JF8jf7COpof7Q6FcgE-WTlMfk_Ju-Y6UcZ3M1gWr3DkZ9FS6IHbKIukVPAzoySqk0O3IDOojmz_Iw7X0eGuy7tHk-A3ZicyjuDeeKL18DMmHyz-zmXrcBsxooT23u6PVefZ6h2MYgHAyA9dPC0wOQ2pw-8Sr8a16-SUNFdxGAfgfiGomHIeu_kT9HClGmapHI4o1ofe6vDgI337qcOxAXQXGPUCHPeet4c-yzarBxMWsAwByb8FA5euI9I7nCAMnzZFU4ERTUnZMFzGO05fqHiWn4gvYA6XV5KXsGDZuIfPURCYlTIPGwYn5BKjQGwnSaxZCrg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot; &quot;device1&quot;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&#x27;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5f8e6b3b-4150-4e78-9832-9b7785fa0fa3&quot;
[2023-01-31T16:23:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:23:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:23:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:23:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:23:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5OTYsImlhdCI6MTY3NTE4MjE5NiwianRpIjoiNmVhYzNmNjMtNmYwZi00YzdhLWI1ZWUtYmZiZTUwNjRlZjZhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWmJOaXlHUGRnYmNzX1dlcGhCZFR3USIsInNlc3Npb25fc3RhdGUiOiJmNDk3ZWUzMi0yMWExLTQ5NmUtYjUzMC00NzBhNmU1YjU5YmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjQ5N2VlMzItMjFhMS00OTZlLWI1MzAtNDcwYTZlNWI1OWJlIn0.VQdd6289OtC8HRiPlmROiQPxI62GVljGLc-BKSBmWOE
[2023-01-31T16:23:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:23:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODM5OTYsImlhdCI6MTY3NTE4MjE5NiwianRpIjoiNmVhYzNmNjMtNmYwZi00YzdhLWI1ZWUtYmZiZTUwNjRlZjZhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWmJOaXlHUGRnYmNzX1dlcGhCZFR3USIsInNlc3Npb25fc3RhdGUiOiJmNDk3ZWUzMi0yMWExLTQ5NmUtYjUzMC00NzBhNmU1YjU5YmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjQ5N2VlMzItMjFhMS00OTZlLWI1MzAtNDcwYTZlNWI1OWJlIn0.VQdd6289OtC8HRiPlmROiQPxI62GVljGLc-BKSBmWOE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:23:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:17Z INFO  drogue_cloud_tests::resources::apps] Create application: 602aba5b-7c1b-4f78-b8ab-3bdba9181d47
[2023-01-31T16:23:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot;
[2023-01-31T16:23:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47\&quot;,\n    \&quot;uid\&quot;: \&quot;49281861-4d62-4cab-9205-ca56183e5235\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:17.400971Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c625b883-04b0-4196-a2c6-33857a2dc8b2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.443261463Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.451240897Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.451281444Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.414925652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.414926564Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.414934830Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.414969836Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.415000343Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot;), &quot;uid&quot;: String(&quot;49281861-4d62-4cab-9205-ca56183e5235&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:17.400971Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c625b883-04b0-4196-a2c6-33857a2dc8b2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.443261463Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.451240897Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.451281444Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.414925652Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.414926564Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.414934830Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.414969836Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.415000343Z&quot;)}]}}
[2023-01-31T16:23:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47\&quot;,\n    \&quot;uid\&quot;: \&quot;49281861-4d62-4cab-9205-ca56183e5235\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:17.400971Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d83c1e26-c1bc-48e0-8ada-ab638dc89287\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jWOyIO0U86OC\&quot;,\n        \&quot;username\&quot;: \&quot;user-602aba5b-7c1b-4f78-b8ab-3bdba9181d47\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.443261463Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.451240897Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.526257642Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.534974425Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.657537542Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.657556808Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.657650773Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.661810754Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot;), &quot;uid&quot;: String(&quot;49281861-4d62-4cab-9205-ca56183e5235&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:17.400971Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d83c1e26-c1bc-48e0-8ada-ab638dc89287&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jWOyIO0U86OC&quot;), &quot;username&quot;: String(&quot;user-602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.443261463Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.451240897Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.526257642Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.534974425Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.657537542Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.657556808Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.657650773Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.661810754Z&quot;)}]}}
[2023-01-31T16:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47\&quot;,\n    \&quot;uid\&quot;: \&quot;49281861-4d62-4cab-9205-ca56183e5235\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:17.400971Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d83c1e26-c1bc-48e0-8ada-ab638dc89287\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jWOyIO0U86OC\&quot;,\n        \&quot;username\&quot;: \&quot;user-602aba5b-7c1b-4f78-b8ab-3bdba9181d47\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.443261463Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.451240897Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.526257642Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.534974425Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.657537542Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.657556808Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.657650773Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:17.661810754Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot;), &quot;uid&quot;: String(&quot;49281861-4d62-4cab-9205-ca56183e5235&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:17.400971Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d83c1e26-c1bc-48e0-8ada-ab638dc89287&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jWOyIO0U86OC&quot;), &quot;username&quot;: String(&quot;user-602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.443261463Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.451240897Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.526257642Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.534974425Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.657537542Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.657556808Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.657650773Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:17.661810754Z&quot;)}]}}
[2023-01-31T16:23:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:23:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI0OTYsImlhdCI6MTY3NTE4MjE5NiwiYXV0aF90aW1lIjoxNjc1MTgyMTkzLCJqdGkiOiIxODhmNjdjYS03YmM1LTQzMzEtOWUwYi03ZTY2YWFlNmY4YzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpiTml5R1BkZ2Jjc19XZXBoQmRUd1EiLCJzZXNzaW9uX3N0YXRlIjoiZjQ5N2VlMzItMjFhMS00OTZlLWI1MzAtNDcwYTZlNWI1OWJlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY0OTdlZTMyLTIxYTEtNDk2ZS1iNTMwLTQ3MGE2ZTViNTliZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.15qCSdb4wX7g2_JgSPTxvJoiuiMBoTyT0ndiZtlhTqaWD7Cuyt1DSus6eXc53r_ZfDF-ZIadO314jJ35FOxPuf2VvwA9lAa2HYVZkbLMaujohsuNC9O_CMRmNv--8rMNvmgDgm0fxYgejFJPVjixE5d9YQxHd5KteZKeQNE3NvKIsPfVZJz_HefDbk-gpyRemq5tuX8GKA4FV4MIdW06J-G2mZbwZ7oPSFlOsKr8S7MFeshpW-ksT-iFAcH9Sw-qRpMKLayrz4cNknsMbHL6z7N0E59z1aSXIBn8qwNMFRnnmbYVmQTZwMXP24If3JyGqllv-NaPfqDLR-lIgl_o3Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot; &quot;device1&quot;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&#x27;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;602aba5b-7c1b-4f78-b8ab-3bdba9181d47&quot;
[2023-01-31T16:23:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:23:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:23:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:23:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:23:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMDQsImlhdCI6MTY3NTE4MjIwNCwianRpIjoiYWU1Y2Y4ZTgtZjQ5ZC00NTBhLThmNTgtNDYxYWRmNTI4ODlhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieUR3cExIMHZRaGw3ZEJ0TU5zTXN4QSIsInNlc3Npb25fc3RhdGUiOiJhMzVlM2M1NS00ODJkLTRlODktOGE0MS01NWRhNmJmMjYzN2QiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTM1ZTNjNTUtNDgyZC00ZTg5LThhNDEtNTVkYTZiZjI2MzdkIn0.qEqfN76mUNHljb1MbelfqWe0hFDRFpefveH9_c4xmVM
[2023-01-31T16:23:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:23:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMDQsImlhdCI6MTY3NTE4MjIwNCwianRpIjoiYWU1Y2Y4ZTgtZjQ5ZC00NTBhLThmNTgtNDYxYWRmNTI4ODlhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieUR3cExIMHZRaGw3ZEJ0TU5zTXN4QSIsInNlc3Npb25fc3RhdGUiOiJhMzVlM2M1NS00ODJkLTRlODktOGE0MS01NWRhNmJmMjYzN2QiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTM1ZTNjNTUtNDgyZC00ZTg5LThhNDEtNTVkYTZiZjI2MzdkIn0.qEqfN76mUNHljb1MbelfqWe0hFDRFpefveH9_c4xmVM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:23:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:25Z INFO  drogue_cloud_tests::resources::apps] Create application: 2fd472b6-851d-4519-ac16-30ee49c01816
[2023-01-31T16:23:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot;
[2023-01-31T16:23:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2fd472b6-851d-4519-ac16-30ee49c01816\&quot;,\n    \&quot;uid\&quot;: \&quot;07d0fffc-cc85-41df-af3c-240ca676c0ab\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:25.775423Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;34e726bd-09fb-423d-b75e-2543559d52c0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.828639519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.834100764Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.834148274Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.799538918Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.799539839Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.799613187Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.799764269Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.799645989Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot;), &quot;uid&quot;: String(&quot;07d0fffc-cc85-41df-af3c-240ca676c0ab&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:25.775423Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;34e726bd-09fb-423d-b75e-2543559d52c0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.828639519Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.834100764Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.834148274Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.799538918Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.799539839Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.799613187Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.799764269Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.799645989Z&quot;)}]}}
[2023-01-31T16:23:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:23:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2fd472b6-851d-4519-ac16-30ee49c01816\&quot;,\n    \&quot;uid\&quot;: \&quot;07d0fffc-cc85-41df-af3c-240ca676c0ab\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:25.775423Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0eb43094-3454-43f1-b304-1e1353eee056\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;aPAPykCovfaJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-2fd472b6-851d-4519-ac16-30ee49c01816\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.828639519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.834100764Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.947046663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.958826507Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118294704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118316556Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118410871Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118358222Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot;), &quot;uid&quot;: String(&quot;07d0fffc-cc85-41df-af3c-240ca676c0ab&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:25.775423Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0eb43094-3454-43f1-b304-1e1353eee056&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;aPAPykCovfaJ&quot;), &quot;username&quot;: String(&quot;user-2fd472b6-851d-4519-ac16-30ee49c01816&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.828639519Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.834100764Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.947046663Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.958826507Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118294704Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118316556Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118410871Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118358222Z&quot;)}]}}
[2023-01-31T16:23:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:23:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2fd472b6-851d-4519-ac16-30ee49c01816\&quot;,\n    \&quot;uid\&quot;: \&quot;07d0fffc-cc85-41df-af3c-240ca676c0ab\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:25.775423Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0eb43094-3454-43f1-b304-1e1353eee056\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;aPAPykCovfaJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-2fd472b6-851d-4519-ac16-30ee49c01816\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.828639519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.834100764Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.947046663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:25.958826507Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118294704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118316556Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118410871Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:26.118358222Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot;), &quot;uid&quot;: String(&quot;07d0fffc-cc85-41df-af3c-240ca676c0ab&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:25.775423Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0eb43094-3454-43f1-b304-1e1353eee056&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;aPAPykCovfaJ&quot;), &quot;username&quot;: String(&quot;user-2fd472b6-851d-4519-ac16-30ee49c01816&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.828639519Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.834100764Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.947046663Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:25.958826507Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118294704Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118316556Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118410871Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:26.118358222Z&quot;)}]}}
[2023-01-31T16:23:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:23:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:23:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:23:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1MDUsImlhdCI6MTY3NTE4MjIwNSwiYXV0aF90aW1lIjoxNjc1MTgyMjAyLCJqdGkiOiJjOTllYzYyNy00NGI3LTRmZjEtYjAwYi03NTExYjI1MmY2ODMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlEd3BMSDB2UWhsN2RCdE1Oc01zeEEiLCJzZXNzaW9uX3N0YXRlIjoiYTM1ZTNjNTUtNDgyZC00ZTg5LThhNDEtNTVkYTZiZjI2MzdkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzNWUzYzU1LTQ4MmQtNGU4OS04YTQxLTU1ZGE2YmYyNjM3ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.TPt0PO_NMPmGKgujM5CTVjYH9NrQkN1nj29iDxf_qeRfCJL0GgrxWcHtPZxGZrm3RjSL2IbmSApTd023WRx5wmN99yY8Kmp1Z3qQ2VE9O-BqDk0nNuhP4nDjqFvdgU4FrAhEYNUBVGwXBew32LH0twYIJcWewuKe3rIpPvxBi-CcMkRV7NBKRmSOsfAeafNg3MokVFenjwUgzkf2amwLIJESfR3v_PgBPqqiL333-gw-Cl1YuNfqlipaigL3WEiuWSy7MBMMG9GJRc-WR7a0s4j5mFy4SzDC5wgKs--9ih_Bhh-MaQ78ouR63V6Uu36AjEHD_KR769npAyHJeXgBhw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot; &quot;device1&quot;
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2fd472b6-851d-4519-ac16-30ee49c01816&#x27;
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2fd472b6-851d-4519-ac16-30ee49c01816&quot;
[2023-01-31T16:23:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:23:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:23:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:23:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:23:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMTQsImlhdCI6MTY3NTE4MjIxNCwianRpIjoiOTE2MGEyZDAtNWQyOC00OTU5LWE4ZjEtYmQ5N2NlMGZiMjdiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX0hNNW9UZFV0NjFrV3VCQzZXOExmZyIsInNlc3Npb25fc3RhdGUiOiIwNjcyMzBhNS01ZGYxLTRmMDItODBlOC0zOGM2MGZiM2U4M2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDY3MjMwYTUtNWRmMS00ZjAyLTgwZTgtMzhjNjBmYjNlODNjIn0.NTT-gb8JFtTo8DNV6WpzUSNqIyA0J0w3_PcGHDe3Lk4
[2023-01-31T16:23:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:23:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMTQsImlhdCI6MTY3NTE4MjIxNCwianRpIjoiOTE2MGEyZDAtNWQyOC00OTU5LWE4ZjEtYmQ5N2NlMGZiMjdiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX0hNNW9UZFV0NjFrV3VCQzZXOExmZyIsInNlc3Npb25fc3RhdGUiOiIwNjcyMzBhNS01ZGYxLTRmMDItODBlOC0zOGM2MGZiM2U4M2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDY3MjMwYTUtNWRmMS00ZjAyLTgwZTgtMzhjNjBmYjNlODNjIn0.NTT-gb8JFtTo8DNV6WpzUSNqIyA0J0w3_PcGHDe3Lk4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:23:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:35Z INFO  drogue_cloud_tests::resources::apps] Create application: 584804e0-1d19-4e2c-88f8-b9cc16ed613d
[2023-01-31T16:23:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot;
[2023-01-31T16:23:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d\&quot;,\n    \&quot;uid\&quot;: \&quot;3db5911f-23e2-451a-a472-cfc5de71dfd8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:35.168222Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d4919722-4d60-4902-8acc-fdb7d18d9cd9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.214945737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.223665738Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.223704239Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.190603276Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.190604057Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.190616621Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.190691229Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.190640906Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot;), &quot;uid&quot;: String(&quot;3db5911f-23e2-451a-a472-cfc5de71dfd8&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:35.168222Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d4919722-4d60-4902-8acc-fdb7d18d9cd9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.214945737Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.223665738Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.223704239Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.190603276Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.190604057Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.190616621Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.190691229Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.190640906Z&quot;)}]}}
[2023-01-31T16:23:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d\&quot;,\n    \&quot;uid\&quot;: \&quot;3db5911f-23e2-451a-a472-cfc5de71dfd8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:35.168222Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e6f5ea98-83dd-4c55-bfe1-7740aa80f8e6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;DA7NLEm6qJ6q\&quot;,\n        \&quot;username\&quot;: \&quot;user-584804e0-1d19-4e2c-88f8-b9cc16ed613d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.214945737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.223665738Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.298012921Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.308500719Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.443849534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.444420141Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.444635394Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.444461238Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot;), &quot;uid&quot;: String(&quot;3db5911f-23e2-451a-a472-cfc5de71dfd8&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:35.168222Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e6f5ea98-83dd-4c55-bfe1-7740aa80f8e6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;DA7NLEm6qJ6q&quot;), &quot;username&quot;: String(&quot;user-584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.214945737Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.223665738Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.298012921Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.308500719Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.443849534Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.444420141Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.444635394Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.444461238Z&quot;)}]}}
[2023-01-31T16:23:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d\&quot;,\n    \&quot;uid\&quot;: \&quot;3db5911f-23e2-451a-a472-cfc5de71dfd8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:35.168222Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e6f5ea98-83dd-4c55-bfe1-7740aa80f8e6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;DA7NLEm6qJ6q\&quot;,\n        \&quot;username\&quot;: \&quot;user-584804e0-1d19-4e2c-88f8-b9cc16ed613d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.214945737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.223665738Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.298012921Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.308500719Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.443849534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.444420141Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.444635394Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:35.444461238Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot;), &quot;uid&quot;: String(&quot;3db5911f-23e2-451a-a472-cfc5de71dfd8&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:35.168222Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e6f5ea98-83dd-4c55-bfe1-7740aa80f8e6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;DA7NLEm6qJ6q&quot;), &quot;username&quot;: String(&quot;user-584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.214945737Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.223665738Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.298012921Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.308500719Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.443849534Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.444420141Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.444635394Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:35.444461238Z&quot;)}]}}
[2023-01-31T16:23:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:23:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1MTQsImlhdCI6MTY3NTE4MjIxNCwiYXV0aF90aW1lIjoxNjc1MTgyMjExLCJqdGkiOiJkNTA2MzY4MS0xZDllLTQ1ZjAtOWNhZC02YWQ5NTUxMDJiYmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il9ITTVvVGRVdDYxa1d1QkM2VzhMZmciLCJzZXNzaW9uX3N0YXRlIjoiMDY3MjMwYTUtNWRmMS00ZjAyLTgwZTgtMzhjNjBmYjNlODNjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA2NzIzMGE1LTVkZjEtNGYwMi04MGU4LTM4YzYwZmIzZTgzYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.voSoNxmewRtwQnJc7g6S-1-vuGzB6tiIyTHaHSfPcnaYfB9NQZE9NXvtahDWxT8xJLWaaewDCs5aRSE67-_S7Ye75ehlS0YG6ZYQ3MnpDNc6INPgUlo9ijIdY0EaTPvxhVJC4X9F8eJuzYET7qx87_e2nIBHpVs90-GmYszxk-cwBzPhC3XKCNsH4NlNK2kAr33Gn8ycds0my2r9Ghel9nTVuK15jb9qgRNdMUuZ09RmYULm0fQXwZsqighoVVJPRJbCTwh_XLx1m7l-hbT94hf30uIqOxDRVGLicqPJeGr_MAHrK2foAIAiUZoxu0Wm7wpDTkF6BDMV4n9T57Bd4w\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot; &quot;device1&quot;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;584804e0-1d19-4e2c-88f8-b9cc16ed613d&#x27;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;584804e0-1d19-4e2c-88f8-b9cc16ed613d&quot;
[2023-01-31T16:23:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:23:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:23:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:23:41Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:23:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMjIsImlhdCI6MTY3NTE4MjIyMiwianRpIjoiMjFkYThiMWItYzg1OC00MjA1LTk0NTgtNjI2YWNkNzY2M2E5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWGlvclUwazE2SVNCeEdoaWpfTWZxZyIsInNlc3Npb25fc3RhdGUiOiI5ZDcxN2U1OS1kMTQ3LTQ1YTAtYTk2Mi0wZTM4NWE4ZTdlMGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWQ3MTdlNTktZDE0Ny00NWEwLWE5NjItMGUzODVhOGU3ZTBlIn0.Mei8HVu1XOGdp-5C_ZbLkGjb6ti2wGSGf1i0P0WCkEs
[2023-01-31T16:23:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:23:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMjIsImlhdCI6MTY3NTE4MjIyMiwianRpIjoiMjFkYThiMWItYzg1OC00MjA1LTk0NTgtNjI2YWNkNzY2M2E5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWGlvclUwazE2SVNCeEdoaWpfTWZxZyIsInNlc3Npb25fc3RhdGUiOiI5ZDcxN2U1OS1kMTQ3LTQ1YTAtYTk2Mi0wZTM4NWE4ZTdlMGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWQ3MTdlNTktZDE0Ny00NWEwLWE5NjItMGUzODVhOGU3ZTBlIn0.Mei8HVu1XOGdp-5C_ZbLkGjb6ti2wGSGf1i0P0WCkEs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:23:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:43Z INFO  drogue_cloud_tests::resources::apps] Create application: e62cf591-8f3b-41cc-ac57-a9329e8b2ff8
[2023-01-31T16:23:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot;
[2023-01-31T16:23:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8\&quot;,\n    \&quot;uid\&quot;: \&quot;3e8a8a70-dd50-428b-b989-5cdf1473f2df\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:43.812205Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3ae2ac5d-5573-45a6-88fe-6df31e423c23\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.861080348Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.866673750Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.866722661Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.834082298Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.834082909Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.834087037Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.834193998Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.834108277Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot;), &quot;uid&quot;: String(&quot;3e8a8a70-dd50-428b-b989-5cdf1473f2df&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:43.812205Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3ae2ac5d-5573-45a6-88fe-6df31e423c23&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.861080348Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.866673750Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.866722661Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.834082298Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.834082909Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.834087037Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.834193998Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.834108277Z&quot;)}]}}
[2023-01-31T16:23:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:23:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8\&quot;,\n    \&quot;uid\&quot;: \&quot;3e8a8a70-dd50-428b-b989-5cdf1473f2df\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:43.812205Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;54b0b196-81f4-48f8-8b3b-f42ee8b5e0ce\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;NWAUVeDnRt0f\&quot;,\n        \&quot;username\&quot;: \&quot;user-e62cf591-8f3b-41cc-ac57-a9329e8b2ff8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.861080348Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.866673750Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.935949128Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.942011398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088562549Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088668186Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088799732Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088701799Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot;), &quot;uid&quot;: String(&quot;3e8a8a70-dd50-428b-b989-5cdf1473f2df&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:43.812205Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;54b0b196-81f4-48f8-8b3b-f42ee8b5e0ce&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;NWAUVeDnRt0f&quot;), &quot;username&quot;: String(&quot;user-e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.861080348Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.866673750Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.935949128Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.942011398Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088562549Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088668186Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088799732Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088701799Z&quot;)}]}}
[2023-01-31T16:23:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:23:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8\&quot;,\n    \&quot;uid\&quot;: \&quot;3e8a8a70-dd50-428b-b989-5cdf1473f2df\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:43.812205Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;54b0b196-81f4-48f8-8b3b-f42ee8b5e0ce\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;NWAUVeDnRt0f\&quot;,\n        \&quot;username\&quot;: \&quot;user-e62cf591-8f3b-41cc-ac57-a9329e8b2ff8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.861080348Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.866673750Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.935949128Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:43.942011398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088562549Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088668186Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088799732Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:44.088701799Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot;), &quot;uid&quot;: String(&quot;3e8a8a70-dd50-428b-b989-5cdf1473f2df&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:43.812205Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;54b0b196-81f4-48f8-8b3b-f42ee8b5e0ce&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;NWAUVeDnRt0f&quot;), &quot;username&quot;: String(&quot;user-e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.861080348Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.866673750Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.935949128Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:43.942011398Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088562549Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088668186Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088799732Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:44.088701799Z&quot;)}]}}
[2023-01-31T16:23:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:23:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:23:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:23:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1MjMsImlhdCI6MTY3NTE4MjIyMywiYXV0aF90aW1lIjoxNjc1MTgyMjIwLCJqdGkiOiIxZGUzNTQyMi02ZjIwLTRhNDgtYWY3MS0xNDFkMzRmNTllMDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ilhpb3JVMGsxNklTQnhHaGlqX01mcWciLCJzZXNzaW9uX3N0YXRlIjoiOWQ3MTdlNTktZDE0Ny00NWEwLWE5NjItMGUzODVhOGU3ZTBlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlkNzE3ZTU5LWQxNDctNDVhMC1hOTYyLTBlMzg1YThlN2UwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.wt_MCTU6o2N-QyrPxhohXTTtEUOhZSnMh_LTt3kJfxjnmaATfZ5c3NeC7QEF01kKd7qvj8G6HTBCuh5jJyORwLedErMGZKzOlfg7EHndGDVbHKxel5arge3qYIO_3FLyrvSjzJGplx-tC9fiks_O49Kzrjqg9bkGhNay_43n-5Rxbm9RtnDBwxCS88hi-71ze9R8dKiRWsEwmdpqcImg75zIEC2aSlVLvbuab_O8tGEKMhS5jiSd6Bsq7ML_IFBxAFFVWRPxu8LE3FXtPgA0rJ9LenuWa4v-bRUaTGYDXUBXY7olPhDh2g8RuiqHJ42RzCMxxCTpWaof3xtt4H6T8w\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot; &quot;device1&quot;
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&#x27;
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e62cf591-8f3b-41cc-ac57-a9329e8b2ff8&quot;
[2023-01-31T16:23:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:23:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:23:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:23:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:23:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMzEsImlhdCI6MTY3NTE4MjIzMSwianRpIjoiZGEzOTZjYWEtZWI5ZC00M2M1LTkzOWMtMjNmODdkYmMxOTYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic2NtN0dUdzFJZGdnU0hlbkNBTnAxUSIsInNlc3Npb25fc3RhdGUiOiJmMDNmZDUyNi1hOWM3LTQ3ZDEtYTQ4Ny1lMWY3OWMxZTA2MGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjAzZmQ1MjYtYTljNy00N2QxLWE0ODctZTFmNzljMWUwNjBhIn0.zJhnj1hiMpDqay2FU26aXfOtcHrXCWpeO7gQTT56gXM
[2023-01-31T16:23:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:23:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMzEsImlhdCI6MTY3NTE4MjIzMSwianRpIjoiZGEzOTZjYWEtZWI5ZC00M2M1LTkzOWMtMjNmODdkYmMxOTYyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic2NtN0dUdzFJZGdnU0hlbkNBTnAxUSIsInNlc3Npb25fc3RhdGUiOiJmMDNmZDUyNi1hOWM3LTQ3ZDEtYTQ4Ny1lMWY3OWMxZTA2MGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjAzZmQ1MjYtYTljNy00N2QxLWE0ODctZTFmNzljMWUwNjBhIn0.zJhnj1hiMpDqay2FU26aXfOtcHrXCWpeO7gQTT56gXM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:23:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:52Z INFO  drogue_cloud_tests::resources::apps] Create application: 4833a385-fea7-493c-beef-238e01f8155b
[2023-01-31T16:23:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4833a385-fea7-493c-beef-238e01f8155b&quot;
[2023-01-31T16:23:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4833a385-fea7-493c-beef-238e01f8155b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4833a385-fea7-493c-beef-238e01f8155b\&quot;,\n    \&quot;uid\&quot;: \&quot;e2ede3fb-5dbe-4794-94f3-6e852d118374\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:52.353375Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d057d45e-0884-4f2a-bafc-2e404620b4cd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.404278411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.411523442Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.411562044Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.378617693Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.378618263Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.378622892Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.378699886Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.378672815Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4833a385-fea7-493c-beef-238e01f8155b&quot;), &quot;uid&quot;: String(&quot;e2ede3fb-5dbe-4794-94f3-6e852d118374&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:52.353375Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d057d45e-0884-4f2a-bafc-2e404620b4cd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.404278411Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.411523442Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.411562044Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.378617693Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.378618263Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.378622892Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.378699886Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.378672815Z&quot;)}]}}
[2023-01-31T16:23:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4833a385-fea7-493c-beef-238e01f8155b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4833a385-fea7-493c-beef-238e01f8155b\&quot;,\n    \&quot;uid\&quot;: \&quot;e2ede3fb-5dbe-4794-94f3-6e852d118374\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:52.353375Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6841ab4d-d52a-4449-acc0-09dcc7c1dfdc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;dMUuhvTGCSPV\&quot;,\n        \&quot;username\&quot;: \&quot;user-4833a385-fea7-493c-beef-238e01f8155b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.404278411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.411523442Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.487349555Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.494350429Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627639657Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627653864Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627781222Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627724936Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4833a385-fea7-493c-beef-238e01f8155b&quot;), &quot;uid&quot;: String(&quot;e2ede3fb-5dbe-4794-94f3-6e852d118374&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:52.353375Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6841ab4d-d52a-4449-acc0-09dcc7c1dfdc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;dMUuhvTGCSPV&quot;), &quot;username&quot;: String(&quot;user-4833a385-fea7-493c-beef-238e01f8155b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.404278411Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.411523442Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.487349555Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.494350429Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627639657Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627653864Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627781222Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627724936Z&quot;)}]}}
[2023-01-31T16:23:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4833a385-fea7-493c-beef-238e01f8155b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4833a385-fea7-493c-beef-238e01f8155b\&quot;,\n    \&quot;uid\&quot;: \&quot;e2ede3fb-5dbe-4794-94f3-6e852d118374\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:23:52.353375Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6841ab4d-d52a-4449-acc0-09dcc7c1dfdc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;dMUuhvTGCSPV\&quot;,\n        \&quot;username\&quot;: \&quot;user-4833a385-fea7-493c-beef-238e01f8155b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.404278411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.411523442Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.487349555Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.494350429Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627639657Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627653864Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627781222Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:23:52.627724936Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4833a385-fea7-493c-beef-238e01f8155b&quot;), &quot;uid&quot;: String(&quot;e2ede3fb-5dbe-4794-94f3-6e852d118374&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:23:52.353375Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6841ab4d-d52a-4449-acc0-09dcc7c1dfdc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;dMUuhvTGCSPV&quot;), &quot;username&quot;: String(&quot;user-4833a385-fea7-493c-beef-238e01f8155b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.404278411Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.411523442Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.487349555Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.494350429Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627639657Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627653864Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627781222Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:23:52.627724936Z&quot;)}]}}
[2023-01-31T16:23:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4833a385-fea7-493c-beef-238e01f8155b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:23:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1MzEsImlhdCI6MTY3NTE4MjIzMSwiYXV0aF90aW1lIjoxNjc1MTgyMjI4LCJqdGkiOiI1MTQ0OWJiYS0xZDQ5LTQ3Y2UtYWU4ZC1kYmFlZDVkODhiZjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNjbTdHVHcxSWRnZ1NIZW5DQU5wMVEiLCJzZXNzaW9uX3N0YXRlIjoiZjAzZmQ1MjYtYTljNy00N2QxLWE0ODctZTFmNzljMWUwNjBhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYwM2ZkNTI2LWE5YzctNDdkMS1hNDg3LWUxZjc5YzFlMDYwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.2p8vE3MyrJ-qXtNnpr65BFAFNKus9jjX0cYVRm2p3UDzGKi6aIY98cUjGLF-tO4x9-bZ6G7Avs85tb0cs-18iTIAP6VQ_mQNpHXABK87USLQxRFdOQSn5lx6nkLOsC88MkvTCNivtvV9KIAZvGi6WDKzV6fJ5HTv0JDXlTnEzzk5Kmi52UVvsiitdCiSMQouyWXwRf5XSeoqET3chFmFCSCy0Who4H4-kS_I7xgkZ_yOJycCr7vUZzwBoheoGGYryJqsWGknxXd65ABbMVKJ0f-kvYrHqtxGnnOc_q1r0VswcDiQNTXvvSht0zak227jDRydN6WjtCmkp47uy6hDuQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4833a385-fea7-493c-beef-238e01f8155b&quot; &quot;device1&quot;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4833a385-fea7-493c-beef-238e01f8155b&#x27;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4833a385-fea7-493c-beef-238e01f8155b&quot;
[2023-01-31T16:23:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:23:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:23:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:23:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:23:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:23:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:23:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:23:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMzksImlhdCI6MTY3NTE4MjIzOSwianRpIjoiY2QwYWNjZmQtYTQwMi00YzVjLWE0ZTYtNDM3ZDA4ZDg3MGMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMXlTT1M4VFpQcHFnMzRETTBlNUxPZyIsInNlc3Npb25fc3RhdGUiOiIwMzQ4NDYyYi1lNmI3LTQwM2UtOGUxYi02ZWVkNTFjYWNmNmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDM0ODQ2MmItZTZiNy00MDNlLThlMWItNmVlZDUxY2FjZjZiIn0.V4DnFg9dpQcQ8jPEeFSHFNFZogQ6jMsYBzJGUCUVXrg
[2023-01-31T16:24:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:24:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwMzksImlhdCI6MTY3NTE4MjIzOSwianRpIjoiY2QwYWNjZmQtYTQwMi00YzVjLWE0ZTYtNDM3ZDA4ZDg3MGMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMXlTT1M4VFpQcHFnMzRETTBlNUxPZyIsInNlc3Npb25fc3RhdGUiOiIwMzQ4NDYyYi1lNmI3LTQwM2UtOGUxYi02ZWVkNTFjYWNmNmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDM0ODQ2MmItZTZiNy00MDNlLThlMWItNmVlZDUxY2FjZjZiIn0.V4DnFg9dpQcQ8jPEeFSHFNFZogQ6jMsYBzJGUCUVXrg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:24:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:00Z INFO  drogue_cloud_tests::resources::apps] Create application: ef2978c3-47e0-4588-85f9-d33b99d1e264
[2023-01-31T16:24:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot;
[2023-01-31T16:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ef2978c3-47e0-4588-85f9-d33b99d1e264\&quot;,\n    \&quot;uid\&quot;: \&quot;de40aba2-c455-462a-ac79-b8eef42c8788\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:00.988007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f7158b3d-acc4-48ce-85e8-c708896008b1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.028762959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.034370107Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.034410513Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:00.999691379Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:00.999692312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:00.999952439Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:00.999986412Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.000130291Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot;), &quot;uid&quot;: String(&quot;de40aba2-c455-462a-ac79-b8eef42c8788&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:00.988007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f7158b3d-acc4-48ce-85e8-c708896008b1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.028762959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.034370107Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.034410513Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:00.999691379Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:00.999692312Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:00.999952439Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:00.999986412Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.000130291Z&quot;)}]}}
[2023-01-31T16:24:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ef2978c3-47e0-4588-85f9-d33b99d1e264\&quot;,\n    \&quot;uid\&quot;: \&quot;de40aba2-c455-462a-ac79-b8eef42c8788\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:00.988007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;32fef92f-0c9f-4fda-ae76-f55a9c88aaa1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cdSepvaG91qW\&quot;,\n        \&quot;username\&quot;: \&quot;user-ef2978c3-47e0-4588-85f9-d33b99d1e264\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.028762959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.034370107Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.112299275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.119681824Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.234920319Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.234939976Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.234970222Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.235531121Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot;), &quot;uid&quot;: String(&quot;de40aba2-c455-462a-ac79-b8eef42c8788&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:00.988007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;32fef92f-0c9f-4fda-ae76-f55a9c88aaa1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cdSepvaG91qW&quot;), &quot;username&quot;: String(&quot;user-ef2978c3-47e0-4588-85f9-d33b99d1e264&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.028762959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.034370107Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.112299275Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.119681824Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.234920319Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.234939976Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.234970222Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.235531121Z&quot;)}]}}
[2023-01-31T16:24:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ef2978c3-47e0-4588-85f9-d33b99d1e264\&quot;,\n    \&quot;uid\&quot;: \&quot;de40aba2-c455-462a-ac79-b8eef42c8788\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:00.988007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;32fef92f-0c9f-4fda-ae76-f55a9c88aaa1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cdSepvaG91qW\&quot;,\n        \&quot;username\&quot;: \&quot;user-ef2978c3-47e0-4588-85f9-d33b99d1e264\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.028762959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.034370107Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.112299275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.119681824Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.234920319Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.234939976Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.234970222Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:01.235531121Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot;), &quot;uid&quot;: String(&quot;de40aba2-c455-462a-ac79-b8eef42c8788&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:00.988007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;32fef92f-0c9f-4fda-ae76-f55a9c88aaa1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cdSepvaG91qW&quot;), &quot;username&quot;: String(&quot;user-ef2978c3-47e0-4588-85f9-d33b99d1e264&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.028762959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.034370107Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.112299275Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.119681824Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.234920319Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.234939976Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.234970222Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:01.235531121Z&quot;)}]}}
[2023-01-31T16:24:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:24:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1NDAsImlhdCI6MTY3NTE4MjI0MCwiYXV0aF90aW1lIjoxNjc1MTgyMjM3LCJqdGkiOiIxM2EzMjNkOC00YjYzLTRhZWYtOTkyMy1iYWM5NTMwYjZkZWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjF5U09TOFRaUHBxZzM0RE0wZTVMT2ciLCJzZXNzaW9uX3N0YXRlIjoiMDM0ODQ2MmItZTZiNy00MDNlLThlMWItNmVlZDUxY2FjZjZiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAzNDg0NjJiLWU2YjctNDAzZS04ZTFiLTZlZWQ1MWNhY2Y2YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.f3tFtkdJjPrnpu7wO7vWNM5ZmbdcMxLjv1L14IT3gNlMb2wA8d2VbrjsaPKk1mtI5wvmzn4cep3dSeuOgUPTaWE3WczpG2-2ioQlwbvFpuf40oV3PXuymMWiBAhXrqs3to9JsalgaAF3woBNeXsV-x5qUS41S2iqJLSyxU-334g2YR5VtUT1EAMa1oT2K79mS7jA8pl-yYw11DnAT_hPdlJmXokCQri0QmzyzJVqi4X690S9y11aDFFdlWo4Qjk8_PVEsUn5jsHCmoGRwLWDgQ8BGEB-S4ujLu3QQ00CDBfQS2ykaoUw4qsY8D51Na1VZg6rZCk47KrKKfbyGNaSwA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot; &quot;device1&quot;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ef2978c3-47e0-4588-85f9-d33b99d1e264&#x27;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ef2978c3-47e0-4588-85f9-d33b99d1e264&quot;
[2023-01-31T16:24:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:24:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:24:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:24:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:24:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNDgsImlhdCI6MTY3NTE4MjI0OCwianRpIjoiMTViOGYxOWQtM2Y4Yi00Zjc5LTkzYmUtZmNhMWQ4Zjc3OGI2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWDNCNzRNZm5ZNHNrM3FsenVXNVdxQSIsInNlc3Npb25fc3RhdGUiOiJjYWRlZjUxYi00ZTU0LTQ4OWYtYjhiZi02Y2ExMmQ5NWZhMjgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2FkZWY1MWItNGU1NC00ODlmLWI4YmYtNmNhMTJkOTVmYTI4In0.UAw8TmCL4drdLgjzJfPaQQfaXXEDvNnERGeM4bv7O0k
[2023-01-31T16:24:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:24:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNDgsImlhdCI6MTY3NTE4MjI0OCwianRpIjoiMTViOGYxOWQtM2Y4Yi00Zjc5LTkzYmUtZmNhMWQ4Zjc3OGI2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWDNCNzRNZm5ZNHNrM3FsenVXNVdxQSIsInNlc3Npb25fc3RhdGUiOiJjYWRlZjUxYi00ZTU0LTQ4OWYtYjhiZi02Y2ExMmQ5NWZhMjgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2FkZWY1MWItNGU1NC00ODlmLWI4YmYtNmNhMTJkOTVmYTI4In0.UAw8TmCL4drdLgjzJfPaQQfaXXEDvNnERGeM4bv7O0k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:24:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:09Z INFO  drogue_cloud_tests::resources::apps] Create application: 636005d5-2fd3-4652-ac7a-a983327732d0
[2023-01-31T16:24:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot;
[2023-01-31T16:24:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;636005d5-2fd3-4652-ac7a-a983327732d0\&quot;,\n    \&quot;uid\&quot;: \&quot;864cfc6d-a5bc-48a7-ad41-f4e189fc78eb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:09.609976Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9b695033-9fa9-451d-98e4-16156e699f35\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.670222950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.676436934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.676473072Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.633366970Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.633367621Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.633378171Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.633445938Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.633423255Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot;), &quot;uid&quot;: String(&quot;864cfc6d-a5bc-48a7-ad41-f4e189fc78eb&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:09.609976Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9b695033-9fa9-451d-98e4-16156e699f35&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.670222950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.676436934Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.676473072Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.633366970Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.633367621Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.633378171Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.633445938Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.633423255Z&quot;)}]}}
[2023-01-31T16:24:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;636005d5-2fd3-4652-ac7a-a983327732d0\&quot;,\n    \&quot;uid\&quot;: \&quot;864cfc6d-a5bc-48a7-ad41-f4e189fc78eb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:09.609976Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5f024827-4376-4e0a-a94a-18149f942d20\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;KkPXSoG2TteU\&quot;,\n        \&quot;username\&quot;: \&quot;user-636005d5-2fd3-4652-ac7a-a983327732d0\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.670222950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.676436934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.741349905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.747213474Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858007455Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858031741Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858137870Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858061687Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot;), &quot;uid&quot;: String(&quot;864cfc6d-a5bc-48a7-ad41-f4e189fc78eb&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:09.609976Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5f024827-4376-4e0a-a94a-18149f942d20&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;KkPXSoG2TteU&quot;), &quot;username&quot;: String(&quot;user-636005d5-2fd3-4652-ac7a-a983327732d0&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.670222950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.676436934Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.741349905Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.747213474Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858007455Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858031741Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858137870Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858061687Z&quot;)}]}}
[2023-01-31T16:24:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;636005d5-2fd3-4652-ac7a-a983327732d0\&quot;,\n    \&quot;uid\&quot;: \&quot;864cfc6d-a5bc-48a7-ad41-f4e189fc78eb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:09.609976Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5f024827-4376-4e0a-a94a-18149f942d20\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;KkPXSoG2TteU\&quot;,\n        \&quot;username\&quot;: \&quot;user-636005d5-2fd3-4652-ac7a-a983327732d0\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.670222950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.676436934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.741349905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.747213474Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858007455Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858031741Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858137870Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:09.858061687Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot;), &quot;uid&quot;: String(&quot;864cfc6d-a5bc-48a7-ad41-f4e189fc78eb&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:09.609976Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5f024827-4376-4e0a-a94a-18149f942d20&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;KkPXSoG2TteU&quot;), &quot;username&quot;: String(&quot;user-636005d5-2fd3-4652-ac7a-a983327732d0&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.670222950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.676436934Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.741349905Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.747213474Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858007455Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858031741Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858137870Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:09.858061687Z&quot;)}]}}
[2023-01-31T16:24:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:24:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1NDksImlhdCI6MTY3NTE4MjI0OSwiYXV0aF90aW1lIjoxNjc1MTgyMjQ1LCJqdGkiOiI2ZWYxMzRhNC02NmNhLTQ0MWQtOGFhYy0zODkzZTZhMzUyMDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlgzQjc0TWZuWTRzazNxbHp1VzVXcUEiLCJzZXNzaW9uX3N0YXRlIjoiY2FkZWY1MWItNGU1NC00ODlmLWI4YmYtNmNhMTJkOTVmYTI4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhZGVmNTFiLTRlNTQtNDg5Zi1iOGJmLTZjYTEyZDk1ZmEyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FtOXplKxTdiPKvUJKxUZUJIVQnAmqvNQc-TKhdIZiSI4mXSijQhEHOu9PqLZ6Py6mkymP3z9Jn2j-vM13KobDp18wR3VErSrharFZAwjmP4coOErA3YklnHjqVhJEqol9E9jJFF597qC7B5PkZf7TcOEwmkWgODREOyQZZBOz9bgmH7lB_SBiUmwyW3L-sYkBG71g_oFpcxWh0J8EvF9gJLQ9tteWvpNtI0pG5vcRlk8-6LXlFz1ohDUe96k5MCrChYWircqHGy6j6Y2rqjsegmsxxvHPULyLoRK0-aMvYrnqloqW_--PzvHRWZEsE7F4Ux6T-HlZvCKK7B20sGdhg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:24:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot; &quot;device1&quot;
[2023-01-31T16:24:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:24:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot; &quot;gateway1&quot;
[2023-01-31T16:24:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;636005d5-2fd3-4652-ac7a-a983327732d0&#x27;
[2023-01-31T16:24:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;636005d5-2fd3-4652-ac7a-a983327732d0&quot;
[2023-01-31T16:24:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:24:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:24:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:24:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:24:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNTcsImlhdCI6MTY3NTE4MjI1NywianRpIjoiNDIxYWYzNmYtMDRlYi00Y2RhLWIxYjAtNWZkYzg3Zjk5ZDM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibnc2ZlZrSkl2cDBRc1U1YWM0dkttZyIsInNlc3Npb25fc3RhdGUiOiI1NjAxMjkzMy01NzljLTQ1NDgtYWIyNC1jYTJkM2IxNmE4ZmYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTYwMTI5MzMtNTc5Yy00NTQ4LWFiMjQtY2EyZDNiMTZhOGZmIn0.mN9DU16heSDoicGKWUrHAqJbDfnbGI8qVK3lM82hTRg
[2023-01-31T16:24:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:24:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNTcsImlhdCI6MTY3NTE4MjI1NywianRpIjoiNDIxYWYzNmYtMDRlYi00Y2RhLWIxYjAtNWZkYzg3Zjk5ZDM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibnc2ZlZrSkl2cDBRc1U1YWM0dkttZyIsInNlc3Npb25fc3RhdGUiOiI1NjAxMjkzMy01NzljLTQ1NDgtYWIyNC1jYTJkM2IxNmE4ZmYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTYwMTI5MzMtNTc5Yy00NTQ4LWFiMjQtY2EyZDNiMTZhOGZmIn0.mN9DU16heSDoicGKWUrHAqJbDfnbGI8qVK3lM82hTRg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:24:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:18Z INFO  drogue_cloud_tests::resources::apps] Create application: 3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15
[2023-01-31T16:24:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot;
[2023-01-31T16:24:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15\&quot;,\n    \&quot;uid\&quot;: \&quot;39120a74-41a8-4046-bfe4-a2d271f50dcf\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:18.709944Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8d3f65b0-3696-455e-b1a6-1cc0c82f9063\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.759418445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.770983809Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.771026769Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.732778414Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.732779036Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.732783364Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.732847574Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.732806858Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot;), &quot;uid&quot;: String(&quot;39120a74-41a8-4046-bfe4-a2d271f50dcf&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:18.709944Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8d3f65b0-3696-455e-b1a6-1cc0c82f9063&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.759418445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.770983809Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.771026769Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.732778414Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.732779036Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.732783364Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.732847574Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.732806858Z&quot;)}]}}
[2023-01-31T16:24:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15\&quot;,\n    \&quot;uid\&quot;: \&quot;39120a74-41a8-4046-bfe4-a2d271f50dcf\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:18.709944Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a88298b4-1542-447e-b498-a8cf99a70b30\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VksS5N9UuZZs\&quot;,\n        \&quot;username\&quot;: \&quot;user-3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.759418445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.770983809Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.865635108Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.873463701Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.988799472Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.988899269Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.989061543Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.988952419Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot;), &quot;uid&quot;: String(&quot;39120a74-41a8-4046-bfe4-a2d271f50dcf&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:18.709944Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a88298b4-1542-447e-b498-a8cf99a70b30&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VksS5N9UuZZs&quot;), &quot;username&quot;: String(&quot;user-3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.759418445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.770983809Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.865635108Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.873463701Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.988799472Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.988899269Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.989061543Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.988952419Z&quot;)}]}}
[2023-01-31T16:24:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15\&quot;,\n    \&quot;uid\&quot;: \&quot;39120a74-41a8-4046-bfe4-a2d271f50dcf\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:18.709944Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a88298b4-1542-447e-b498-a8cf99a70b30\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VksS5N9UuZZs\&quot;,\n        \&quot;username\&quot;: \&quot;user-3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.759418445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.770983809Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.865635108Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.873463701Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.988799472Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.988899269Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.989061543Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:18.988952419Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot;), &quot;uid&quot;: String(&quot;39120a74-41a8-4046-bfe4-a2d271f50dcf&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:18.709944Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a88298b4-1542-447e-b498-a8cf99a70b30&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VksS5N9UuZZs&quot;), &quot;username&quot;: String(&quot;user-3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.759418445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.770983809Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.865635108Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.873463701Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.988799472Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.988899269Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.989061543Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:18.988952419Z&quot;)}]}}
[2023-01-31T16:24:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:24:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:24:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1NTgsImlhdCI6MTY3NTE4MjI1OCwiYXV0aF90aW1lIjoxNjc1MTgyMjU0LCJqdGkiOiI5NjIzYzYyNC0wOTM3LTQ5YTktYTNkMC1jZTIxNTFiODY4ZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im53NmZWa0pJdnAwUXNVNWFjNHZLbWciLCJzZXNzaW9uX3N0YXRlIjoiNTYwMTI5MzMtNTc5Yy00NTQ4LWFiMjQtY2EyZDNiMTZhOGZmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU2MDEyOTMzLTU3OWMtNDU0OC1hYjI0LWNhMmQzYjE2YThmZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.EcigXC1o4mED42-U8ZqDJbitHe4k6W5vPHaEZeShwC6wRT2dEE1il6pJLPXevPHN0qG35gP8CZ6xkvHIJ1ShC5vn97qh63cgpwyhNVHMIJeNno4FDmBojDHkZqIEo1cjnHCLS5QS0Z1Yz13nNSdQoFoF2zqHsJ2fyyyQbjocePoaIPSwRLpVtHOHDdTyKEUMHTIorqR741jI4WCv0Wpyd7OCrxZ2FkTQugtmrKgUMBDie1GHbgnq0UsDcyajnonUE4e_5kjZkCnCoGq-B4mYCvay6xzTUtd21h0jbiI05myLExSq-PfI4aH3xMTCEIG9fcREjM8gtvVGvwB4BkQorg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot; &quot;device1&quot;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot; &quot;gateway1&quot;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&#x27;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3adaf171-3dd9-4b9b-9ffe-fd2b3320ee15&quot;
[2023-01-31T16:24:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:24:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:24:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:24:24Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:24:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:26Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNjYsImlhdCI6MTY3NTE4MjI2NiwianRpIjoiNjAzNTBkNDEtMzMzMi00MjIzLWJhMWEtNDRiNTg1NzY1ODRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTFVXTFpBS1MySDRvWjJnc3d6OEFXdyIsInNlc3Npb25fc3RhdGUiOiJiNzExZmI4NS0xZDAxLTQ4NjMtYTRmMS0zNzU4Mjc1YzNkNjQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjcxMWZiODUtMWQwMS00ODYzLWE0ZjEtMzc1ODI3NWMzZDY0In0.555Vf2Ybd1SZw9qfTaubdNtdc1idnhZ4JmdkQxAIVTI
[2023-01-31T16:24:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:24:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNjYsImlhdCI6MTY3NTE4MjI2NiwianRpIjoiNjAzNTBkNDEtMzMzMi00MjIzLWJhMWEtNDRiNTg1NzY1ODRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTFVXTFpBS1MySDRvWjJnc3d6OEFXdyIsInNlc3Npb25fc3RhdGUiOiJiNzExZmI4NS0xZDAxLTQ4NjMtYTRmMS0zNzU4Mjc1YzNkNjQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjcxMWZiODUtMWQwMS00ODYzLWE0ZjEtMzc1ODI3NWMzZDY0In0.555Vf2Ybd1SZw9qfTaubdNtdc1idnhZ4JmdkQxAIVTI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:24:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:27Z INFO  drogue_cloud_tests::resources::apps] Create application: 09fa254c-2110-451e-ad25-cfbdbdcf5158
[2023-01-31T16:24:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot;
[2023-01-31T16:24:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;09fa254c-2110-451e-ad25-cfbdbdcf5158\&quot;,\n    \&quot;uid\&quot;: \&quot;4163fdb3-a552-47c0-a754-1a4a5b606fb6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:27.459316Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b386bcad-f79d-4df9-b193-f8716a3a9a18\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.505832147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.512835488Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.512896741Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.472162075Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.472163077Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.472177934Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.472215324Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.472251613Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot;), &quot;uid&quot;: String(&quot;4163fdb3-a552-47c0-a754-1a4a5b606fb6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:27.459316Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b386bcad-f79d-4df9-b193-f8716a3a9a18&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.505832147Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.512835488Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.512896741Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.472162075Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.472163077Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.472177934Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.472215324Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.472251613Z&quot;)}]}}
[2023-01-31T16:24:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;09fa254c-2110-451e-ad25-cfbdbdcf5158\&quot;,\n    \&quot;uid\&quot;: \&quot;4163fdb3-a552-47c0-a754-1a4a5b606fb6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:27.459316Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8b0168eb-c429-428e-847a-7eef7d7b11f0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MN4Z3AtVPyAL\&quot;,\n        \&quot;username\&quot;: \&quot;user-09fa254c-2110-451e-ad25-cfbdbdcf5158\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.505832147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.512835488Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.575907718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.586266364Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716068286Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716194781Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716231691Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716340123Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot;), &quot;uid&quot;: String(&quot;4163fdb3-a552-47c0-a754-1a4a5b606fb6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:27.459316Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8b0168eb-c429-428e-847a-7eef7d7b11f0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MN4Z3AtVPyAL&quot;), &quot;username&quot;: String(&quot;user-09fa254c-2110-451e-ad25-cfbdbdcf5158&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.505832147Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.512835488Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.575907718Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.586266364Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716068286Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716194781Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716231691Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716340123Z&quot;)}]}}
[2023-01-31T16:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;09fa254c-2110-451e-ad25-cfbdbdcf5158\&quot;,\n    \&quot;uid\&quot;: \&quot;4163fdb3-a552-47c0-a754-1a4a5b606fb6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:27.459316Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8b0168eb-c429-428e-847a-7eef7d7b11f0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MN4Z3AtVPyAL\&quot;,\n        \&quot;username\&quot;: \&quot;user-09fa254c-2110-451e-ad25-cfbdbdcf5158\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.505832147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.512835488Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.575907718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.586266364Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716068286Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716194781Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716231691Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:27.716340123Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot;), &quot;uid&quot;: String(&quot;4163fdb3-a552-47c0-a754-1a4a5b606fb6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:27.459316Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8b0168eb-c429-428e-847a-7eef7d7b11f0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MN4Z3AtVPyAL&quot;), &quot;username&quot;: String(&quot;user-09fa254c-2110-451e-ad25-cfbdbdcf5158&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.505832147Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.512835488Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.575907718Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.586266364Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716068286Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716194781Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716231691Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:27.716340123Z&quot;)}]}}
[2023-01-31T16:24:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:24:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1NjYsImlhdCI6MTY3NTE4MjI2NiwiYXV0aF90aW1lIjoxNjc1MTgyMjYzLCJqdGkiOiJhNGYxYTg2Yy03ZGM0LTQ4YjQtODQ0Yy0xYmI2YWNmYWI3MWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkxVV0xaQUtTMkg0b1oyZ3N3ejhBV3ciLCJzZXNzaW9uX3N0YXRlIjoiYjcxMWZiODUtMWQwMS00ODYzLWE0ZjEtMzc1ODI3NWMzZDY0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI3MTFmYjg1LTFkMDEtNDg2My1hNGYxLTM3NTgyNzVjM2Q2NCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.sTBhFh4i7--dgGH1GyNjOHcR1ydd6NJfQNPObSS-xAK9V-c1akWAdgahv21RB8WJuIVUHBf5v-43d7tbC8VjJ-E5RJ2cilip-w5dWV4ksj8FgMnAyQSzuVoLVry7ifp118Jxtv1farJYAZuvpqtB7-n_W2TVWTwes2Z2qaLT4strnwa8sI-PVOfKPgX5hEVdamXyknl-O5mIgR19qV37CaUATTg6C98d643cyow58zWdN31lvFI-ZkenlyhCHL4Hd4mzFhKBIKWFkqZbYf1mf46B0T_696SbfhlU5iVhGxqirzrbFvMechHvJYJbIwdI7scEhDCmT7RjViQeKgHCoA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot; &quot;device1&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot; &quot;gateway1&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;09fa254c-2110-451e-ad25-cfbdbdcf5158&#x27;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;09fa254c-2110-451e-ad25-cfbdbdcf5158&quot;
[2023-01-31T16:24:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:24:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:24:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:24:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:24:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNzUsImlhdCI6MTY3NTE4MjI3NSwianRpIjoiMmI0NjYxMGEtMjdhOC00ZDBlLTk2NTQtMjAwNWIxNDQzYTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVnJTVnRxNUhqeXozVW9taGVWTDUyQSIsInNlc3Npb25fc3RhdGUiOiJlNmMzMWVkMS03MDBjLTRiNDAtOWE0Zi1kODJiYTFkNGJhOGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTZjMzFlZDEtNzAwYy00YjQwLTlhNGYtZDgyYmExZDRiYThhIn0.mu1bIHI8ZNtqCOUevnHKbnF8J032tqWZiHBrNwHha2s
[2023-01-31T16:24:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:24:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwNzUsImlhdCI6MTY3NTE4MjI3NSwianRpIjoiMmI0NjYxMGEtMjdhOC00ZDBlLTk2NTQtMjAwNWIxNDQzYTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVnJTVnRxNUhqeXozVW9taGVWTDUyQSIsInNlc3Npb25fc3RhdGUiOiJlNmMzMWVkMS03MDBjLTRiNDAtOWE0Zi1kODJiYTFkNGJhOGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTZjMzFlZDEtNzAwYy00YjQwLTlhNGYtZDgyYmExZDRiYThhIn0.mu1bIHI8ZNtqCOUevnHKbnF8J032tqWZiHBrNwHha2s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:24:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:35Z INFO  drogue_cloud_tests::resources::apps] Create application: ad3bec91-eb3b-4be4-bcd0-f765560974e1
[2023-01-31T16:24:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot;
[2023-01-31T16:24:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1\&quot;,\n    \&quot;uid\&quot;: \&quot;b87ee243-d0e7-47dd-b5dd-9a69a4c0a600\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:35.987661Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;96ba6bfd-340b-4616-ae9d-f16cf7199e6a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.027941387Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.027942680Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.027943211Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.027943992Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.027945735Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.027951216Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.028010707Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.027983436Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot;), &quot;uid&quot;: String(&quot;b87ee243-d0e7-47dd-b5dd-9a69a4c0a600&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:35.987661Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;96ba6bfd-340b-4616-ae9d-f16cf7199e6a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.027941387Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.027942680Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.027943211Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.027943992Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.027945735Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.027951216Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.028010707Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.027983436Z&quot;)}]}}
[2023-01-31T16:24:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1\&quot;,\n    \&quot;uid\&quot;: \&quot;b87ee243-d0e7-47dd-b5dd-9a69a4c0a600\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:35.987661Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2dbc16a2-27eb-47b7-988a-452e3e739dd3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;udeRyvpsJdfw\&quot;,\n        \&quot;username\&quot;: \&quot;user-ad3bec91-eb3b-4be4-bcd0-f765560974e1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.055010753Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.063651064Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.134588548Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.141691295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278041748Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278232825Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278456604Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278296243Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot;), &quot;uid&quot;: String(&quot;b87ee243-d0e7-47dd-b5dd-9a69a4c0a600&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:35.987661Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2dbc16a2-27eb-47b7-988a-452e3e739dd3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;udeRyvpsJdfw&quot;), &quot;username&quot;: String(&quot;user-ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.055010753Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.063651064Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.134588548Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.141691295Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278041748Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278232825Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278456604Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278296243Z&quot;)}]}}
[2023-01-31T16:24:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1\&quot;,\n    \&quot;uid\&quot;: \&quot;b87ee243-d0e7-47dd-b5dd-9a69a4c0a600\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:35.987661Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2dbc16a2-27eb-47b7-988a-452e3e739dd3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;udeRyvpsJdfw\&quot;,\n        \&quot;username\&quot;: \&quot;user-ad3bec91-eb3b-4be4-bcd0-f765560974e1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.055010753Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.063651064Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.134588548Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.141691295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278041748Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278232825Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278456604Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:36.278296243Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot;), &quot;uid&quot;: String(&quot;b87ee243-d0e7-47dd-b5dd-9a69a4c0a600&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:35.987661Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2dbc16a2-27eb-47b7-988a-452e3e739dd3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;udeRyvpsJdfw&quot;), &quot;username&quot;: String(&quot;user-ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.055010753Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.063651064Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.134588548Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.141691295Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278041748Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278232825Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278456604Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:36.278296243Z&quot;)}]}}
[2023-01-31T16:24:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:24:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1NzUsImlhdCI6MTY3NTE4MjI3NSwiYXV0aF90aW1lIjoxNjc1MTgyMjcyLCJqdGkiOiJjYjRkMjI0NS1jOTJkLTRjMzYtOTg4YS03OWY5MTMwMDMxZDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZyU1Z0cTVIanl6M1VvbWhlVkw1MkEiLCJzZXNzaW9uX3N0YXRlIjoiZTZjMzFlZDEtNzAwYy00YjQwLTlhNGYtZDgyYmExZDRiYThhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU2YzMxZWQxLTcwMGMtNGI0MC05YTRmLWQ4MmJhMWQ0YmE4YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.tvG1keqM0ZdrqxKls9REzMaHsw79NPcCjToE21l0Ulo3rSyXdy-yTwMCnyH4W9pKw_7ylRZ_biy3FQnibpewYeSV2OU2CP57BmykOt-4CyjCMu-7pD3yHTr8IZDEsmUxbndP-Yo3GtMjwKy3N4hxVSucjUFlNvbOqWGIsuMrlFENOZK1ueM-FwnvShgiuAjysLjNAk26IC8NB7a0hS2dzjx33se6RlA_00aes44_2-NfZesFle-_h95A-ej0LHMo7EubmTMfqVTXkZ3YWgYGy1mJATGrVvW94NaLp7zEJd4L3lcAmaHVWDPmKLwmZRSTZxcHHLDSQSBC4tAEW9raRQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot; &quot;device1&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot; &quot;gateway1&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ad3bec91-eb3b-4be4-bcd0-f765560974e1&#x27;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ad3bec91-eb3b-4be4-bcd0-f765560974e1&quot;
[2023-01-31T16:24:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:24:39Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:24:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:40Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:24:41Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:24:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:43Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwODMsImlhdCI6MTY3NTE4MjI4MywianRpIjoiNzQ5Zjc2YTYtMjE5NC00M2Q5LWIzYjgtOWU1YTQxYTZiOGI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiakdHY2tteE1WdjJsZkZ1Y2lBWXF6ZyIsInNlc3Npb25fc3RhdGUiOiI5OGM4MzZkNC04OTE2LTRkYzQtYTRjNC03ZWVlNjA4MGQ4M2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOThjODM2ZDQtODkxNi00ZGM0LWE0YzQtN2VlZTYwODBkODNiIn0.7xRrPabQgpTWhK7_huGT7u-_Jl0YOfcIf0w22PRsKJg
[2023-01-31T16:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:24:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwODMsImlhdCI6MTY3NTE4MjI4MywianRpIjoiNzQ5Zjc2YTYtMjE5NC00M2Q5LWIzYjgtOWU1YTQxYTZiOGI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiakdHY2tteE1WdjJsZkZ1Y2lBWXF6ZyIsInNlc3Npb25fc3RhdGUiOiI5OGM4MzZkNC04OTE2LTRkYzQtYTRjNC03ZWVlNjA4MGQ4M2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOThjODM2ZDQtODkxNi00ZGM0LWE0YzQtN2VlZTYwODBkODNiIn0.7xRrPabQgpTWhK7_huGT7u-_Jl0YOfcIf0w22PRsKJg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:24:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:44Z INFO  drogue_cloud_tests::resources::apps] Create application: 9f964005-433a-44b6-9026-6c2e038b3557
[2023-01-31T16:24:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot;
[2023-01-31T16:24:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9f964005-433a-44b6-9026-6c2e038b3557\&quot;,\n    \&quot;uid\&quot;: \&quot;0205247f-5f30-4aff-a2c9-e9f13a2c638b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:44.712724Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cb1c536a-c39a-4285-a2a1-5328c6358f19\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734306010Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734306972Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734307423Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734307993Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734308655Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734313564Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734356896Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.734337239Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9f964005-433a-44b6-9026-6c2e038b3557&quot;), &quot;uid&quot;: String(&quot;0205247f-5f30-4aff-a2c9-e9f13a2c638b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:44.712724Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cb1c536a-c39a-4285-a2a1-5328c6358f19&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734306010Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734306972Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734307423Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734307993Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734308655Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734313564Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734356896Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.734337239Z&quot;)}]}}
[2023-01-31T16:24:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9f964005-433a-44b6-9026-6c2e038b3557\&quot;,\n    \&quot;uid\&quot;: \&quot;0205247f-5f30-4aff-a2c9-e9f13a2c638b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:44.712724Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;af76e0e5-73e9-44f8-8aa1-c98960f8c1ba\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;N6x8sLE895ap\&quot;,\n        \&quot;username\&quot;: \&quot;user-9f964005-433a-44b6-9026-6c2e038b3557\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.765359287Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.770335045Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.836423660Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.844104718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.984843501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.984864060Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.985009782Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.984926747Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9f964005-433a-44b6-9026-6c2e038b3557&quot;), &quot;uid&quot;: String(&quot;0205247f-5f30-4aff-a2c9-e9f13a2c638b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:44.712724Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;af76e0e5-73e9-44f8-8aa1-c98960f8c1ba&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;N6x8sLE895ap&quot;), &quot;username&quot;: String(&quot;user-9f964005-433a-44b6-9026-6c2e038b3557&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.765359287Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.770335045Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.836423660Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.844104718Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.984843501Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.984864060Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.985009782Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.984926747Z&quot;)}]}}
[2023-01-31T16:24:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9f964005-433a-44b6-9026-6c2e038b3557\&quot;,\n    \&quot;uid\&quot;: \&quot;0205247f-5f30-4aff-a2c9-e9f13a2c638b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:44.712724Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;af76e0e5-73e9-44f8-8aa1-c98960f8c1ba\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;N6x8sLE895ap\&quot;,\n        \&quot;username\&quot;: \&quot;user-9f964005-433a-44b6-9026-6c2e038b3557\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.765359287Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.770335045Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.836423660Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.844104718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.984843501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.984864060Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.985009782Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:44.984926747Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9f964005-433a-44b6-9026-6c2e038b3557&quot;), &quot;uid&quot;: String(&quot;0205247f-5f30-4aff-a2c9-e9f13a2c638b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:44.712724Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;af76e0e5-73e9-44f8-8aa1-c98960f8c1ba&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;N6x8sLE895ap&quot;), &quot;username&quot;: String(&quot;user-9f964005-433a-44b6-9026-6c2e038b3557&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.765359287Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.770335045Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.836423660Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.844104718Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.984843501Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.984864060Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.985009782Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:44.984926747Z&quot;)}]}}
[2023-01-31T16:24:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:24:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:24:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1ODQsImlhdCI6MTY3NTE4MjI4NCwiYXV0aF90aW1lIjoxNjc1MTgyMjgxLCJqdGkiOiIwNmIzMDQ1YS0zZWQxLTRlZWItYTBiZS1kNzhhZDJlMmQwMzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpHR2NrbXhNVnYybGZGdWNpQVlxemciLCJzZXNzaW9uX3N0YXRlIjoiOThjODM2ZDQtODkxNi00ZGM0LWE0YzQtN2VlZTYwODBkODNiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk4YzgzNmQ0LTg5MTYtNGRjNC1hNGM0LTdlZWU2MDgwZDgzYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.r5DaAOe0z8zZGCKtk7dU2Z294PH7SPR3mg2QKX6LSH5jwKe1juGalCFHE0tl5fDK6IxPwaak9FlPR7UepCsY9lqkBUBly_0UWflkN3tQg-7nxFjJ-blyaxJdS-IxRwELF6xEWB9d-fu_YOgUqhTVw1EPILRUMCpnBHs8mM9JkTuPw_B04FMdsZkyfEh7-izsVDhUzCDA0SJU35Ay-j3qeRM_2hWoC4m6lH58c2Q2Aueueo0T04mC3tLEXOeDKMtxZJVzr-CJ3PftkvyuBtAe3DKSKfVRX-6cPQ2IgpW3iJYxRXCYGtqsjTbm3EF1Gu8B8uno2sb1959DzQAEJlgVNg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot; &quot;device1&quot;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot; &quot;gateway1&quot;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9f964005-433a-44b6-9026-6c2e038b3557&#x27;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9f964005-433a-44b6-9026-6c2e038b3557&quot;
[2023-01-31T16:24:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:24:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:24:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:24:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:24:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwOTIsImlhdCI6MTY3NTE4MjI5MiwianRpIjoiYTUxOGE3NGQtZDBkZS00YzYyLWEwMGUtMWY4OTE3OTE3NTk0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWVczX2pSZmdPYzRIWG9rZHd1ZUk3ZyIsInNlc3Npb25fc3RhdGUiOiI4M2Y1MzgwMy1kYjJkLTQ5YjUtOWM3Ni0yNDBlODczMjA2MjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODNmNTM4MDMtZGIyZC00OWI1LTljNzYtMjQwZTg3MzIwNjI1In0.LGOmT-7dA_poGR1kCm4bTKrowhi2_-VgKPUc6iCP-5s
[2023-01-31T16:24:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:24:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQwOTIsImlhdCI6MTY3NTE4MjI5MiwianRpIjoiYTUxOGE3NGQtZDBkZS00YzYyLWEwMGUtMWY4OTE3OTE3NTk0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWVczX2pSZmdPYzRIWG9rZHd1ZUk3ZyIsInNlc3Npb25fc3RhdGUiOiI4M2Y1MzgwMy1kYjJkLTQ5YjUtOWM3Ni0yNDBlODczMjA2MjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODNmNTM4MDMtZGIyZC00OWI1LTljNzYtMjQwZTg3MzIwNjI1In0.LGOmT-7dA_poGR1kCm4bTKrowhi2_-VgKPUc6iCP-5s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:24:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:53Z INFO  drogue_cloud_tests::resources::apps] Create application: ddc1a8c1-ee90-403d-8b29-08792bfab475
[2023-01-31T16:24:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot;
[2023-01-31T16:24:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ddc1a8c1-ee90-403d-8b29-08792bfab475\&quot;,\n    \&quot;uid\&quot;: \&quot;889a2dc6-ea3d-4752-8e42-592a5e51bc4a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:53.408977Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0a69c213-4394-41cf-a860-5f4a0199c5ef\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.451182116Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.458000501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.458038492Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.422300620Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.422301542Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.422311060Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.422344072Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.422384717Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot;), &quot;uid&quot;: String(&quot;889a2dc6-ea3d-4752-8e42-592a5e51bc4a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:53.408977Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0a69c213-4394-41cf-a860-5f4a0199c5ef&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.451182116Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.458000501Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.458038492Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.422300620Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.422301542Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.422311060Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.422344072Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.422384717Z&quot;)}]}}
[2023-01-31T16:24:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ddc1a8c1-ee90-403d-8b29-08792bfab475\&quot;,\n    \&quot;uid\&quot;: \&quot;889a2dc6-ea3d-4752-8e42-592a5e51bc4a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:53.408977Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6a2b2b5d-ddc2-4c00-a64e-1cc5d2b6c6d2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HUsLKsdLcQ2A\&quot;,\n        \&quot;username\&quot;: \&quot;user-ddc1a8c1-ee90-403d-8b29-08792bfab475\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.451182116Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.458000501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.524965175Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.532068892Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637688555Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637705837Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637769767Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637826653Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot;), &quot;uid&quot;: String(&quot;889a2dc6-ea3d-4752-8e42-592a5e51bc4a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:53.408977Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6a2b2b5d-ddc2-4c00-a64e-1cc5d2b6c6d2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HUsLKsdLcQ2A&quot;), &quot;username&quot;: String(&quot;user-ddc1a8c1-ee90-403d-8b29-08792bfab475&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.451182116Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.458000501Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.524965175Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.532068892Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637688555Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637705837Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637769767Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637826653Z&quot;)}]}}
[2023-01-31T16:24:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ddc1a8c1-ee90-403d-8b29-08792bfab475\&quot;,\n    \&quot;uid\&quot;: \&quot;889a2dc6-ea3d-4752-8e42-592a5e51bc4a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:24:53.408977Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6a2b2b5d-ddc2-4c00-a64e-1cc5d2b6c6d2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HUsLKsdLcQ2A\&quot;,\n        \&quot;username\&quot;: \&quot;user-ddc1a8c1-ee90-403d-8b29-08792bfab475\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.451182116Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.458000501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.524965175Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.532068892Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637688555Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637705837Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637769767Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:24:53.637826653Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot;), &quot;uid&quot;: String(&quot;889a2dc6-ea3d-4752-8e42-592a5e51bc4a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:24:53.408977Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6a2b2b5d-ddc2-4c00-a64e-1cc5d2b6c6d2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HUsLKsdLcQ2A&quot;), &quot;username&quot;: String(&quot;user-ddc1a8c1-ee90-403d-8b29-08792bfab475&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.451182116Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.458000501Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.524965175Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.532068892Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637688555Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637705837Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637769767Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:24:53.637826653Z&quot;)}]}}
[2023-01-31T16:24:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:24:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI1OTIsImlhdCI6MTY3NTE4MjI5MiwiYXV0aF90aW1lIjoxNjc1MTgyMjg5LCJqdGkiOiJiMTNkOTM1MC02YmU5LTQzNzUtOTFhZS0yYmRiZDUxOGFkN2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IllXM19qUmZnT2M0SFhva2R3dWVJN2ciLCJzZXNzaW9uX3N0YXRlIjoiODNmNTM4MDMtZGIyZC00OWI1LTljNzYtMjQwZTg3MzIwNjI1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgzZjUzODAzLWRiMmQtNDliNS05Yzc2LTI0MGU4NzMyMDYyNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Hgq1XWhhg8PgekQgBwokoYttesNg3jkhdfku0un68L60wcMl9rwQct0BFpwn5jXMz7H6LQh38p4KJxqaF4Iba7pwcYzpC5jUrTjZjstd4lca10ZWLJUEko44TmbPmC43CA2L8TohA9pnRMOsXlvSirdXzSIhnq8ErPKfA_eXWDDeMVmUysaTyfHlSWnjvogOCRiZaxqp-nS4q7yTGD4Q-KaVjjSqq7rhOjChgnux6mcF5_dC1pK63v0l5IvSTVKMKZE6Mp1fygzIbouLVmSDYxz4Yja0z9731fMDtZrTX2exSdPBY3YFJ0LUoN9iNYLlCY6Opqoje2njDFXMP1wuBw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot; &quot;device1&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot; &quot;gateway1&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ddc1a8c1-ee90-403d-8b29-08792bfab475&#x27;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ddc1a8c1-ee90-403d-8b29-08792bfab475&quot;
[2023-01-31T16:24:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:24:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:24:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:24:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:24:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:24:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:24:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:24:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMDEsImlhdCI6MTY3NTE4MjMwMSwianRpIjoiMmVjNDY2NjctZTc2Zi00YzgxLTg3MzEtYjljZjQ5MzZkZDNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaW5vU0pYWEZVbGlkbTVGQjB5ZkRIUSIsInNlc3Npb25fc3RhdGUiOiI0NTZhYWQzYy0xZjQwLTQwYmUtOGMyNy03ZDZjNjUxZDQ5OTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDU2YWFkM2MtMWY0MC00MGJlLThjMjctN2Q2YzY1MWQ0OTkxIn0.XAeiH1Zd29qu8owaPniWMza43f8vPfd63SDDSNQD8f4
[2023-01-31T16:25:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:25:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMDEsImlhdCI6MTY3NTE4MjMwMSwianRpIjoiMmVjNDY2NjctZTc2Zi00YzgxLTg3MzEtYjljZjQ5MzZkZDNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaW5vU0pYWEZVbGlkbTVGQjB5ZkRIUSIsInNlc3Npb25fc3RhdGUiOiI0NTZhYWQzYy0xZjQwLTQwYmUtOGMyNy03ZDZjNjUxZDQ5OTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDU2YWFkM2MtMWY0MC00MGJlLThjMjctN2Q2YzY1MWQ0OTkxIn0.XAeiH1Zd29qu8owaPniWMza43f8vPfd63SDDSNQD8f4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:25:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:02Z INFO  drogue_cloud_tests::resources::apps] Create application: f1ca56f8-11ca-4713-873c-ad95367210a7
[2023-01-31T16:25:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot;
[2023-01-31T16:25:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f1ca56f8-11ca-4713-873c-ad95367210a7\&quot;,\n    \&quot;uid\&quot;: \&quot;69763116-3797-459e-9d5b-1681db98f594\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:02.321378Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3239958f-d45e-41b3-a8af-a0cf165c4d46\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.361642493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.370788260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.370822153Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.335399191Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.335400043Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.335555123Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.335596020Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.335645952Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot;), &quot;uid&quot;: String(&quot;69763116-3797-459e-9d5b-1681db98f594&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:02.321378Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3239958f-d45e-41b3-a8af-a0cf165c4d46&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.361642493Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.370788260Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.370822153Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.335399191Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.335400043Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.335555123Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.335596020Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.335645952Z&quot;)}]}}
[2023-01-31T16:25:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f1ca56f8-11ca-4713-873c-ad95367210a7\&quot;,\n    \&quot;uid\&quot;: \&quot;69763116-3797-459e-9d5b-1681db98f594\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:02.321378Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;92d7e93c-0e3b-44fe-a308-0a12bda00ebd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;GRji7EKlaC8w\&quot;,\n        \&quot;username\&quot;: \&quot;user-f1ca56f8-11ca-4713-873c-ad95367210a7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.361642493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.370788260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.429212489Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.437379426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579706605Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579721973Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579751068Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579794840Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot;), &quot;uid&quot;: String(&quot;69763116-3797-459e-9d5b-1681db98f594&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:02.321378Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;92d7e93c-0e3b-44fe-a308-0a12bda00ebd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;GRji7EKlaC8w&quot;), &quot;username&quot;: String(&quot;user-f1ca56f8-11ca-4713-873c-ad95367210a7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.361642493Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.370788260Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.429212489Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.437379426Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579706605Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579721973Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579751068Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579794840Z&quot;)}]}}
[2023-01-31T16:25:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f1ca56f8-11ca-4713-873c-ad95367210a7\&quot;,\n    \&quot;uid\&quot;: \&quot;69763116-3797-459e-9d5b-1681db98f594\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:02.321378Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;92d7e93c-0e3b-44fe-a308-0a12bda00ebd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;GRji7EKlaC8w\&quot;,\n        \&quot;username\&quot;: \&quot;user-f1ca56f8-11ca-4713-873c-ad95367210a7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.361642493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.370788260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.429212489Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.437379426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579706605Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579721973Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579751068Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:02.579794840Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot;), &quot;uid&quot;: String(&quot;69763116-3797-459e-9d5b-1681db98f594&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:02.321378Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;92d7e93c-0e3b-44fe-a308-0a12bda00ebd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;GRji7EKlaC8w&quot;), &quot;username&quot;: String(&quot;user-f1ca56f8-11ca-4713-873c-ad95367210a7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.361642493Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.370788260Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.429212489Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.437379426Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579706605Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579721973Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579751068Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:02.579794840Z&quot;)}]}}
[2023-01-31T16:25:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:25:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2MDEsImlhdCI6MTY3NTE4MjMwMSwiYXV0aF90aW1lIjoxNjc1MTgyMjk4LCJqdGkiOiI0Y2M1NGZlMC1mYTFjLTRiNjAtODI1Ni0wMWEwMGY1MGFiNjMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imlub1NKWFhGVWxpZG01RkIweWZESFEiLCJzZXNzaW9uX3N0YXRlIjoiNDU2YWFkM2MtMWY0MC00MGJlLThjMjctN2Q2YzY1MWQ0OTkxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ1NmFhZDNjLTFmNDAtNDBiZS04YzI3LTdkNmM2NTFkNDk5MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.nqZ8kQuK-RBvd7dh-laaj6xcmCcKDwkT3ME-M2vwLCvnGOHaZ65qLzVUaHXWU60I89dZXD1cjKYIiaytKFmI3Mwvd-Wo9QRHGRTBuiycYrt-Ih30MDvl5JMy54yUDOMeUePCVeE4qSa1Kr3UZd_3huQjStw4gE5AlHAncNWDK3upM8v5Ej0ujuvSsWVuj-BU3LudZ_VtGJ6hebdSlX7rC8zRK3w7XqoHtKec9sWsAAQjcU4rL9Q8yU--EUHTDEHs4_wYd--GC-vkBLTvB8RFs8d1ZgDAs2ayeHxO8fXG3G9eCS_hQpVU7bJM44MwsSb6Xd2suPYCSF3YQeflczYyeg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot; &quot;device1&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot; &quot;gateway1&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f1ca56f8-11ca-4713-873c-ad95367210a7&#x27;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f1ca56f8-11ca-4713-873c-ad95367210a7&quot;
[2023-01-31T16:25:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:25:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:25:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:25:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:25:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMTAsImlhdCI6MTY3NTE4MjMxMCwianRpIjoiZTMzYmEwNmEtODhkNC00OTlmLTg1NDEtNWRlYzY5MGZiOTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYWhQREZSLXhrRGdTVHFQZVUwWU9KUSIsInNlc3Npb25fc3RhdGUiOiIyOWEyZTBiNC1kNjI1LTRiOWUtYTM5My05OTZiYzU3NThmMzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjlhMmUwYjQtZDYyNS00YjllLWEzOTMtOTk2YmM1NzU4ZjM3In0.P3yFcr-ja7lftv50Tg84NpYaO3RFrxub6Dd82TtWiOw
[2023-01-31T16:25:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:25:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMTAsImlhdCI6MTY3NTE4MjMxMCwianRpIjoiZTMzYmEwNmEtODhkNC00OTlmLTg1NDEtNWRlYzY5MGZiOTkzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYWhQREZSLXhrRGdTVHFQZVUwWU9KUSIsInNlc3Npb25fc3RhdGUiOiIyOWEyZTBiNC1kNjI1LTRiOWUtYTM5My05OTZiYzU3NThmMzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjlhMmUwYjQtZDYyNS00YjllLWEzOTMtOTk2YmM1NzU4ZjM3In0.P3yFcr-ja7lftv50Tg84NpYaO3RFrxub6Dd82TtWiOw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:25:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 0c8a940c-8b5d-4cf9-8836-970c373f1600
[2023-01-31T16:25:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot;
[2023-01-31T16:25:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0c8a940c-8b5d-4cf9-8836-970c373f1600\&quot;,\n    \&quot;uid\&quot;: \&quot;e13600b7-7d7e-4fa8-a173-bc833e8fa3c6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:11.152238Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c9c38ed5-7f54-4a96-9c30-cffce683d5e9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.209642531Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.215118774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.215155082Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.173842352Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.173842883Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.173863381Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.173934704Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.173905429Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot;), &quot;uid&quot;: String(&quot;e13600b7-7d7e-4fa8-a173-bc833e8fa3c6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:11.152238Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c9c38ed5-7f54-4a96-9c30-cffce683d5e9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.209642531Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.215118774Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.215155082Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.173842352Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.173842883Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.173863381Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.173934704Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.173905429Z&quot;)}]}}
[2023-01-31T16:25:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0c8a940c-8b5d-4cf9-8836-970c373f1600\&quot;,\n    \&quot;uid\&quot;: \&quot;e13600b7-7d7e-4fa8-a173-bc833e8fa3c6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:11.152238Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fb48bd33-055d-4fce-a1ba-73a1336f5f08\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IYsnlQNaNxBU\&quot;,\n        \&quot;username\&quot;: \&quot;user-0c8a940c-8b5d-4cf9-8836-970c373f1600\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.209642531Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.215118774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.282033566Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.289958772Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441163730Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441233380Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441353134Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441266742Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot;), &quot;uid&quot;: String(&quot;e13600b7-7d7e-4fa8-a173-bc833e8fa3c6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:11.152238Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fb48bd33-055d-4fce-a1ba-73a1336f5f08&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IYsnlQNaNxBU&quot;), &quot;username&quot;: String(&quot;user-0c8a940c-8b5d-4cf9-8836-970c373f1600&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.209642531Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.215118774Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.282033566Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.289958772Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441163730Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441233380Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441353134Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441266742Z&quot;)}]}}
[2023-01-31T16:25:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0c8a940c-8b5d-4cf9-8836-970c373f1600\&quot;,\n    \&quot;uid\&quot;: \&quot;e13600b7-7d7e-4fa8-a173-bc833e8fa3c6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:11.152238Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fb48bd33-055d-4fce-a1ba-73a1336f5f08\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IYsnlQNaNxBU\&quot;,\n        \&quot;username\&quot;: \&quot;user-0c8a940c-8b5d-4cf9-8836-970c373f1600\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.209642531Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.215118774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.282033566Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.289958772Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441163730Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441233380Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441353134Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:11.441266742Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot;), &quot;uid&quot;: String(&quot;e13600b7-7d7e-4fa8-a173-bc833e8fa3c6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:11.152238Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fb48bd33-055d-4fce-a1ba-73a1336f5f08&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IYsnlQNaNxBU&quot;), &quot;username&quot;: String(&quot;user-0c8a940c-8b5d-4cf9-8836-970c373f1600&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.209642531Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.215118774Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.282033566Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.289958772Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441163730Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441233380Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441353134Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:11.441266742Z&quot;)}]}}
[2023-01-31T16:25:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:25:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2MTAsImlhdCI6MTY3NTE4MjMxMCwiYXV0aF90aW1lIjoxNjc1MTgyMzA3LCJqdGkiOiJhMDlkMGZkZS01Njg2LTRlOGUtYjY1YS1jMTA5MjIxNjZjZDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFoUERGUi14a0RnU1RxUGVVMFlPSlEiLCJzZXNzaW9uX3N0YXRlIjoiMjlhMmUwYjQtZDYyNS00YjllLWEzOTMtOTk2YmM1NzU4ZjM3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5YTJlMGI0LWQ2MjUtNGI5ZS1hMzkzLTk5NmJjNTc1OGYzNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Ywsw9ZmgvZH9sEWgfqoKuI9bHi67Ubipn5tfM0HLWplAXFbX2L1lUWxpA4jyuVZilAfVgj1kNCWjuPdDARAmPXoMIz3IUgzmukaQhMQRM5JgvK2zlVBz7Vlq8mrTXrRGJi133rA9yKTyp5QNLjIVWE0hdAUJcEz6lgh3qdxdMSFtcvOLcRiquiBvosLbZ_1VPi2jMzRL_xg1Dr__EHrE5sND4pkLbyma15r2MQczI-60zXf0xM-5iGd5L6ighv4bAM3EiYnoRcFqd7ft__x_fFm3EdJFBXvzrJszU08Tnd_NhixrirqktkuJKAyY22o5kKeLY1BLgQzVKRHvrmWIKQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot; &quot;device1&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot; &quot;gateway1&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0c8a940c-8b5d-4cf9-8836-970c373f1600&#x27;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0c8a940c-8b5d-4cf9-8836-970c373f1600&quot;
[2023-01-31T16:25:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:25:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:25:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:25:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:25:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMTgsImlhdCI6MTY3NTE4MjMxOCwianRpIjoiZDVlMGM3NGYtMzRkNy00MWE1LWIyZDItNWFjNGJiODQ2M2RkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYjZJZDdBc2ZpVUlrcFlzU1RVWEFtUSIsInNlc3Npb25fc3RhdGUiOiJlYzljNWFkMy0yZmM3LTRhZmItYWQ0Mi01Y2M4MTRjZjRiNmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZWM5YzVhZDMtMmZjNy00YWZiLWFkNDItNWNjODE0Y2Y0YjZjIn0.KuG7QjllcLoLCJ-WMqq5pXZ9Ff5PcswUgUrOJOLOhvU
[2023-01-31T16:25:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMTgsImlhdCI6MTY3NTE4MjMxOCwianRpIjoiZDVlMGM3NGYtMzRkNy00MWE1LWIyZDItNWFjNGJiODQ2M2RkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYjZJZDdBc2ZpVUlrcFlzU1RVWEFtUSIsInNlc3Npb25fc3RhdGUiOiJlYzljNWFkMy0yZmM3LTRhZmItYWQ0Mi01Y2M4MTRjZjRiNmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZWM5YzVhZDMtMmZjNy00YWZiLWFkNDItNWNjODE0Y2Y0YjZjIn0.KuG7QjllcLoLCJ-WMqq5pXZ9Ff5PcswUgUrOJOLOhvU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::resources::apps] Create application: 413ddcc2-3d79-48fa-a6ab-91f32cd0f606
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot;
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606\&quot;,\n    \&quot;uid\&quot;: \&quot;d4a03a28-1b1a-49f8-aee4-ec082110fbaa\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:19.777925Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a6521a05-8a9b-4327-a1ea-5ba7bcd4ba8c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.829265627Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.834449864Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.834493967Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.802354225Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.802355448Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.802365807Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.802424166Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.802394561Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot;), &quot;uid&quot;: String(&quot;d4a03a28-1b1a-49f8-aee4-ec082110fbaa&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:19.777925Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a6521a05-8a9b-4327-a1ea-5ba7bcd4ba8c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.829265627Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.834449864Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.834493967Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.802354225Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.802355448Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.802365807Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.802424166Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.802394561Z&quot;)}]}}
[2023-01-31T16:25:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:25:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606\&quot;,\n    \&quot;uid\&quot;: \&quot;d4a03a28-1b1a-49f8-aee4-ec082110fbaa\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:19.777925Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;557966e8-aeab-4271-8586-eac6dbc1b382\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nm6nmPk6YRAp\&quot;,\n        \&quot;username\&quot;: \&quot;user-413ddcc2-3d79-48fa-a6ab-91f32cd0f606\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.829265627Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.834449864Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.910461053Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.917156799Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046001731Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046020817Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046414323Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046068636Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot;), &quot;uid&quot;: String(&quot;d4a03a28-1b1a-49f8-aee4-ec082110fbaa&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:19.777925Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;557966e8-aeab-4271-8586-eac6dbc1b382&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nm6nmPk6YRAp&quot;), &quot;username&quot;: String(&quot;user-413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.829265627Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.834449864Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.910461053Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.917156799Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046001731Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046020817Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046414323Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046068636Z&quot;)}]}}
[2023-01-31T16:25:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:25:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606\&quot;,\n    \&quot;uid\&quot;: \&quot;d4a03a28-1b1a-49f8-aee4-ec082110fbaa\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:19.777925Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;557966e8-aeab-4271-8586-eac6dbc1b382\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nm6nmPk6YRAp\&quot;,\n        \&quot;username\&quot;: \&quot;user-413ddcc2-3d79-48fa-a6ab-91f32cd0f606\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.829265627Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.834449864Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.910461053Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:19.917156799Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046001731Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046020817Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046414323Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:20.046068636Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot;), &quot;uid&quot;: String(&quot;d4a03a28-1b1a-49f8-aee4-ec082110fbaa&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:19.777925Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;557966e8-aeab-4271-8586-eac6dbc1b382&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nm6nmPk6YRAp&quot;), &quot;username&quot;: String(&quot;user-413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.829265627Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.834449864Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.910461053Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:19.917156799Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046001731Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046020817Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046414323Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:20.046068636Z&quot;)}]}}
[2023-01-31T16:25:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:25:20Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:25:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:25:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2MTksImlhdCI6MTY3NTE4MjMxOSwiYXV0aF90aW1lIjoxNjc1MTgyMzE2LCJqdGkiOiI0MjUwMTVlMy01YmJlLTQ5NTItOGQ1Yi04Y2M0NGY4NTEyMTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImI2SWQ3QXNmaVVJa3BZc1NUVVhBbVEiLCJzZXNzaW9uX3N0YXRlIjoiZWM5YzVhZDMtMmZjNy00YWZiLWFkNDItNWNjODE0Y2Y0YjZjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVjOWM1YWQzLTJmYzctNGFmYi1hZDQyLTVjYzgxNGNmNGI2YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FaKVX-chOIEOxRVc60yy52tFPuQgBvcJWRua797Pad_r5QyJxg1Xx2_78EvJmRZLDKm_tHAh8dk1KgeK57TRUz40yyD7ER-1v9F8LGlQNUT6tYQN1KLwzyJ7P10o1mN4oMkl-3_L9ryb392ieQaPIYhcL7-6ApdCj_eWyO8OngCkUwZMXn0xUKb0_gPhIOVdJd-d5GI3AeNvBO0aWkJjXPZsUSMD_CUlQu9edR-wf2n4WL_nukPySnWpQrGZ3b7SESAvxB_H5WpjCh2Y64I3Zmp5RemRwTR8sXfXIdDf4Xrea6qTqWWo2YO709aU_AGrRUPjUOjmkbbwxQLZQDjj-A\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot; &quot;device1&quot;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot; &quot;gateway1&quot;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&#x27;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;413ddcc2-3d79-48fa-a6ab-91f32cd0f606&quot;
[2023-01-31T16:25:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:25:23Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:25:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:24Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:25:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:25:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMjcsImlhdCI6MTY3NTE4MjMyNywianRpIjoiZmU3NGZiNDEtY2QyZC00NWRmLWI2YTgtNzA2MGYzOWUwYzZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWnNVZWhGQnk4clJ1RHRwNEJpTTF1dyIsInNlc3Npb25fc3RhdGUiOiI3ZjFjZjZhNC01ZmQ1LTRlNjItODUzMy04ZDNmOTc3M2EzMTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2YxY2Y2YTQtNWZkNS00ZTYyLTg1MzMtOGQzZjk3NzNhMzE0In0.R3Xo8CGV8fc_ZU4BH035Bkf6SDJKe8XbJsnl-1pg5ZQ
[2023-01-31T16:25:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:25:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMjcsImlhdCI6MTY3NTE4MjMyNywianRpIjoiZmU3NGZiNDEtY2QyZC00NWRmLWI2YTgtNzA2MGYzOWUwYzZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWnNVZWhGQnk4clJ1RHRwNEJpTTF1dyIsInNlc3Npb25fc3RhdGUiOiI3ZjFjZjZhNC01ZmQ1LTRlNjItODUzMy04ZDNmOTc3M2EzMTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2YxY2Y2YTQtNWZkNS00ZTYyLTg1MzMtOGQzZjk3NzNhMzE0In0.R3Xo8CGV8fc_ZU4BH035Bkf6SDJKe8XbJsnl-1pg5ZQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:28Z INFO  drogue_cloud_tests::resources::apps] Create application: 7aa63e6c-45ef-48ee-9a3a-17efcda84cbd
[2023-01-31T16:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot;
[2023-01-31T16:25:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd\&quot;,\n    \&quot;uid\&quot;: \&quot;8c6d8dfe-5fcf-4a5e-98ad-4159dd473e32\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:28.935510Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f5112a2d-3c53-4fbb-9ef6-136f030ce1d5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.976535927Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.984547033Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.984580545Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.946709432Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.946710033Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.946717116Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.946760938Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.946805221Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot;), &quot;uid&quot;: String(&quot;8c6d8dfe-5fcf-4a5e-98ad-4159dd473e32&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:28.935510Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f5112a2d-3c53-4fbb-9ef6-136f030ce1d5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.976535927Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.984547033Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.984580545Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.946709432Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.946710033Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.946717116Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.946760938Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.946805221Z&quot;)}]}}
[2023-01-31T16:25:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd\&quot;,\n    \&quot;uid\&quot;: \&quot;8c6d8dfe-5fcf-4a5e-98ad-4159dd473e32\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:28.935510Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;715558e2-0702-400d-8761-2b37d730cfab\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;lkN6f52aukGD\&quot;,\n        \&quot;username\&quot;: \&quot;user-7aa63e6c-45ef-48ee-9a3a-17efcda84cbd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.976535927Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.984547033Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.079612487Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.085472729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.243914659Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.243980733Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.244018073Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.244139870Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot;), &quot;uid&quot;: String(&quot;8c6d8dfe-5fcf-4a5e-98ad-4159dd473e32&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:28.935510Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;715558e2-0702-400d-8761-2b37d730cfab&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;lkN6f52aukGD&quot;), &quot;username&quot;: String(&quot;user-7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.976535927Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.984547033Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.079612487Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.085472729Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.243914659Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.243980733Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.244018073Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.244139870Z&quot;)}]}}
[2023-01-31T16:25:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd\&quot;,\n    \&quot;uid\&quot;: \&quot;8c6d8dfe-5fcf-4a5e-98ad-4159dd473e32\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:28.935510Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;715558e2-0702-400d-8761-2b37d730cfab\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;lkN6f52aukGD\&quot;,\n        \&quot;username\&quot;: \&quot;user-7aa63e6c-45ef-48ee-9a3a-17efcda84cbd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.976535927Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:28.984547033Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.079612487Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.085472729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.243914659Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.243980733Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.244018073Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:29.244139870Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot;), &quot;uid&quot;: String(&quot;8c6d8dfe-5fcf-4a5e-98ad-4159dd473e32&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:28.935510Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;715558e2-0702-400d-8761-2b37d730cfab&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;lkN6f52aukGD&quot;), &quot;username&quot;: String(&quot;user-7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.976535927Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:28.984547033Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.079612487Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.085472729Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.243914659Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.243980733Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.244018073Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:29.244139870Z&quot;)}]}}
[2023-01-31T16:25:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:25:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2MjgsImlhdCI6MTY3NTE4MjMyOCwiYXV0aF90aW1lIjoxNjc1MTgyMzI0LCJqdGkiOiI2ZDQ1M2ZlZC1lOWI1LTRhYzUtODZjOC03YzA5MzVjMzA3YjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpzVWVoRkJ5OHJSdUR0cDRCaU0xdXciLCJzZXNzaW9uX3N0YXRlIjoiN2YxY2Y2YTQtNWZkNS00ZTYyLTg1MzMtOGQzZjk3NzNhMzE0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdmMWNmNmE0LTVmZDUtNGU2Mi04NTMzLThkM2Y5NzczYTMxNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.E3hLPxVwRKClDCfy2Rj40h-u1oTCnXM4g8qHF9Iwt-W60IaPx4hy6KrBohN67sJeXREWkJhA2MCGgpaK0xy0nnNcms_mnqu-tG90bUtgGORORe6nUhjYTHZJTQ34KkN3Xt6z33hEPaUQdlGV-ZyItlGN-8bx1wAYTSEGlYZC0_8FYm9oN7jf-c8dSqIDUWt6Y3JGfICHmtW6UfJVONY_e-BPJCKFt6fesr5xockDfKdWyPem4dH59J2bgsnj22HfPWCJKZnbTCEKt9VwevNGvKUG1q6WB6VmwcKJnKbQoUTgwDRWz-E6O3McqMNTUSFhhljrawAA_XNh7NFgtUzy2g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot; &quot;device1&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot; &quot;gateway1&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&#x27;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7aa63e6c-45ef-48ee-9a3a-17efcda84cbd&quot;
[2023-01-31T16:25:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:25:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:25:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:25:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:25:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMzcsImlhdCI6MTY3NTE4MjMzNywianRpIjoiMDVmMzdhZDktNjExOC00MjUzLThiMjgtZDY4MDAwM2ZiYTliIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiN2FzV1Vyc05WeGxtSnlYMmxNb09hQSIsInNlc3Npb25fc3RhdGUiOiI0ZDdiNjIwNi1mOGMzLTRlOGEtYWIzZi1lYzQzNjJkYzU4YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGQ3YjYyMDYtZjhjMy00ZThhLWFiM2YtZWM0MzYyZGM1OGFjIn0.jsBkA7sc-tKoshlWxM2S0FLTLxSwAbUJiqpBhe2vHuY
[2023-01-31T16:25:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:25:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxMzcsImlhdCI6MTY3NTE4MjMzNywianRpIjoiMDVmMzdhZDktNjExOC00MjUzLThiMjgtZDY4MDAwM2ZiYTliIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiN2FzV1Vyc05WeGxtSnlYMmxNb09hQSIsInNlc3Npb25fc3RhdGUiOiI0ZDdiNjIwNi1mOGMzLTRlOGEtYWIzZi1lYzQzNjJkYzU4YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGQ3YjYyMDYtZjhjMy00ZThhLWFiM2YtZWM0MzYyZGM1OGFjIn0.jsBkA7sc-tKoshlWxM2S0FLTLxSwAbUJiqpBhe2vHuY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:25:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:38Z INFO  drogue_cloud_tests::resources::apps] Create application: e85207a0-6022-4335-8a6a-29b3810e9067
[2023-01-31T16:25:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot;
[2023-01-31T16:25:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e85207a0-6022-4335-8a6a-29b3810e9067\&quot;,\n    \&quot;uid\&quot;: \&quot;239bbb2a-626d-4705-b648-ea6dfe08e8e9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:38.090352Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d1603915-8456-4b26-8c47-2ec315b561db\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113652124Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113652805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113653095Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113653416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113653957Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113665509Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113727916Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.113684414Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot;), &quot;uid&quot;: String(&quot;239bbb2a-626d-4705-b648-ea6dfe08e8e9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:38.090352Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d1603915-8456-4b26-8c47-2ec315b561db&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113652124Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113652805Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113653095Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113653416Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113653957Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113665509Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113727916Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.113684414Z&quot;)}]}}
[2023-01-31T16:25:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e85207a0-6022-4335-8a6a-29b3810e9067\&quot;,\n    \&quot;uid\&quot;: \&quot;239bbb2a-626d-4705-b648-ea6dfe08e8e9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:38.090352Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9d1ba2cc-1a5b-4557-aa99-85d616c3a797\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IkMe9Xd0spIC\&quot;,\n        \&quot;username\&quot;: \&quot;user-e85207a0-6022-4335-8a6a-29b3810e9067\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.146810782Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.157384522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.232693370Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.246623399Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409198582Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409250309Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409348452Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409281638Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot;), &quot;uid&quot;: String(&quot;239bbb2a-626d-4705-b648-ea6dfe08e8e9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:38.090352Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9d1ba2cc-1a5b-4557-aa99-85d616c3a797&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IkMe9Xd0spIC&quot;), &quot;username&quot;: String(&quot;user-e85207a0-6022-4335-8a6a-29b3810e9067&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.146810782Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.157384522Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.232693370Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.246623399Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409198582Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409250309Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409348452Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409281638Z&quot;)}]}}
[2023-01-31T16:25:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e85207a0-6022-4335-8a6a-29b3810e9067\&quot;,\n    \&quot;uid\&quot;: \&quot;239bbb2a-626d-4705-b648-ea6dfe08e8e9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:38.090352Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9d1ba2cc-1a5b-4557-aa99-85d616c3a797\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IkMe9Xd0spIC\&quot;,\n        \&quot;username\&quot;: \&quot;user-e85207a0-6022-4335-8a6a-29b3810e9067\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.146810782Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.157384522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.232693370Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.246623399Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409198582Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409250309Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409348452Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:38.409281638Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot;), &quot;uid&quot;: String(&quot;239bbb2a-626d-4705-b648-ea6dfe08e8e9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:38.090352Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9d1ba2cc-1a5b-4557-aa99-85d616c3a797&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IkMe9Xd0spIC&quot;), &quot;username&quot;: String(&quot;user-e85207a0-6022-4335-8a6a-29b3810e9067&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.146810782Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.157384522Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.232693370Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.246623399Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409198582Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409250309Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409348452Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:38.409281638Z&quot;)}]}}
[2023-01-31T16:25:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:25:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2MzcsImlhdCI6MTY3NTE4MjMzNywiYXV0aF90aW1lIjoxNjc1MTgyMzM0LCJqdGkiOiJmMTgxNjFhYy0zMTMxLTRhYmItYWVlNy0xNzQyOGQ1OTlkNDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijdhc1dVcnNOVnhsbUp5WDJsTW9PYUEiLCJzZXNzaW9uX3N0YXRlIjoiNGQ3YjYyMDYtZjhjMy00ZThhLWFiM2YtZWM0MzYyZGM1OGFjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRkN2I2MjA2LWY4YzMtNGU4YS1hYjNmLWVjNDM2MmRjNThhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.rkvYM_bhwdJGicWvyMUr1Cmb0DSMMZJQXvqv6YLLpuKInK4hLJu8PL3mztWa9rss3V-bbepEjslea0gzCRycSsnkUXLZYoqJS4HUDB_dapVT8OSbzdInrHc4DPxirCsS3DbvbhOhrg693K0iR4nssT3zVtNdtqWPSBTbQhM-0QdBXLbmWD2Kchd5Ob1vStrIf-R-b0TDCkAn_dOsTYBTdUVHea6kNBmJERAGtCbPoIdC5S4GN3VlfkV9-D4L5sGZbXy6XDtikpxkT-IBCKm0lv7JDPRTsaWorG8CcqwxgeGBCe2GBYS4SeWpLJ-_th4j0sQ5jGEOemDabs2w5ootlQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot; &quot;device1&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot; &quot;gateway1&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e85207a0-6022-4335-8a6a-29b3810e9067&#x27;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e85207a0-6022-4335-8a6a-29b3810e9067&quot;
[2023-01-31T16:25:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:25:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:25:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:25:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:25:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNDUsImlhdCI6MTY3NTE4MjM0NSwianRpIjoiZGNlM2JmNmYtNmQ2YS00NjgwLWE1MzktYzQ4ZWI2YjBmMTY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoienFfcmtURUdEb09JNElYeER4ek55USIsInNlc3Npb25fc3RhdGUiOiI0ODQyNzMxMi0yNzViLTRkZWMtOTc3NC01NzRiNDgzOTBiYTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDg0MjczMTItMjc1Yi00ZGVjLTk3NzQtNTc0YjQ4MzkwYmE0In0.HZpR-apzYJkqyhLmp2oU16CtBlh4lN4Gtdch0AJsBA8
[2023-01-31T16:25:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:25:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNDUsImlhdCI6MTY3NTE4MjM0NSwianRpIjoiZGNlM2JmNmYtNmQ2YS00NjgwLWE1MzktYzQ4ZWI2YjBmMTY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoienFfcmtURUdEb09JNElYeER4ek55USIsInNlc3Npb25fc3RhdGUiOiI0ODQyNzMxMi0yNzViLTRkZWMtOTc3NC01NzRiNDgzOTBiYTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDg0MjczMTItMjc1Yi00ZGVjLTk3NzQtNTc0YjQ4MzkwYmE0In0.HZpR-apzYJkqyhLmp2oU16CtBlh4lN4Gtdch0AJsBA8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:25:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:46Z INFO  drogue_cloud_tests::resources::apps] Create application: 1a5bf997-162c-40ca-8926-c16a689f37b5
[2023-01-31T16:25:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot;
[2023-01-31T16:25:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1a5bf997-162c-40ca-8926-c16a689f37b5\&quot;,\n    \&quot;uid\&quot;: \&quot;79c6c029-7826-448a-9fef-0dde3254ba78\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:46.777504Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;87fd8d91-4751-47ee-82d3-0e0c15bb3f80\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.830784297Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.837808737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.837950512Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.790551053Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.790551845Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.790870821Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.790964126Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.791048043Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot;), &quot;uid&quot;: String(&quot;79c6c029-7826-448a-9fef-0dde3254ba78&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:46.777504Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;87fd8d91-4751-47ee-82d3-0e0c15bb3f80&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.830784297Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.837808737Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.837950512Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.790551053Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.790551845Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.790870821Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.790964126Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.791048043Z&quot;)}]}}
[2023-01-31T16:25:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:25:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1a5bf997-162c-40ca-8926-c16a689f37b5\&quot;,\n    \&quot;uid\&quot;: \&quot;79c6c029-7826-448a-9fef-0dde3254ba78\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:46.777504Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f2f381e7-0570-4a3a-8eb1-8c0407f0f5ef\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;H82sMDC0B0dP\&quot;,\n        \&quot;username\&quot;: \&quot;user-1a5bf997-162c-40ca-8926-c16a689f37b5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.830784297Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.837808737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.911916459Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.918801138Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035538335Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035556439Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035586835Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035669851Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot;), &quot;uid&quot;: String(&quot;79c6c029-7826-448a-9fef-0dde3254ba78&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:46.777504Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f2f381e7-0570-4a3a-8eb1-8c0407f0f5ef&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;H82sMDC0B0dP&quot;), &quot;username&quot;: String(&quot;user-1a5bf997-162c-40ca-8926-c16a689f37b5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.830784297Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.837808737Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.911916459Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.918801138Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035538335Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035556439Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035586835Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035669851Z&quot;)}]}}
[2023-01-31T16:25:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:25:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1a5bf997-162c-40ca-8926-c16a689f37b5\&quot;,\n    \&quot;uid\&quot;: \&quot;79c6c029-7826-448a-9fef-0dde3254ba78\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:46.777504Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f2f381e7-0570-4a3a-8eb1-8c0407f0f5ef\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;H82sMDC0B0dP\&quot;,\n        \&quot;username\&quot;: \&quot;user-1a5bf997-162c-40ca-8926-c16a689f37b5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.830784297Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.837808737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.911916459Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:46.918801138Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035538335Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035556439Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035586835Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:47.035669851Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot;), &quot;uid&quot;: String(&quot;79c6c029-7826-448a-9fef-0dde3254ba78&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:46.777504Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f2f381e7-0570-4a3a-8eb1-8c0407f0f5ef&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;H82sMDC0B0dP&quot;), &quot;username&quot;: String(&quot;user-1a5bf997-162c-40ca-8926-c16a689f37b5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.830784297Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.837808737Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.911916459Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:46.918801138Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035538335Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035556439Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035586835Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:47.035669851Z&quot;)}]}}
[2023-01-31T16:25:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:25:47Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:25:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:25:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2NDYsImlhdCI6MTY3NTE4MjM0NiwiYXV0aF90aW1lIjoxNjc1MTgyMzQzLCJqdGkiOiI1ZjI3N2VmOC0wY2UwLTQwYmItOTZkNy04ZWQ4YjQ1ZjdkNmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpxX3JrVEVHRG9PSTRJWHhEeHpOeVEiLCJzZXNzaW9uX3N0YXRlIjoiNDg0MjczMTItMjc1Yi00ZGVjLTk3NzQtNTc0YjQ4MzkwYmE0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ4NDI3MzEyLTI3NWItNGRlYy05Nzc0LTU3NGI0ODM5MGJhNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.wSVSJEF4Pi5uq5QzOYwEl-WehwRy2xuxxdW4FKg1tu2qLkM773fozI7p0fDTZDmLZ9Z-2AMGXqMSkg0bz6GmWHphHW3jkW2zVXBntWkIWZvbEvdjsHjx2xZrC6f9PeeMuzVc_7WOeP1fi8GBVg8bxsOMfCKh_FWeR3gBg3b-xZT_dlovVCFOuZj4q-gqKVxRWLJ8yH0O5A0c-UAmjnQ6x1BUHgFvSAa365cUSXbhceDjGp3pO3uF4BALuNyFxhw4ey14PoDMQbeBYxu5BPoC_AIPs5xSa6HPgtT1zEy8eFSxwnmUjDh_bw-WRB0i3m7jk-DPEmgj6CnsTzv1GMO65w\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot; &quot;device1&quot;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot; &quot;gateway1&quot;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1a5bf997-162c-40ca-8926-c16a689f37b5&#x27;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1a5bf997-162c-40ca-8926-c16a689f37b5&quot;
[2023-01-31T16:25:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:25:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:25:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:25:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:25:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNTQsImlhdCI6MTY3NTE4MjM1NCwianRpIjoiMzljZGFlMTQtNmRlMC00Nzc5LTkzYWYtMjM0ZDMzZmIxMWY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZmdPTE1Rd3pxbUVSU2RPSmI2c1BMdyIsInNlc3Npb25fc3RhdGUiOiJjY2ZhZDRiYS1kM2JjLTQ4OWUtYTAwZS01MDAzNDUxNGI2M2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2NmYWQ0YmEtZDNiYy00ODllLWEwMGUtNTAwMzQ1MTRiNjNiIn0.Joi20NG9lNTdD_TRC9fG9LXsPq4RBDVrdP-JKI0uS8Q
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNTQsImlhdCI6MTY3NTE4MjM1NCwianRpIjoiMzljZGFlMTQtNmRlMC00Nzc5LTkzYWYtMjM0ZDMzZmIxMWY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZmdPTE1Rd3pxbUVSU2RPSmI2c1BMdyIsInNlc3Npb25fc3RhdGUiOiJjY2ZhZDRiYS1kM2JjLTQ4OWUtYTAwZS01MDAzNDUxNGI2M2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2NmYWQ0YmEtZDNiYy00ODllLWEwMGUtNTAwMzQ1MTRiNjNiIn0.Joi20NG9lNTdD_TRC9fG9LXsPq4RBDVrdP-JKI0uS8Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::resources::apps] Create application: 28010073-8c49-4526-89fc-f0a418e7f132
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot;
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28010073-8c49-4526-89fc-f0a418e7f132\&quot;,\n    \&quot;uid\&quot;: \&quot;f176dc44-eb11-4e83-8a22-2c39ab3a6858\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:55.836823Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9478d8b4-3a66-4688-99df-c54e05b984c8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867608250Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867609862Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867610424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867611416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867613009Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867649657Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867707365Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.867680164Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28010073-8c49-4526-89fc-f0a418e7f132&quot;), &quot;uid&quot;: String(&quot;f176dc44-eb11-4e83-8a22-2c39ab3a6858&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:55.836823Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9478d8b4-3a66-4688-99df-c54e05b984c8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867608250Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867609862Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867610424Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867611416Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867613009Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867649657Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867707365Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.867680164Z&quot;)}]}}
[2023-01-31T16:25:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:25:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28010073-8c49-4526-89fc-f0a418e7f132\&quot;,\n    \&quot;uid\&quot;: \&quot;f176dc44-eb11-4e83-8a22-2c39ab3a6858\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:55.836823Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d227a214-a354-4b9e-9f39-df61c000a30e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tjHWZ8Ejuv8Z\&quot;,\n        \&quot;username\&quot;: \&quot;user-28010073-8c49-4526-89fc-f0a418e7f132\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.918059889Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.924011794Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.002412146Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.009504433Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151806236Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151829069Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151935918Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151870777Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28010073-8c49-4526-89fc-f0a418e7f132&quot;), &quot;uid&quot;: String(&quot;f176dc44-eb11-4e83-8a22-2c39ab3a6858&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:55.836823Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d227a214-a354-4b9e-9f39-df61c000a30e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tjHWZ8Ejuv8Z&quot;), &quot;username&quot;: String(&quot;user-28010073-8c49-4526-89fc-f0a418e7f132&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.918059889Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.924011794Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.002412146Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.009504433Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151806236Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151829069Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151935918Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151870777Z&quot;)}]}}
[2023-01-31T16:25:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:25:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28010073-8c49-4526-89fc-f0a418e7f132\&quot;,\n    \&quot;uid\&quot;: \&quot;f176dc44-eb11-4e83-8a22-2c39ab3a6858\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:25:55.836823Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d227a214-a354-4b9e-9f39-df61c000a30e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tjHWZ8Ejuv8Z\&quot;,\n        \&quot;username\&quot;: \&quot;user-28010073-8c49-4526-89fc-f0a418e7f132\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.918059889Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:55.924011794Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.002412146Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.009504433Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151806236Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151829069Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151935918Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:25:56.151870777Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28010073-8c49-4526-89fc-f0a418e7f132&quot;), &quot;uid&quot;: String(&quot;f176dc44-eb11-4e83-8a22-2c39ab3a6858&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:25:55.836823Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d227a214-a354-4b9e-9f39-df61c000a30e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tjHWZ8Ejuv8Z&quot;), &quot;username&quot;: String(&quot;user-28010073-8c49-4526-89fc-f0a418e7f132&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.918059889Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:55.924011794Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.002412146Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.009504433Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151806236Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151829069Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151935918Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:25:56.151870777Z&quot;)}]}}
[2023-01-31T16:25:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:25:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2NTUsImlhdCI6MTY3NTE4MjM1NSwiYXV0aF90aW1lIjoxNjc1MTgyMzUyLCJqdGkiOiIwNGIyYjg5Ni0zMzFjLTQwZWQtOTdjNy0yNjQ5YTczOWFlNDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZnT0xNUXd6cW1FUlNkT0piNnNQTHciLCJzZXNzaW9uX3N0YXRlIjoiY2NmYWQ0YmEtZDNiYy00ODllLWEwMGUtNTAwMzQ1MTRiNjNiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNjZmFkNGJhLWQzYmMtNDg5ZS1hMDBlLTUwMDM0NTE0YjYzYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.0XY0emEliH8fXyj8L7yD51x6e7dFEcRm6H-IJj8cYdTObKQOOUanrrdqNfsfKr-oR6zOx9x0sL1dJrh-ScnwA5qBbWu1aw9sbFvsWmHPV2364zKbHVw9mLOaMWgEFHWk14erusjwyGyzFvuqj0sCGwyEWD2QlfhOy1hrg22-jgz0krZcdjYtyyNFedQhZhW3AAw7r0GPVUHB2C5oOTHMr3qu-OUpLTeOYEYhQ4EFNrhFX3idpDgR_BY3FJDl6mcSBqBzyZAJFYlfsb7ZlmaXpLHciMs9cWrfD3Ap0qoBwLWzuPXl4Z1Zj-8AdwceZjpXCr1UprLDxaB0o1u2a_UiDQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot; &quot;device1&quot;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot; &quot;gateway1&quot;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;28010073-8c49-4526-89fc-f0a418e7f132&#x27;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;28010073-8c49-4526-89fc-f0a418e7f132&quot;
[2023-01-31T16:25:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:25:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:25:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:25:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:25:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:26:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:26:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNjMsImlhdCI6MTY3NTE4MjM2MywianRpIjoiZTdjN2JmMjktODQ3ZS00MTJhLWIzZGItZGFmMzc2OGNkMTE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibVZLLVNBUjFzSm8wOFlhV1NoeF85QSIsInNlc3Npb25fc3RhdGUiOiJiMGM5MDA2ZC0xYzQ5LTQ4ODctOWU0NS1kODJjMjhjYjIzMjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjBjOTAwNmQtMWM0OS00ODg3LTllNDUtZDgyYzI4Y2IyMzIzIn0.TqhjpAEaOlFYVq2JjIMvgjleT184IQy48xyDkJqNiys
[2023-01-31T16:26:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:26:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNjMsImlhdCI6MTY3NTE4MjM2MywianRpIjoiZTdjN2JmMjktODQ3ZS00MTJhLWIzZGItZGFmMzc2OGNkMTE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibVZLLVNBUjFzSm8wOFlhV1NoeF85QSIsInNlc3Npb25fc3RhdGUiOiJiMGM5MDA2ZC0xYzQ5LTQ4ODctOWU0NS1kODJjMjhjYjIzMjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjBjOTAwNmQtMWM0OS00ODg3LTllNDUtZDgyYzI4Y2IyMzIzIn0.TqhjpAEaOlFYVq2JjIMvgjleT184IQy48xyDkJqNiys&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:26:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:04Z INFO  drogue_cloud_tests::resources::apps] Create application: 6bcd03fe-9f41-47dc-9641-12288ee7b2da
[2023-01-31T16:26:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot;
[2023-01-31T16:26:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da\&quot;,\n    \&quot;uid\&quot;: \&quot;da5c4375-0486-4741-8637-eae331a7f621\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:04.807642Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0ce8db32-59fe-4433-9f52-1ea6f7bc09be\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.857498639Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.864568484Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.864621132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.831486196Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.831486778Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.831494372Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.831541481Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.831517756Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot;), &quot;uid&quot;: String(&quot;da5c4375-0486-4741-8637-eae331a7f621&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:04.807642Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0ce8db32-59fe-4433-9f52-1ea6f7bc09be&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.857498639Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.864568484Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.864621132Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.831486196Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.831486778Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.831494372Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.831541481Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.831517756Z&quot;)}]}}
[2023-01-31T16:26:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:26:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da\&quot;,\n    \&quot;uid\&quot;: \&quot;da5c4375-0486-4741-8637-eae331a7f621\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:04.807642Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;49cd1f85-8645-4a4b-b46a-198cf46fc87a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Y6bqlP2AiZKS\&quot;,\n        \&quot;username\&quot;: \&quot;user-6bcd03fe-9f41-47dc-9641-12288ee7b2da\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.857498639Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.864568484Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.928594938Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.936242374Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106340918Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106448730Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106624048Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106489365Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot;), &quot;uid&quot;: String(&quot;da5c4375-0486-4741-8637-eae331a7f621&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:04.807642Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;49cd1f85-8645-4a4b-b46a-198cf46fc87a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Y6bqlP2AiZKS&quot;), &quot;username&quot;: String(&quot;user-6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.857498639Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.864568484Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.928594938Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.936242374Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106340918Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106448730Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106624048Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106489365Z&quot;)}]}}
[2023-01-31T16:26:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:26:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da\&quot;,\n    \&quot;uid\&quot;: \&quot;da5c4375-0486-4741-8637-eae331a7f621\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:04.807642Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;49cd1f85-8645-4a4b-b46a-198cf46fc87a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Y6bqlP2AiZKS\&quot;,\n        \&quot;username\&quot;: \&quot;user-6bcd03fe-9f41-47dc-9641-12288ee7b2da\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.857498639Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.864568484Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.928594938Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:04.936242374Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106340918Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106448730Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106624048Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:05.106489365Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot;), &quot;uid&quot;: String(&quot;da5c4375-0486-4741-8637-eae331a7f621&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:04.807642Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;49cd1f85-8645-4a4b-b46a-198cf46fc87a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Y6bqlP2AiZKS&quot;), &quot;username&quot;: String(&quot;user-6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.857498639Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.864568484Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.928594938Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:04.936242374Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106340918Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106448730Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106624048Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:05.106489365Z&quot;)}]}}
[2023-01-31T16:26:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:26:05Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:26:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:26:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2NjQsImlhdCI6MTY3NTE4MjM2NCwiYXV0aF90aW1lIjoxNjc1MTgyMzYwLCJqdGkiOiIwMTA2OWU3Ni05N2U0LTQzZDAtODdiOS1mMzlmY2U1NWM5ZDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im1WSy1TQVIxc0pvMDhZYVdTaHhfOUEiLCJzZXNzaW9uX3N0YXRlIjoiYjBjOTAwNmQtMWM0OS00ODg3LTllNDUtZDgyYzI4Y2IyMzIzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIwYzkwMDZkLTFjNDktNDg4Ny05ZTQ1LWQ4MmMyOGNiMjMyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.d4jycqGNYTOUmrfzyezVkDhyggRIAyERSQb09xg06iv0oEiTX6PtuVbOYBzzAJsUS-bNiV2p-DFE9jLEXzvFmr9yDPdL2HXuwsOD_nzKVM0ox1MLJzymlsBoPQW6Mn7CDHCyyKQA-H0jks9QCckxB0NxDkTylCyBrO7Egf8UrJ623Fazbj_gRi8I5FwZs7cttg2tI_MjCxym9uCUbBXTOn2yCIU_5Z_0GHa0cZcreIEwHevqn5NMo4nMKigE1ZOC_vBUqp9FehBraQC1561DTRklx1rZ9lQGbDuWu9-VAXaJn_1rrRNQXoNqa3iwH7PVAmTTV6T22kqKrWHI7z93ag\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot; &quot;device1&quot;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot; &quot;gateway1&quot;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;6bcd03fe-9f41-47dc-9641-12288ee7b2da&#x27;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;6bcd03fe-9f41-47dc-9641-12288ee7b2da&quot;
[2023-01-31T16:26:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:26:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:26:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:26:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:26:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNzMsImlhdCI6MTY3NTE4MjM3MywianRpIjoiMGQwNWIzNmMtNWY3MC00ZjVmLTg1NTgtMWU1MTQxM2U5NmY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic1V6SnJwdEU2YWRLMVR4SGlvckpyUSIsInNlc3Npb25fc3RhdGUiOiJmNzBkM2QyYi01MzM5LTQ1ZDYtYmMzYS1kZjQ4M2FkYzJmNTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjcwZDNkMmItNTMzOS00NWQ2LWJjM2EtZGY0ODNhZGMyZjUyIn0.ypLp_JQpHxBbxy3WdFz3gEmeWOTgpCbyBi24PAD1Zd4
[2023-01-31T16:26:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:26:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxNzMsImlhdCI6MTY3NTE4MjM3MywianRpIjoiMGQwNWIzNmMtNWY3MC00ZjVmLTg1NTgtMWU1MTQxM2U5NmY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic1V6SnJwdEU2YWRLMVR4SGlvckpyUSIsInNlc3Npb25fc3RhdGUiOiJmNzBkM2QyYi01MzM5LTQ1ZDYtYmMzYS1kZjQ4M2FkYzJmNTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjcwZDNkMmItNTMzOS00NWQ2LWJjM2EtZGY0ODNhZGMyZjUyIn0.ypLp_JQpHxBbxy3WdFz3gEmeWOTgpCbyBi24PAD1Zd4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:26:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 1a3f9f70-8157-4f22-a3d0-36f901992ad7
[2023-01-31T16:26:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot;
[2023-01-31T16:26:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7\&quot;,\n    \&quot;uid\&quot;: \&quot;a4d77966-42c3-4693-91fe-2f7d23b5e9a8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:14.003650Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4c6473ea-c11f-4a73-b10c-e3535087051d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.045877742Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.053442073Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.053479403Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.019430366Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.019431258Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.019443941Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.019478246Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.019508683Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot;), &quot;uid&quot;: String(&quot;a4d77966-42c3-4693-91fe-2f7d23b5e9a8&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:14.003650Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4c6473ea-c11f-4a73-b10c-e3535087051d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.045877742Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.053442073Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.053479403Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.019430366Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.019431258Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.019443941Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.019478246Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.019508683Z&quot;)}]}}
[2023-01-31T16:26:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7\&quot;,\n    \&quot;uid\&quot;: \&quot;a4d77966-42c3-4693-91fe-2f7d23b5e9a8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:14.003650Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b18a6bd8-a994-42cb-b862-8f7fcfde26d6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;czGbg2mfMWU8\&quot;,\n        \&quot;username\&quot;: \&quot;user-1a3f9f70-8157-4f22-a3d0-36f901992ad7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.045877742Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.053442073Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.128462474Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.134523354Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274381517Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274402326Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274531068Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274604394Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot;), &quot;uid&quot;: String(&quot;a4d77966-42c3-4693-91fe-2f7d23b5e9a8&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:14.003650Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b18a6bd8-a994-42cb-b862-8f7fcfde26d6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;czGbg2mfMWU8&quot;), &quot;username&quot;: String(&quot;user-1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.045877742Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.053442073Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.128462474Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.134523354Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274381517Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274402326Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274531068Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274604394Z&quot;)}]}}
[2023-01-31T16:26:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7\&quot;,\n    \&quot;uid\&quot;: \&quot;a4d77966-42c3-4693-91fe-2f7d23b5e9a8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:14.003650Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b18a6bd8-a994-42cb-b862-8f7fcfde26d6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;czGbg2mfMWU8\&quot;,\n        \&quot;username\&quot;: \&quot;user-1a3f9f70-8157-4f22-a3d0-36f901992ad7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.045877742Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.053442073Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.128462474Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.134523354Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274381517Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274402326Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274531068Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:14.274604394Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot;), &quot;uid&quot;: String(&quot;a4d77966-42c3-4693-91fe-2f7d23b5e9a8&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:14.003650Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b18a6bd8-a994-42cb-b862-8f7fcfde26d6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;czGbg2mfMWU8&quot;), &quot;username&quot;: String(&quot;user-1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.045877742Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.053442073Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.128462474Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.134523354Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274381517Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274402326Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274531068Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:14.274604394Z&quot;)}]}}
[2023-01-31T16:26:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:26:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2NzMsImlhdCI6MTY3NTE4MjM3MywiYXV0aF90aW1lIjoxNjc1MTgyMzcwLCJqdGkiOiJlM2FlMzE3MS05ZGVlLTRhNWQtODJjYi0wM2U1NWM0NzA4ZDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNVekpycHRFNmFkSzFUeEhpb3JKclEiLCJzZXNzaW9uX3N0YXRlIjoiZjcwZDNkMmItNTMzOS00NWQ2LWJjM2EtZGY0ODNhZGMyZjUyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3MGQzZDJiLTUzMzktNDVkNi1iYzNhLWRmNDgzYWRjMmY1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ZTlCkfxTbFp92NgJXlr61muiMyGBCGAqeTfAL_hYiHPPYVLkXMLIw7LRcUIun1BvVMQ62Q-BtQOps3nMw1V2Xn9uRr7HBArvpeBst4hda458ttTP73EFJvZNJyD9G8q_s3LlsV13xZ2RxCyuAiivTd_6RVJ3Jf50-hngvR8veAp0dQ-PDTm5OxE9AcOcESln7xghrDIPyrmEfhWoPYTfxv2MS6ZqVwmlUaVY5cc2R1tprIRwPjPbEkMK822mZzLMFJ40_itjEYhr7nAefPTX2-wf_qgB8h3JbOwve4s3N8FjugCdjcta1VsvEXe0vfsOltHV6Eh9oy25jaaK7sFwSg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot; &quot;device1&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot; &quot;gateway1&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1a3f9f70-8157-4f22-a3d0-36f901992ad7&#x27;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1a3f9f70-8157-4f22-a3d0-36f901992ad7&quot;
[2023-01-31T16:26:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:26:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:26:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:26:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:26:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxODIsImlhdCI6MTY3NTE4MjM4MiwianRpIjoiOTVlN2ViZjAtZWQ0ZC00NGVmLTljZjUtODJkMTk1ZTc5MjEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVi1nN3FmbUVhUS1PVGdnVm93MUI4ZyIsInNlc3Npb25fc3RhdGUiOiJmZWZlZTI5MS1iNzBkLTRhNjYtOTUzYy03MmFiYzcyMDU5YmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmVmZWUyOTEtYjcwZC00YTY2LTk1M2MtNzJhYmM3MjA1OWJlIn0.yQcnp75jgLerFSEv33921vsYagl8O1VT70WeUK6temg
[2023-01-31T16:26:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:26:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxODIsImlhdCI6MTY3NTE4MjM4MiwianRpIjoiOTVlN2ViZjAtZWQ0ZC00NGVmLTljZjUtODJkMTk1ZTc5MjEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVi1nN3FmbUVhUS1PVGdnVm93MUI4ZyIsInNlc3Npb25fc3RhdGUiOiJmZWZlZTI5MS1iNzBkLTRhNjYtOTUzYy03MmFiYzcyMDU5YmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmVmZWUyOTEtYjcwZC00YTY2LTk1M2MtNzJhYmM3MjA1OWJlIn0.yQcnp75jgLerFSEv33921vsYagl8O1VT70WeUK6temg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:26:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:23Z INFO  drogue_cloud_tests::resources::apps] Create application: 325a2a73-64c7-4ef4-a843-e5ef0c7fbd91
[2023-01-31T16:26:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot;
[2023-01-31T16:26:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91\&quot;,\n    \&quot;uid\&quot;: \&quot;4b18ef9a-eebd-4022-8f1f-df9f65379600\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:23.299128Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;96b7c8ec-659a-471d-8473-dcc100c80817\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.341544445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.351359436Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.351402125Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.312360258Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.312361149Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.312380076Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.312483550Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.312588185Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot;), &quot;uid&quot;: String(&quot;4b18ef9a-eebd-4022-8f1f-df9f65379600&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:23.299128Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;96b7c8ec-659a-471d-8473-dcc100c80817&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.341544445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.351359436Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.351402125Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.312360258Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.312361149Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.312380076Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.312483550Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.312588185Z&quot;)}]}}
[2023-01-31T16:26:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91\&quot;,\n    \&quot;uid\&quot;: \&quot;4b18ef9a-eebd-4022-8f1f-df9f65379600\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:23.299128Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;76edde04-6544-4025-ae30-7dd9ff350074\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;YMwhH3eZtmP0\&quot;,\n        \&quot;username\&quot;: \&quot;user-325a2a73-64c7-4ef4-a843-e5ef0c7fbd91\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.341544445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.351359436Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.410915168Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.418178866Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574557247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574576023Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574605378Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574684015Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot;), &quot;uid&quot;: String(&quot;4b18ef9a-eebd-4022-8f1f-df9f65379600&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:23.299128Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;76edde04-6544-4025-ae30-7dd9ff350074&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;YMwhH3eZtmP0&quot;), &quot;username&quot;: String(&quot;user-325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.341544445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.351359436Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.410915168Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.418178866Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574557247Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574576023Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574605378Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574684015Z&quot;)}]}}
[2023-01-31T16:26:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91\&quot;,\n    \&quot;uid\&quot;: \&quot;4b18ef9a-eebd-4022-8f1f-df9f65379600\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:23.299128Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;76edde04-6544-4025-ae30-7dd9ff350074\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;YMwhH3eZtmP0\&quot;,\n        \&quot;username\&quot;: \&quot;user-325a2a73-64c7-4ef4-a843-e5ef0c7fbd91\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.341544445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.351359436Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.410915168Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.418178866Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574557247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574576023Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574605378Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:23.574684015Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot;), &quot;uid&quot;: String(&quot;4b18ef9a-eebd-4022-8f1f-df9f65379600&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:23.299128Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;76edde04-6544-4025-ae30-7dd9ff350074&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;YMwhH3eZtmP0&quot;), &quot;username&quot;: String(&quot;user-325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.341544445Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.351359436Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.410915168Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.418178866Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574557247Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574576023Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574605378Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:23.574684015Z&quot;)}]}}
[2023-01-31T16:26:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:26:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2ODIsImlhdCI6MTY3NTE4MjM4MiwiYXV0aF90aW1lIjoxNjc1MTgyMzc5LCJqdGkiOiI4MWI0MDMxMC1kMGNiLTQyMmQtOGE3ZC05ZWRjOGEzY2YwMDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlYtZzdxZm1FYVEtT1RnZ1ZvdzFCOGciLCJzZXNzaW9uX3N0YXRlIjoiZmVmZWUyOTEtYjcwZC00YTY2LTk1M2MtNzJhYmM3MjA1OWJlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZlZmVlMjkxLWI3MGQtNGE2Ni05NTNjLTcyYWJjNzIwNTliZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.aJ5tNfMEJaiejxehF2drXtgEF2emfJ24lrcj7MdJjKRTjkosUKalQeApaTWWSviywYETcHycoN4FveXb4jRd7O0A_XXyvbTBc-UjEdmASvvcqhA53YX6Zpd5nwPrqCeXS7Tf35X5qLdeSKqj33aLJ0NMfcVyDWIECO7jx3372Ya0XBB7qGE2MVJJj0Os8yCPZQoOUea1bNdDmG8LOynmst6Ozs6oxvBph-BQ70zAAQBXxFx21EadUCmZHHP5hVVw7v8RVNTbcROP0nGbcDXyrrFGFO63PFcWa08It4TLwq3aeuHpfL-yyjlqWRMvSMf07yhx5uedwwg7dKPn_SLPxg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot; &quot;device1&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot; &quot;gateway1&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&#x27;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;325a2a73-64c7-4ef4-a843-e5ef0c7fbd91&quot;
[2023-01-31T16:26:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:26:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:26:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:26:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:26:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxOTEsImlhdCI6MTY3NTE4MjM5MSwianRpIjoiMTc5YWJjYTAtMTAxMi00OTY1LWE2MzAtZTdjODVjMjAxZTBlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYUo5dUdCbjdURjdTeUEyUk1NUVQ0ZyIsInNlc3Npb25fc3RhdGUiOiIyNDBmNmMxNC0wOWFhLTRhODItOTM1Mi1jZTBlNWExNDU5YzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjQwZjZjMTQtMDlhYS00YTgyLTkzNTItY2UwZTVhMTQ1OWMwIn0.c_L5DittPaAVhHIl5ENW-AV5i4gmEZMod20CiDSeej8
[2023-01-31T16:26:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:26:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxOTEsImlhdCI6MTY3NTE4MjM5MSwianRpIjoiMTc5YWJjYTAtMTAxMi00OTY1LWE2MzAtZTdjODVjMjAxZTBlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYUo5dUdCbjdURjdTeUEyUk1NUVQ0ZyIsInNlc3Npb25fc3RhdGUiOiIyNDBmNmMxNC0wOWFhLTRhODItOTM1Mi1jZTBlNWExNDU5YzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjQwZjZjMTQtMDlhYS00YTgyLTkzNTItY2UwZTVhMTQ1OWMwIn0.c_L5DittPaAVhHIl5ENW-AV5i4gmEZMod20CiDSeej8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:26:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:31Z INFO  drogue_cloud_tests::resources::apps] Create application: a715a468-0c91-44fd-970b-5bcc765b7da8
[2023-01-31T16:26:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot;
[2023-01-31T16:26:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a715a468-0c91-44fd-970b-5bcc765b7da8\&quot;,\n    \&quot;uid\&quot;: \&quot;451e4fec-09fd-4c61-9c20-12b8ca02d4b4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:32.018708Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3854ffda-16f5-4716-8fc5-508e09dd34c7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.059412841Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.065626977Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.065663053Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.030544846Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.030545457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.030558151Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.030588999Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.030617983Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot;), &quot;uid&quot;: String(&quot;451e4fec-09fd-4c61-9c20-12b8ca02d4b4&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:32.018708Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3854ffda-16f5-4716-8fc5-508e09dd34c7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.059412841Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.065626977Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.065663053Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.030544846Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.030545457Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.030558151Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.030588999Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.030617983Z&quot;)}]}}
[2023-01-31T16:26:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a715a468-0c91-44fd-970b-5bcc765b7da8\&quot;,\n    \&quot;uid\&quot;: \&quot;451e4fec-09fd-4c61-9c20-12b8ca02d4b4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:32.018708Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8e8bbf50-1ad6-4548-af8d-534d487e4ff3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;xcQ5q20aVXAQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-a715a468-0c91-44fd-970b-5bcc765b7da8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.059412841Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.065626977Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.154849428Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.160657624Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297675547Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297715743Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297803868Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297862638Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot;), &quot;uid&quot;: String(&quot;451e4fec-09fd-4c61-9c20-12b8ca02d4b4&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:32.018708Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8e8bbf50-1ad6-4548-af8d-534d487e4ff3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;xcQ5q20aVXAQ&quot;), &quot;username&quot;: String(&quot;user-a715a468-0c91-44fd-970b-5bcc765b7da8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.059412841Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.065626977Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.154849428Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.160657624Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297675547Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297715743Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297803868Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297862638Z&quot;)}]}}
[2023-01-31T16:26:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a715a468-0c91-44fd-970b-5bcc765b7da8\&quot;,\n    \&quot;uid\&quot;: \&quot;451e4fec-09fd-4c61-9c20-12b8ca02d4b4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:32.018708Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8e8bbf50-1ad6-4548-af8d-534d487e4ff3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;xcQ5q20aVXAQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-a715a468-0c91-44fd-970b-5bcc765b7da8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.059412841Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.065626977Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.154849428Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.160657624Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297675547Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297715743Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297803868Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:32.297862638Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot;), &quot;uid&quot;: String(&quot;451e4fec-09fd-4c61-9c20-12b8ca02d4b4&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:32.018708Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8e8bbf50-1ad6-4548-af8d-534d487e4ff3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;xcQ5q20aVXAQ&quot;), &quot;username&quot;: String(&quot;user-a715a468-0c91-44fd-970b-5bcc765b7da8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.059412841Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.065626977Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.154849428Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.160657624Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297675547Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297715743Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297803868Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:32.297862638Z&quot;)}]}}
[2023-01-31T16:26:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:26:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI2OTEsImlhdCI6MTY3NTE4MjM5MSwiYXV0aF90aW1lIjoxNjc1MTgyMzg4LCJqdGkiOiIyYmM1NDdhNy04YmEzLTQ1NmEtYmQ0Yy1kN2E0NGUyZjBiZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFKOXVHQm43VEY3U3lBMlJNTVFUNGciLCJzZXNzaW9uX3N0YXRlIjoiMjQwZjZjMTQtMDlhYS00YTgyLTkzNTItY2UwZTVhMTQ1OWMwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI0MGY2YzE0LTA5YWEtNGE4Mi05MzUyLWNlMGU1YTE0NTljMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FWgTeCuv1ZJ_k0Xn7eCOOP3h5XV00j9Yc6tYARnmSlCh_zMOzKAXzAXcLTxGWoBYpnxKrhR7jI5TjM4H8NjwtqLZdlZFTxAaF6CrNLpaVZaTkZVrpFIgx-wszMFMibt7LKXFGcryKW5pTveYJIRhiLXHWLvJtzrEY6gvIXp-GzSgmBMtJ5zde4N5YGq9HI8QzQH6DdRkFY1nBSg-RMjtgHf8hQY5kvlwiJ22YTDORpaqSW2p5Ii3VgDyXuTmLRo4cGoWfJpzjeEyQ2PUBV-P6g6MdvL1xgOkRrRdUahhMba5i3ZUyu0VFuQXXt98t8yoraMiuhgG6IAjdq6jf1f71w\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot; &quot;device1&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot; &quot;gateway1&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a715a468-0c91-44fd-970b-5bcc765b7da8&#x27;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a715a468-0c91-44fd-970b-5bcc765b7da8&quot;
[2023-01-31T16:26:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:26:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:26:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:26:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:26:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxOTksImlhdCI6MTY3NTE4MjM5OSwianRpIjoiZDMzNDM1YzAtZDhiMy00NDNlLWI4MzQtNGY3M2E0MjI4NzQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieV82bm1jVHVFNnlidUF6YVo2dE5YUSIsInNlc3Npb25fc3RhdGUiOiIwNGIwNTc1Mi1iYTRjLTQwZmYtYTdmMS0yYTUxYzdmN2U0ZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDRiMDU3NTItYmE0Yy00MGZmLWE3ZjEtMmE1MWM3ZjdlNGZjIn0.b7D_lIxPQOHT6jJuE2S0HmxfLfPslDnFWWJBzhINCo4
[2023-01-31T16:26:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:26:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQxOTksImlhdCI6MTY3NTE4MjM5OSwianRpIjoiZDMzNDM1YzAtZDhiMy00NDNlLWI4MzQtNGY3M2E0MjI4NzQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieV82bm1jVHVFNnlidUF6YVo2dE5YUSIsInNlc3Npb25fc3RhdGUiOiIwNGIwNTc1Mi1iYTRjLTQwZmYtYTdmMS0yYTUxYzdmN2U0ZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDRiMDU3NTItYmE0Yy00MGZmLWE3ZjEtMmE1MWM3ZjdlNGZjIn0.b7D_lIxPQOHT6jJuE2S0HmxfLfPslDnFWWJBzhINCo4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:26:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:40Z INFO  drogue_cloud_tests::resources::apps] Create application: 28f34bfd-e506-4cef-b01a-72272951b534
[2023-01-31T16:26:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot;
[2023-01-31T16:26:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28f34bfd-e506-4cef-b01a-72272951b534\&quot;,\n    \&quot;uid\&quot;: \&quot;7e906701-0f43-4ba6-b84c-35ec2e5d4658\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:40.881472Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;157e4c57-6ca9-421a-800a-a7be7bce3e0f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.923953393Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.929599525Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.929645652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.894194792Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.894195463Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.894209850Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.894276213Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.894309296Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28f34bfd-e506-4cef-b01a-72272951b534&quot;), &quot;uid&quot;: String(&quot;7e906701-0f43-4ba6-b84c-35ec2e5d4658&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:40.881472Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;157e4c57-6ca9-421a-800a-a7be7bce3e0f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.923953393Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.929599525Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.929645652Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.894194792Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.894195463Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.894209850Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.894276213Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.894309296Z&quot;)}]}}
[2023-01-31T16:26:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:26:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28f34bfd-e506-4cef-b01a-72272951b534\&quot;,\n    \&quot;uid\&quot;: \&quot;7e906701-0f43-4ba6-b84c-35ec2e5d4658\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:40.881472Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8bc7ed5e-5810-4821-bae5-ba567158a7e1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VyXik9fFaUnh\&quot;,\n        \&quot;username\&quot;: \&quot;user-28f34bfd-e506-4cef-b01a-72272951b534\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.923953393Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.929599525Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.004241521Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.013323120Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175692844Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175714104Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175744330Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175798612Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28f34bfd-e506-4cef-b01a-72272951b534&quot;), &quot;uid&quot;: String(&quot;7e906701-0f43-4ba6-b84c-35ec2e5d4658&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:40.881472Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8bc7ed5e-5810-4821-bae5-ba567158a7e1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VyXik9fFaUnh&quot;), &quot;username&quot;: String(&quot;user-28f34bfd-e506-4cef-b01a-72272951b534&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.923953393Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.929599525Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.004241521Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.013323120Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175692844Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175714104Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175744330Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175798612Z&quot;)}]}}
[2023-01-31T16:26:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28f34bfd-e506-4cef-b01a-72272951b534\&quot;,\n    \&quot;uid\&quot;: \&quot;7e906701-0f43-4ba6-b84c-35ec2e5d4658\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:40.881472Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8bc7ed5e-5810-4821-bae5-ba567158a7e1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VyXik9fFaUnh\&quot;,\n        \&quot;username\&quot;: \&quot;user-28f34bfd-e506-4cef-b01a-72272951b534\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.923953393Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:40.929599525Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.004241521Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.013323120Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175692844Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175714104Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175744330Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:41.175798612Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28f34bfd-e506-4cef-b01a-72272951b534&quot;), &quot;uid&quot;: String(&quot;7e906701-0f43-4ba6-b84c-35ec2e5d4658&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:40.881472Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8bc7ed5e-5810-4821-bae5-ba567158a7e1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VyXik9fFaUnh&quot;), &quot;username&quot;: String(&quot;user-28f34bfd-e506-4cef-b01a-72272951b534&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.923953393Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:40.929599525Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.004241521Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.013323120Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175692844Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175714104Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175744330Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:41.175798612Z&quot;)}]}}
[2023-01-31T16:26:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:26:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3MDAsImlhdCI6MTY3NTE4MjQwMCwiYXV0aF90aW1lIjoxNjc1MTgyMzk3LCJqdGkiOiI1OGU5NWFjMS03MjQ0LTQxODQtYjc5Yi0wYTc2ZjgzY2ZiNGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlfNm5tY1R1RTZ5YnVBemFaNnROWFEiLCJzZXNzaW9uX3N0YXRlIjoiMDRiMDU3NTItYmE0Yy00MGZmLWE3ZjEtMmE1MWM3ZjdlNGZjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA0YjA1NzUyLWJhNGMtNDBmZi1hN2YxLTJhNTFjN2Y3ZTRmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FbwBRSNYs2PtNdnzAEumIVrfshX2rqdaH-DwF4KvUihewSPh-y7N7nEs0dE6bononucw9c-NgA3UnXZuZDXMGx47IL3WhLdAdeymj1vlrKrWrwAo3hYn7rRxhdYl9St22trlIdrkqte1EC9jyCy9COZo5lpFcW3jJtz_-8d6cICOV-DgkLzJ3uL-CI2NZbzxomqXH64qpYjEe-tmUJdxHpiVsRvIt9fahlN3Cv_E25m_vqC5T6lHOE-smRN4cPh80vnAZ2cYOs3x6rYcchSXJMh6oI4pKwJqzuaHqwTvuR2yRJ8r2C2EHEaArxyACzfSXM7MSDaJnrIj0t916QCSNA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot; &quot;device1&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot; &quot;gateway1&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;28f34bfd-e506-4cef-b01a-72272951b534&#x27;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;28f34bfd-e506-4cef-b01a-72272951b534&quot;
[2023-01-31T16:26:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:26:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:26:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:26:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:26:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMDgsImlhdCI6MTY3NTE4MjQwOCwianRpIjoiYjE5ZDllZTItY2RhZi00MmJjLTg0OGQtNjZkNmM2NDE4NmM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNzdKbDUyV3kyRGhpQ2lJbTdoaVFVdyIsInNlc3Npb25fc3RhdGUiOiI4MTc0Yzc5Ny1kNjU1LTQ1N2ItOWQ5ZC1lYWY2MjZmMmU0MWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODE3NGM3OTctZDY1NS00NTdiLTlkOWQtZWFmNjI2ZjJlNDFiIn0.nbWnfx1IO0XqlF_Qt-bM294reM5ypNmD-lVrheDvz_E
[2023-01-31T16:26:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:26:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMDgsImlhdCI6MTY3NTE4MjQwOCwianRpIjoiYjE5ZDllZTItY2RhZi00MmJjLTg0OGQtNjZkNmM2NDE4NmM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNzdKbDUyV3kyRGhpQ2lJbTdoaVFVdyIsInNlc3Npb25fc3RhdGUiOiI4MTc0Yzc5Ny1kNjU1LTQ1N2ItOWQ5ZC1lYWY2MjZmMmU0MWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODE3NGM3OTctZDY1NS00NTdiLTlkOWQtZWFmNjI2ZjJlNDFiIn0.nbWnfx1IO0XqlF_Qt-bM294reM5ypNmD-lVrheDvz_E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:26:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:49Z INFO  drogue_cloud_tests::resources::apps] Create application: c97dde4f-5339-4528-930c-6d113e6684cf
[2023-01-31T16:26:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot;
[2023-01-31T16:26:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c97dde4f-5339-4528-930c-6d113e6684cf\&quot;,\n    \&quot;uid\&quot;: \&quot;657e521a-4853-40c7-825a-958d73016336\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:49.564258Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ed5c6303-8630-4e0a-8bf7-4ee1898742b2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.608386135Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.616339854Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.616381723Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.577472343Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.577473154Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.577547173Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.577580105Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.577648693Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot;), &quot;uid&quot;: String(&quot;657e521a-4853-40c7-825a-958d73016336&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:49.564258Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ed5c6303-8630-4e0a-8bf7-4ee1898742b2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.608386135Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.616339854Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.616381723Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.577472343Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.577473154Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.577547173Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.577580105Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.577648693Z&quot;)}]}}
[2023-01-31T16:26:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c97dde4f-5339-4528-930c-6d113e6684cf\&quot;,\n    \&quot;uid\&quot;: \&quot;657e521a-4853-40c7-825a-958d73016336\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:49.564258Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;33016016-2904-4e46-a2c0-fb872f197e5d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HAVXg40CFzP6\&quot;,\n        \&quot;username\&quot;: \&quot;user-c97dde4f-5339-4528-930c-6d113e6684cf\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.608386135Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.616339854Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.681054440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.688179059Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834114909Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834238110Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834267224Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834624452Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot;), &quot;uid&quot;: String(&quot;657e521a-4853-40c7-825a-958d73016336&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:49.564258Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;33016016-2904-4e46-a2c0-fb872f197e5d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HAVXg40CFzP6&quot;), &quot;username&quot;: String(&quot;user-c97dde4f-5339-4528-930c-6d113e6684cf&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.608386135Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.616339854Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.681054440Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.688179059Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834114909Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834238110Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834267224Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834624452Z&quot;)}]}}
[2023-01-31T16:26:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c97dde4f-5339-4528-930c-6d113e6684cf\&quot;,\n    \&quot;uid\&quot;: \&quot;657e521a-4853-40c7-825a-958d73016336\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:49.564258Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;33016016-2904-4e46-a2c0-fb872f197e5d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HAVXg40CFzP6\&quot;,\n        \&quot;username\&quot;: \&quot;user-c97dde4f-5339-4528-930c-6d113e6684cf\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.608386135Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.616339854Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.681054440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.688179059Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834114909Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834238110Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834267224Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:49.834624452Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot;), &quot;uid&quot;: String(&quot;657e521a-4853-40c7-825a-958d73016336&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:49.564258Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;33016016-2904-4e46-a2c0-fb872f197e5d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HAVXg40CFzP6&quot;), &quot;username&quot;: String(&quot;user-c97dde4f-5339-4528-930c-6d113e6684cf&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.608386135Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.616339854Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.681054440Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.688179059Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834114909Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834238110Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834267224Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:49.834624452Z&quot;)}]}}
[2023-01-31T16:26:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:26:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3MDgsImlhdCI6MTY3NTE4MjQwOCwiYXV0aF90aW1lIjoxNjc1MTgyNDA1LCJqdGkiOiIzOGQ4NjhhMC0wYzc4LTQ5YWUtODIzMS00MjRhMTUyNzk0N2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijc3Smw1Mld5MkRoaUNpSW03aGlRVXciLCJzZXNzaW9uX3N0YXRlIjoiODE3NGM3OTctZDY1NS00NTdiLTlkOWQtZWFmNjI2ZjJlNDFiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgxNzRjNzk3LWQ2NTUtNDU3Yi05ZDlkLWVhZjYyNmYyZTQxYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.kPotb26yUifpa5JNFyORh2GAmmLM3A2z06DuLpWt5N3MQmLltRNW2QjwIG5FkZBjke7gnAOFqSHuiu_NM6gp4BJSEY-8C9TCAVeDGMDWO_2ANLqKVh7BaVFPgHKXzg9wauOqhhQnuIpuuZP0SpGlHWtZvi44uzmLjaKs-l5CPUT78AL1Pwl5eyNDAXg-XDtuHJSQ49sVVDECfpOCm0E1YUmeV6zJMvK_oNOO7YM1ekW9N8BiBUYblbCHaNLiCQrH89RrHzPK8XZNrkOMGb5GKKBqh5YOxwxDWL-Fz9FMqVr1wyG9L1IJRgfKQZLGCxQzNo7j8VkuhhR6zu_WE3l-Dw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot; &quot;device1&quot;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:26:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot; &quot;gateway1&quot;
[2023-01-31T16:26:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:51Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c97dde4f-5339-4528-930c-6d113e6684cf&#x27;
[2023-01-31T16:26:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c97dde4f-5339-4528-930c-6d113e6684cf&quot;
[2023-01-31T16:26:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:26:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:26:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:26:55Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:26:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:26:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMTcsImlhdCI6MTY3NTE4MjQxNywianRpIjoiMzdhYzc1YzktNzQ1NS00N2U2LWFmMDgtNzA3NjhmODhmMDI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX1czWDNqYXJEdURvUWJ3NDJYUkRPdyIsInNlc3Npb25fc3RhdGUiOiIwZjI5NzBhOS0wMGFiLTQ2NGMtYWQwMS1kMWUyMDMyMDQ0YTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGYyOTcwYTktMDBhYi00NjRjLWFkMDEtZDFlMjAzMjA0NGEyIn0.RI0tPmgrf0eSY2MfBJD78tO2ENUXfM0TR8Lu_cizScM
[2023-01-31T16:26:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:26:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMTcsImlhdCI6MTY3NTE4MjQxNywianRpIjoiMzdhYzc1YzktNzQ1NS00N2U2LWFmMDgtNzA3NjhmODhmMDI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX1czWDNqYXJEdURvUWJ3NDJYUkRPdyIsInNlc3Npb25fc3RhdGUiOiIwZjI5NzBhOS0wMGFiLTQ2NGMtYWQwMS1kMWUyMDMyMDQ0YTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGYyOTcwYTktMDBhYi00NjRjLWFkMDEtZDFlMjAzMjA0NGEyIn0.RI0tPmgrf0eSY2MfBJD78tO2ENUXfM0TR8Lu_cizScM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:26:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:58Z INFO  drogue_cloud_tests::resources::apps] Create application: 68ac7950-9b6e-442b-bb18-6b1f01853df8
[2023-01-31T16:26:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot;
[2023-01-31T16:26:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;68ac7950-9b6e-442b-bb18-6b1f01853df8\&quot;,\n    \&quot;uid\&quot;: \&quot;ac2c86fb-a440-4aa4-9b6c-eeb2afcc44ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:58.151939Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b1bb3ed8-e8a5-4c95-931c-769fb5751ff4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.195372001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.201901876Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.201936401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.166106852Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.166108015Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.166119316Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.166156756Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.166193174Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot;), &quot;uid&quot;: String(&quot;ac2c86fb-a440-4aa4-9b6c-eeb2afcc44ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:58.151939Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b1bb3ed8-e8a5-4c95-931c-769fb5751ff4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.195372001Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.201901876Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.201936401Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.166106852Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.166108015Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.166119316Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.166156756Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.166193174Z&quot;)}]}}
[2023-01-31T16:26:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;68ac7950-9b6e-442b-bb18-6b1f01853df8\&quot;,\n    \&quot;uid\&quot;: \&quot;ac2c86fb-a440-4aa4-9b6c-eeb2afcc44ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:58.151939Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;892d25f5-606c-4f39-80b1-f7fbce4b68d4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JTBy77vmMr5A\&quot;,\n        \&quot;username\&quot;: \&quot;user-68ac7950-9b6e-442b-bb18-6b1f01853df8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.195372001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.201901876Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.284607550Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.294411842Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.449027753Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.449044484Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.450091042Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.450171762Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot;), &quot;uid&quot;: String(&quot;ac2c86fb-a440-4aa4-9b6c-eeb2afcc44ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:58.151939Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;892d25f5-606c-4f39-80b1-f7fbce4b68d4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JTBy77vmMr5A&quot;), &quot;username&quot;: String(&quot;user-68ac7950-9b6e-442b-bb18-6b1f01853df8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.195372001Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.201901876Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.284607550Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.294411842Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.449027753Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.449044484Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.450091042Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.450171762Z&quot;)}]}}
[2023-01-31T16:26:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;68ac7950-9b6e-442b-bb18-6b1f01853df8\&quot;,\n    \&quot;uid\&quot;: \&quot;ac2c86fb-a440-4aa4-9b6c-eeb2afcc44ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:26:58.151939Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;892d25f5-606c-4f39-80b1-f7fbce4b68d4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JTBy77vmMr5A\&quot;,\n        \&quot;username\&quot;: \&quot;user-68ac7950-9b6e-442b-bb18-6b1f01853df8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.195372001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.201901876Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.284607550Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.294411842Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.449027753Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.449044484Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.450091042Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:26:58.450171762Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot;), &quot;uid&quot;: String(&quot;ac2c86fb-a440-4aa4-9b6c-eeb2afcc44ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:26:58.151939Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;892d25f5-606c-4f39-80b1-f7fbce4b68d4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JTBy77vmMr5A&quot;), &quot;username&quot;: String(&quot;user-68ac7950-9b6e-442b-bb18-6b1f01853df8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.195372001Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.201901876Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.284607550Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.294411842Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.449027753Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.449044484Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.450091042Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:26:58.450171762Z&quot;)}]}}
[2023-01-31T16:26:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:26:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3MTcsImlhdCI6MTY3NTE4MjQxNywiYXV0aF90aW1lIjoxNjc1MTgyNDE0LCJqdGkiOiJlODFiY2I0NS1hZmQxLTQ5Y2YtOTZjOS05MGMyODNhNWU2NWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il9XM1gzamFyRHVEb1FidzQyWFJET3ciLCJzZXNzaW9uX3N0YXRlIjoiMGYyOTcwYTktMDBhYi00NjRjLWFkMDEtZDFlMjAzMjA0NGEyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmMjk3MGE5LTAwYWItNDY0Yy1hZDAxLWQxZTIwMzIwNDRhMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.CCelBdumNMsbJl-ETVhV3l3HeYk7gYjFmXBbGxOn3PtiGtI-v915BqUOXriBd2JyrUZ195h9CReeSF1EothyzMPidQfJaD2XsovwZXs-TuGJ9pVi0xNsIliZgQ3435-75Sxpwu7RydhkgzVfYT6KLe2oRUph1GE3US6pyU7Rx7omSaUEM2Ii-TtiBLuOcnnJVRa8vpezpildbgA0nDjy7xUsiuiXLxZMwshYS0hhLQa06gZz_Wm3h1-AFAXxloi9th9b3_VvywZ6QuYWg4mdrzU5aYiBcUug5OynwG3YQObm7pN8FXEGktMLaB9jDE3vHZxz7sRYjhnReQVHyxmcGg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot; &quot;device1&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot; &quot;gateway1&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;68ac7950-9b6e-442b-bb18-6b1f01853df8&#x27;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;68ac7950-9b6e-442b-bb18-6b1f01853df8&quot;
[2023-01-31T16:26:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:27:01Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:27:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:02Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:27:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:27:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMjUsImlhdCI6MTY3NTE4MjQyNSwianRpIjoiZDg5NzIzMWMtYjExYy00YzUzLWI4MmEtNWViYjA1YTYwNDcxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX016UklkNWJJaEFzLWlVQ25zUS1pZyIsInNlc3Npb25fc3RhdGUiOiI1OGU1MDJiMi1jYzI4LTQzOTQtOWYyOS1mMzgxMWY2OTZkNzMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNThlNTAyYjItY2MyOC00Mzk0LTlmMjktZjM4MTFmNjk2ZDczIn0.eGRqlyaP8yHroK6d8h9CJV5PkKgjiRnpCxnaJdnKQbQ
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMjUsImlhdCI6MTY3NTE4MjQyNSwianRpIjoiZDg5NzIzMWMtYjExYy00YzUzLWI4MmEtNWViYjA1YTYwNDcxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX016UklkNWJJaEFzLWlVQ25zUS1pZyIsInNlc3Npb25fc3RhdGUiOiI1OGU1MDJiMi1jYzI4LTQzOTQtOWYyOS1mMzgxMWY2OTZkNzMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNThlNTAyYjItY2MyOC00Mzk0LTlmMjktZjM4MTFmNjk2ZDczIn0.eGRqlyaP8yHroK6d8h9CJV5PkKgjiRnpCxnaJdnKQbQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::resources::apps] Create application: 870ed980-fc47-4bba-ae4b-97236d8b6d64
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot;
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;870ed980-fc47-4bba-ae4b-97236d8b6d64\&quot;,\n    \&quot;uid\&quot;: \&quot;1f33e906-b93c-4fb3-8647-0a4c8236b54b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:06.801835Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ced02ae3-5734-4b29-aba0-c8f574582549\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853093037Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853094390Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853094821Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853095703Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853097506Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853104239Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853186914Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.853158079Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot;), &quot;uid&quot;: String(&quot;1f33e906-b93c-4fb3-8647-0a4c8236b54b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:06.801835Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ced02ae3-5734-4b29-aba0-c8f574582549&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853093037Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853094390Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853094821Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853095703Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853097506Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853104239Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853186914Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.853158079Z&quot;)}]}}
[2023-01-31T16:27:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:27:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;870ed980-fc47-4bba-ae4b-97236d8b6d64\&quot;,\n    \&quot;uid\&quot;: \&quot;1f33e906-b93c-4fb3-8647-0a4c8236b54b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:06.801835Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;879e4588-1e86-433c-adf3-874e0fe2ede6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;KfMazk2b4oDZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-870ed980-fc47-4bba-ae4b-97236d8b6d64\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.883953421Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.894048215Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.974900873Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.986478022Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175612260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175721634Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175880352Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175757341Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot;), &quot;uid&quot;: String(&quot;1f33e906-b93c-4fb3-8647-0a4c8236b54b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:06.801835Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;879e4588-1e86-433c-adf3-874e0fe2ede6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;KfMazk2b4oDZ&quot;), &quot;username&quot;: String(&quot;user-870ed980-fc47-4bba-ae4b-97236d8b6d64&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.883953421Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.894048215Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.974900873Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.986478022Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175612260Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175721634Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175880352Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175757341Z&quot;)}]}}
[2023-01-31T16:27:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:27:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;870ed980-fc47-4bba-ae4b-97236d8b6d64\&quot;,\n    \&quot;uid\&quot;: \&quot;1f33e906-b93c-4fb3-8647-0a4c8236b54b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:06.801835Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;879e4588-1e86-433c-adf3-874e0fe2ede6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;KfMazk2b4oDZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-870ed980-fc47-4bba-ae4b-97236d8b6d64\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.883953421Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.894048215Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.974900873Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:06.986478022Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175612260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175721634Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175880352Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:07.175757341Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot;), &quot;uid&quot;: String(&quot;1f33e906-b93c-4fb3-8647-0a4c8236b54b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:06.801835Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;879e4588-1e86-433c-adf3-874e0fe2ede6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;KfMazk2b4oDZ&quot;), &quot;username&quot;: String(&quot;user-870ed980-fc47-4bba-ae4b-97236d8b6d64&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.883953421Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.894048215Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.974900873Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:06.986478022Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175612260Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175721634Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175880352Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:07.175757341Z&quot;)}]}}
[2023-01-31T16:27:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:27:07Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:27:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:27:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3MjYsImlhdCI6MTY3NTE4MjQyNiwiYXV0aF90aW1lIjoxNjc1MTgyNDIzLCJqdGkiOiJlNjllNTFiOS0wMDViLTRhNzItODI0ZS1mNTRlZmFlM2MyZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il9NelJJZDViSWhBcy1pVUNuc1EtaWciLCJzZXNzaW9uX3N0YXRlIjoiNThlNTAyYjItY2MyOC00Mzk0LTlmMjktZjM4MTFmNjk2ZDczIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU4ZTUwMmIyLWNjMjgtNDM5NC05ZjI5LWYzODExZjY5NmQ3MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.t7LAHGIz-ilFG7XWYA-V0jM85mRi5NnSuDQZItZ2LuM0LMuzgf4i7zSMzTEUdMGnQrqmk5-azw6aFKJ5fQptjBr6XH8hLiAUeddhqTGgzNsOkXJ05egmCyd9cUJqxDU60PTt0ba17lhV-DZHSAn38VA3EHNyZXg4U4G8I7qRgIWT4KX638ckSkIGmjSKMBdSrAMHcDBI2PUKp1WuR-nHdInc_QXL_MggOO_yWLRr1hLV3ubDucC-CouVj5SgBq8RI83bsX_GpkdUqXaSbCwoEtBMvCIF3ksGLbWAGcPs0Pb46RkVMFRaRC4kvrfQft-T4ruPIOQVwY0AxfjVE6OcCQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot; &quot;device1&quot;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot; &quot;gateway1&quot;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;870ed980-fc47-4bba-ae4b-97236d8b6d64&#x27;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;870ed980-fc47-4bba-ae4b-97236d8b6d64&quot;
[2023-01-31T16:27:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:27:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:27:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:27:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:27:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:14Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMzQsImlhdCI6MTY3NTE4MjQzNCwianRpIjoiM2NiY2NiNzgtYTczYy00OWE1LWIwZDEtZjUwNDBkOGQ3YWFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieHpZaXZ5WFRTbEVsM3hvY096aFhnZyIsInNlc3Npb25fc3RhdGUiOiIyMWNkYmQ2YS0wYmIwLTQ5MjYtYjNiNS0wYTkwZmYzMTcxZmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjFjZGJkNmEtMGJiMC00OTI2LWIzYjUtMGE5MGZmMzE3MWZiIn0.d1XdjP9woQWCwBXUrM1PDbkzh2Zv6axYCcUCkvkYJpY
[2023-01-31T16:27:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:27:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyMzQsImlhdCI6MTY3NTE4MjQzNCwianRpIjoiM2NiY2NiNzgtYTczYy00OWE1LWIwZDEtZjUwNDBkOGQ3YWFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieHpZaXZ5WFRTbEVsM3hvY096aFhnZyIsInNlc3Npb25fc3RhdGUiOiIyMWNkYmQ2YS0wYmIwLTQ5MjYtYjNiNS0wYTkwZmYzMTcxZmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjFjZGJkNmEtMGJiMC00OTI2LWIzYjUtMGE5MGZmMzE3MWZiIn0.d1XdjP9woQWCwBXUrM1PDbkzh2Zv6axYCcUCkvkYJpY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:27:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:15Z INFO  drogue_cloud_tests::resources::apps] Create application: 4fa3bc94-5a41-4ddf-8245-14595d81b3e2
[2023-01-31T16:27:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot;
[2023-01-31T16:27:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;f50bc6ef-39db-4aaa-8808-45665e38ee9b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:15.483013Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b5126e8b-eed5-43ad-9662-9dd3170806bc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.530310978Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.536552315Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.536594023Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.504766330Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.504767071Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.504778332Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.504871777Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.504822907Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot;), &quot;uid&quot;: String(&quot;f50bc6ef-39db-4aaa-8808-45665e38ee9b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:15.483013Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b5126e8b-eed5-43ad-9662-9dd3170806bc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.530310978Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.536552315Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.536594023Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.504766330Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.504767071Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.504778332Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.504871777Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.504822907Z&quot;)}]}}
[2023-01-31T16:27:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;f50bc6ef-39db-4aaa-8808-45665e38ee9b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:15.483013Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f6c035ac-8330-46e2-9a84-3f2a7a3c3fcd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sqR1TUhgwcoW\&quot;,\n        \&quot;username\&quot;: \&quot;user-4fa3bc94-5a41-4ddf-8245-14595d81b3e2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.530310978Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.536552315Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.596037409Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.604121273Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774544509Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774610001Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774696954Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774644075Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot;), &quot;uid&quot;: String(&quot;f50bc6ef-39db-4aaa-8808-45665e38ee9b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:15.483013Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f6c035ac-8330-46e2-9a84-3f2a7a3c3fcd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sqR1TUhgwcoW&quot;), &quot;username&quot;: String(&quot;user-4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.530310978Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.536552315Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.596037409Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.604121273Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774544509Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774610001Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774696954Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774644075Z&quot;)}]}}
[2023-01-31T16:27:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;f50bc6ef-39db-4aaa-8808-45665e38ee9b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:15.483013Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f6c035ac-8330-46e2-9a84-3f2a7a3c3fcd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sqR1TUhgwcoW\&quot;,\n        \&quot;username\&quot;: \&quot;user-4fa3bc94-5a41-4ddf-8245-14595d81b3e2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.530310978Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.536552315Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.596037409Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.604121273Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774544509Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774610001Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774696954Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:15.774644075Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot;), &quot;uid&quot;: String(&quot;f50bc6ef-39db-4aaa-8808-45665e38ee9b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:15.483013Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f6c035ac-8330-46e2-9a84-3f2a7a3c3fcd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sqR1TUhgwcoW&quot;), &quot;username&quot;: String(&quot;user-4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.530310978Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.536552315Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.596037409Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.604121273Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774544509Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774610001Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774696954Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:15.774644075Z&quot;)}]}}
[2023-01-31T16:27:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:27:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3MzQsImlhdCI6MTY3NTE4MjQzNCwiYXV0aF90aW1lIjoxNjc1MTgyNDMxLCJqdGkiOiIzMjZiNzQ5OC0yODVjLTQwNjUtOGM1Mi0xOWZmYTRiYjFhMzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Inh6WWl2eVhUU2xFbDN4b2NPemhYZ2ciLCJzZXNzaW9uX3N0YXRlIjoiMjFjZGJkNmEtMGJiMC00OTI2LWIzYjUtMGE5MGZmMzE3MWZiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIxY2RiZDZhLTBiYjAtNDkyNi1iM2I1LTBhOTBmZjMxNzFmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Pw5YAdzWCME3vMQfYNA5zPBIe8J6ZWTHjw8p4cD562zB_YSfWdhbXUnhXId5oYLPepqMlaoDAF4tqlhGAlYSQbsDN1KS9YgK9EEpF2Ch1IpVgDHXgge-tGS437UJtvbknBDkwR8N1O9tfgBW5O4RwobEU6_yDG1sqiVBj8EZEzC3g4Elbzi42JyQcIYZw3xImcAKl_xtWbeEPGDnFDgpB_ukLmOnb8rb8oWjAfphbI_yr6MgIdXqeNXYcvaezsopS8GaKZRmhunLPv-9frBpVa9qLrpurCSoFLCGt8T_eYqASURMiXA7STWagcVoTEOcgKcAQWJXjW3uoUGZyLHurA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot; &quot;device1&quot;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot; &quot;gateway1&quot;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&#x27;
[2023-01-31T16:27:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4fa3bc94-5a41-4ddf-8245-14595d81b3e2&quot;
[2023-01-31T16:27:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:27:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:27:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:27:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:27:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNDMsImlhdCI6MTY3NTE4MjQ0MywianRpIjoiMzNhYzM3ZmUtYmE4YS00OGI2LWJjNjUtYmU3ZjVkMDM0M2UxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZF9JWHhoUzM3SDBCZmtjd3lkaGhlZyIsInNlc3Npb25fc3RhdGUiOiI4MThiYjdjYy0xOTgzLTRhZDgtODUxNi04MjA1NTEyMmZmYTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODE4YmI3Y2MtMTk4My00YWQ4LTg1MTYtODIwNTUxMjJmZmE3In0._pNvvmbb7PxGydhkkjXWfR1xyR7teIBijgVUzRSBQpc
[2023-01-31T16:27:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:27:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNDMsImlhdCI6MTY3NTE4MjQ0MywianRpIjoiMzNhYzM3ZmUtYmE4YS00OGI2LWJjNjUtYmU3ZjVkMDM0M2UxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZF9JWHhoUzM3SDBCZmtjd3lkaGhlZyIsInNlc3Npb25fc3RhdGUiOiI4MThiYjdjYy0xOTgzLTRhZDgtODUxNi04MjA1NTEyMmZmYTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODE4YmI3Y2MtMTk4My00YWQ4LTg1MTYtODIwNTUxMjJmZmE3In0._pNvvmbb7PxGydhkkjXWfR1xyR7teIBijgVUzRSBQpc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:27:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 28920525-ce37-4aba-adc2-63ba0344be7a
[2023-01-31T16:27:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot;
[2023-01-31T16:27:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28920525-ce37-4aba-adc2-63ba0344be7a\&quot;,\n    \&quot;uid\&quot;: \&quot;6418e19d-4158-4eca-a00c-e64aa6c2e6cb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:24.177534Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ff8cb6ff-fa4b-4756-8f3d-605321651ab5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.223213322Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.229522464Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.229557179Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.193304628Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.193305299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.193313234Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.193340235Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.193400598Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot;), &quot;uid&quot;: String(&quot;6418e19d-4158-4eca-a00c-e64aa6c2e6cb&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:24.177534Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ff8cb6ff-fa4b-4756-8f3d-605321651ab5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.223213322Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.229522464Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.229557179Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.193304628Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.193305299Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.193313234Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.193340235Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.193400598Z&quot;)}]}}
[2023-01-31T16:27:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28920525-ce37-4aba-adc2-63ba0344be7a\&quot;,\n    \&quot;uid\&quot;: \&quot;6418e19d-4158-4eca-a00c-e64aa6c2e6cb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:24.177534Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;87d0f12b-e910-43fc-8a90-226ba0ca7c00\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;byVBi7t7GF0T\&quot;,\n        \&quot;username\&quot;: \&quot;user-28920525-ce37-4aba-adc2-63ba0344be7a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.223213322Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.229522464Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.295568183Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.306799034Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446541755Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446561332Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446592439Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446721381Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot;), &quot;uid&quot;: String(&quot;6418e19d-4158-4eca-a00c-e64aa6c2e6cb&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:24.177534Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;87d0f12b-e910-43fc-8a90-226ba0ca7c00&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;byVBi7t7GF0T&quot;), &quot;username&quot;: String(&quot;user-28920525-ce37-4aba-adc2-63ba0344be7a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.223213322Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.229522464Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.295568183Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.306799034Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446541755Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446561332Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446592439Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446721381Z&quot;)}]}}
[2023-01-31T16:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;28920525-ce37-4aba-adc2-63ba0344be7a\&quot;,\n    \&quot;uid\&quot;: \&quot;6418e19d-4158-4eca-a00c-e64aa6c2e6cb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:24.177534Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;87d0f12b-e910-43fc-8a90-226ba0ca7c00\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;byVBi7t7GF0T\&quot;,\n        \&quot;username\&quot;: \&quot;user-28920525-ce37-4aba-adc2-63ba0344be7a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.223213322Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.229522464Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.295568183Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.306799034Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446541755Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446561332Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446592439Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:24.446721381Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot;), &quot;uid&quot;: String(&quot;6418e19d-4158-4eca-a00c-e64aa6c2e6cb&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:24.177534Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;87d0f12b-e910-43fc-8a90-226ba0ca7c00&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;byVBi7t7GF0T&quot;), &quot;username&quot;: String(&quot;user-28920525-ce37-4aba-adc2-63ba0344be7a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.223213322Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.229522464Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.295568183Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.306799034Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446541755Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446561332Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446592439Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:24.446721381Z&quot;)}]}}
[2023-01-31T16:27:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:27:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3NDMsImlhdCI6MTY3NTE4MjQ0MywiYXV0aF90aW1lIjoxNjc1MTgyNDQwLCJqdGkiOiJmM2U0YmMzOS00MjlhLTQxNTQtOTZhNS05OTViNmUwNGRiODAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRfSVh4aFMzN0gwQmZrY3d5ZGhoZWciLCJzZXNzaW9uX3N0YXRlIjoiODE4YmI3Y2MtMTk4My00YWQ4LTg1MTYtODIwNTUxMjJmZmE3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgxOGJiN2NjLTE5ODMtNGFkOC04NTE2LTgyMDU1MTIyZmZhNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.1AsWxa0I6G5fW1P7_ixY6VYjW_MoQba6URDxFdI0cm5_6l06ZAxYtYrYbWehNQerh8kTZkO9qVdIej0NLwnipPLPMH_4eanLXqBJF-j0okBjr9cSUoyNMk6rK20TP4vrreTxYbwrHVpkj8AbyasWRzn6OiCw0zcaq986l58wS8kgAFUAgLnU8Ncq6l8YqU0885FEOF1tuCpTBhIldh83QtKQVgUUN-Zn27aiOXJdU9-Wa5RoJSR0ZZZt2e3UkNP8dsbwOp3ynLrmrZK11V02sHCcqo56ozo39KmGsKXzAaf42R6qnPWvPZmU24jjgFMoZc59Vy8DVa9Lzz27zayW0g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot; &quot;device1&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot; &quot;gateway1&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;28920525-ce37-4aba-adc2-63ba0344be7a&#x27;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;28920525-ce37-4aba-adc2-63ba0344be7a&quot;
[2023-01-31T16:27:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:27:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:27:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:27:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:27:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNTIsImlhdCI6MTY3NTE4MjQ1MiwianRpIjoiNWNhM2NhYzQtYzhiYS00Y2E0LTkxOTQtNDczNjI1MTM5NTA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMzl2RFVLNXdqTnBGZ21SdzVLVGp2ZyIsInNlc3Npb25fc3RhdGUiOiIwNTAyNWExZi0yNzU1LTQ0ODktODY0My0wODA0YTIyNjY3ZDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDUwMjVhMWYtMjc1NS00NDg5LTg2NDMtMDgwNGEyMjY2N2Q0In0.VyVhBj3vDgCNWB28XEiNUTpbpahUALMCAgd4VZG7OXk
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNTIsImlhdCI6MTY3NTE4MjQ1MiwianRpIjoiNWNhM2NhYzQtYzhiYS00Y2E0LTkxOTQtNDczNjI1MTM5NTA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMzl2RFVLNXdqTnBGZ21SdzVLVGp2ZyIsInNlc3Npb25fc3RhdGUiOiIwNTAyNWExZi0yNzU1LTQ0ODktODY0My0wODA0YTIyNjY3ZDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDUwMjVhMWYtMjc1NS00NDg5LTg2NDMtMDgwNGEyMjY2N2Q0In0.VyVhBj3vDgCNWB28XEiNUTpbpahUALMCAgd4VZG7OXk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::resources::apps] Create application: 3377835b-2f81-498d-af82-ee7f45270584
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot;
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3377835b-2f81-498d-af82-ee7f45270584\&quot;,\n    \&quot;uid\&quot;: \&quot;02517b19-39ab-419b-8449-f99824cd8c3f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:33.851255Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2a364c70-e60e-4434-9d45-37c5f5b069ea\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.895358963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.900697351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.900736474Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.864062623Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.864063665Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.864183509Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.864228093Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.864276844Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3377835b-2f81-498d-af82-ee7f45270584&quot;), &quot;uid&quot;: String(&quot;02517b19-39ab-419b-8449-f99824cd8c3f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:33.851255Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2a364c70-e60e-4434-9d45-37c5f5b069ea&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.895358963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.900697351Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.900736474Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.864062623Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.864063665Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.864183509Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.864228093Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.864276844Z&quot;)}]}}
[2023-01-31T16:27:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:27:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3377835b-2f81-498d-af82-ee7f45270584\&quot;,\n    \&quot;uid\&quot;: \&quot;02517b19-39ab-419b-8449-f99824cd8c3f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:33.851255Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fb7e4b35-f1aa-4153-b958-282215d61b86\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Q6gVn9XdT73n\&quot;,\n        \&quot;username\&quot;: \&quot;user-3377835b-2f81-498d-af82-ee7f45270584\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.895358963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.900697351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.964666565Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.971057151Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090739092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090754521Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090783896Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090852505Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3377835b-2f81-498d-af82-ee7f45270584&quot;), &quot;uid&quot;: String(&quot;02517b19-39ab-419b-8449-f99824cd8c3f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:33.851255Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fb7e4b35-f1aa-4153-b958-282215d61b86&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Q6gVn9XdT73n&quot;), &quot;username&quot;: String(&quot;user-3377835b-2f81-498d-af82-ee7f45270584&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.895358963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.900697351Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.964666565Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.971057151Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090739092Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090754521Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090783896Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090852505Z&quot;)}]}}
[2023-01-31T16:27:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:27:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3377835b-2f81-498d-af82-ee7f45270584\&quot;,\n    \&quot;uid\&quot;: \&quot;02517b19-39ab-419b-8449-f99824cd8c3f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:33.851255Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fb7e4b35-f1aa-4153-b958-282215d61b86\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Q6gVn9XdT73n\&quot;,\n        \&quot;username\&quot;: \&quot;user-3377835b-2f81-498d-af82-ee7f45270584\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.895358963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.900697351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.964666565Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:33.971057151Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090739092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090754521Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090783896Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:34.090852505Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3377835b-2f81-498d-af82-ee7f45270584&quot;), &quot;uid&quot;: String(&quot;02517b19-39ab-419b-8449-f99824cd8c3f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:33.851255Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fb7e4b35-f1aa-4153-b958-282215d61b86&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Q6gVn9XdT73n&quot;), &quot;username&quot;: String(&quot;user-3377835b-2f81-498d-af82-ee7f45270584&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.895358963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.900697351Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.964666565Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:33.971057151Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090739092Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090754521Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090783896Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:34.090852505Z&quot;)}]}}
[2023-01-31T16:27:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:27:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3NTMsImlhdCI6MTY3NTE4MjQ1MywiYXV0aF90aW1lIjoxNjc1MTgyNDQ5LCJqdGkiOiIxZWJjYzAyZC1iZmU2LTRkZDAtOGY5Ni0xZWVhMWZkOGMxZjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjM5dkRVSzV3ak5wRmdtUnc1S1RqdmciLCJzZXNzaW9uX3N0YXRlIjoiMDUwMjVhMWYtMjc1NS00NDg5LTg2NDMtMDgwNGEyMjY2N2Q0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA1MDI1YTFmLTI3NTUtNDQ4OS04NjQzLTA4MDRhMjI2NjdkNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.vqzm-umbsSILIJR8--ygJyJOAxqP3NQKhe2Qy8esO0G50L5Rhq8pOpgWcNGZjLBKXKoPUtllAwiameLNKhPjHwK_MpNr3yIAqfMHSo11W6mhTcS4zBCrEITWSy9Q6HfovuNwRwMp59vp3mjAOJGeX1oLduGxXtfDLJO-2fTkMK8nqCbqRBIk45xlYUslDA97NiMKqGTbDCr3TrTEvMhylWJ6xnJMedPl2_1E9hNAGbAw2IFC5JHsD3a9YX5l3k6hVI1_YMqtuZKO6X-k_bkIM3qMz4hKqIPlNDpYh2jxKCd1b34eG9bVn2bWqRaS_YiwSY4C1wfewzPCYkquqf5qvQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot; &quot;device1&quot;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot; &quot;gateway1&quot;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3377835b-2f81-498d-af82-ee7f45270584&#x27;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3377835b-2f81-498d-af82-ee7f45270584&quot;
[2023-01-31T16:27:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:27:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:27:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:27:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:27:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNjEsImlhdCI6MTY3NTE4MjQ2MSwianRpIjoiNWQwMDg4MzYtZjMzZC00OTYyLWI1NjMtZGMxOGZkM2VlMmU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUDU0QTZmV3lkMEhSRkcxN3FuRkktZyIsInNlc3Npb25fc3RhdGUiOiJkMmFhNDhmYS1hOGFjLTQ5M2QtYjAwYi0zZTcyOWM3ZDlhNjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDJhYTQ4ZmEtYThhYy00OTNkLWIwMGItM2U3MjljN2Q5YTYzIn0.dvjgmmB84q-y02H8XRsZdQXyVrTtmYfoZIpjiqOSVxQ
[2023-01-31T16:27:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:27:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNjEsImlhdCI6MTY3NTE4MjQ2MSwianRpIjoiNWQwMDg4MzYtZjMzZC00OTYyLWI1NjMtZGMxOGZkM2VlMmU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUDU0QTZmV3lkMEhSRkcxN3FuRkktZyIsInNlc3Npb25fc3RhdGUiOiJkMmFhNDhmYS1hOGFjLTQ5M2QtYjAwYi0zZTcyOWM3ZDlhNjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDJhYTQ4ZmEtYThhYy00OTNkLWIwMGItM2U3MjljN2Q5YTYzIn0.dvjgmmB84q-y02H8XRsZdQXyVrTtmYfoZIpjiqOSVxQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:27:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 7e597fd4-7663-42c3-8f82-35e1e8db345c
[2023-01-31T16:27:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot;
[2023-01-31T16:27:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7e597fd4-7663-42c3-8f82-35e1e8db345c\&quot;,\n    \&quot;uid\&quot;: \&quot;01fa1970-078a-4fbb-abb3-d9962a038199\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:42.493213Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;15a0f83e-b390-4758-9112-48942ee11bff\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.548590042Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.566156445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.566199736Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.503901407Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.503901919Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.503912038Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.503958624Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.503985304Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot;), &quot;uid&quot;: String(&quot;01fa1970-078a-4fbb-abb3-d9962a038199&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:42.493213Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;15a0f83e-b390-4758-9112-48942ee11bff&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.548590042Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.566156445Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.566199736Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.503901407Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.503901919Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.503912038Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.503958624Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.503985304Z&quot;)}]}}
[2023-01-31T16:27:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7e597fd4-7663-42c3-8f82-35e1e8db345c\&quot;,\n    \&quot;uid\&quot;: \&quot;01fa1970-078a-4fbb-abb3-d9962a038199\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:42.493213Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5a88fa2e-e132-4b26-ae1a-70fa587c99ed\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pYLCi9CP5UIx\&quot;,\n        \&quot;username\&quot;: \&quot;user-7e597fd4-7663-42c3-8f82-35e1e8db345c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.548590042Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.566156445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.633438227Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.640937457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803124210Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803138987Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803222654Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803265405Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot;), &quot;uid&quot;: String(&quot;01fa1970-078a-4fbb-abb3-d9962a038199&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:42.493213Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5a88fa2e-e132-4b26-ae1a-70fa587c99ed&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pYLCi9CP5UIx&quot;), &quot;username&quot;: String(&quot;user-7e597fd4-7663-42c3-8f82-35e1e8db345c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.548590042Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.566156445Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.633438227Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.640937457Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803124210Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803138987Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803222654Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803265405Z&quot;)}]}}
[2023-01-31T16:27:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7e597fd4-7663-42c3-8f82-35e1e8db345c\&quot;,\n    \&quot;uid\&quot;: \&quot;01fa1970-078a-4fbb-abb3-d9962a038199\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:42.493213Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5a88fa2e-e132-4b26-ae1a-70fa587c99ed\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pYLCi9CP5UIx\&quot;,\n        \&quot;username\&quot;: \&quot;user-7e597fd4-7663-42c3-8f82-35e1e8db345c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.548590042Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.566156445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.633438227Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.640937457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803124210Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803138987Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803222654Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:42.803265405Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot;), &quot;uid&quot;: String(&quot;01fa1970-078a-4fbb-abb3-d9962a038199&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:42.493213Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5a88fa2e-e132-4b26-ae1a-70fa587c99ed&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pYLCi9CP5UIx&quot;), &quot;username&quot;: String(&quot;user-7e597fd4-7663-42c3-8f82-35e1e8db345c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.548590042Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.566156445Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.633438227Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.640937457Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803124210Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803138987Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803222654Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:42.803265405Z&quot;)}]}}
[2023-01-31T16:27:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:27:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3NjEsImlhdCI6MTY3NTE4MjQ2MSwiYXV0aF90aW1lIjoxNjc1MTgyNDU5LCJqdGkiOiJiNzdiYjU3YS1hYmMxLTQxMzAtOWEyOC0xNmI2YjhmYWFmNzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlA1NEE2Zld5ZDBIUkZHMTdxbkZJLWciLCJzZXNzaW9uX3N0YXRlIjoiZDJhYTQ4ZmEtYThhYy00OTNkLWIwMGItM2U3MjljN2Q5YTYzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyYWE0OGZhLWE4YWMtNDkzZC1iMDBiLTNlNzI5YzdkOWE2MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.SeHzL7NmJfnX6xnixUWMY6lQ-9sMV7R-vQCIML2vLeezleNHxj2VooYyyI9fFCsECZWqEXD1u66A5VfVS95WZPpH0BqLFfkwR3UXHrG2JsJBCFFictb33UhB7CZGE0KVlmXFRg6sDI6cYJdvJdKxaNT_TL8ciu33sfqhps791mmUh4Yx5anjDoeqYV1SqYUQGV02TmEk9w9up8ZOcUaNbE1yriulNG0pN_4M2ocm11H38prHWTJMtOoPJOCkvLVLYq3QmIDDsxAiVmG1pd8-HoV3MmCo7tLMUbul54bXWeDb68m-V6Jivhp8kxiYAlgY3QkgcYsKQoidJoQHT-DSpg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot; &quot;device1&quot;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot; &quot;gateway1&quot;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7e597fd4-7663-42c3-8f82-35e1e8db345c&#x27;
[2023-01-31T16:27:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7e597fd4-7663-42c3-8f82-35e1e8db345c&quot;
[2023-01-31T16:27:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:27:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:27:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:27:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:27:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNzAsImlhdCI6MTY3NTE4MjQ3MCwianRpIjoiMTJhNzkxOWMtNGY5OS00MjRkLWE3NzktNWVhNGM0MWM2OTYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ3BuTDBTOEw4Uzc3dE9oY3lXb0RNUSIsInNlc3Npb25fc3RhdGUiOiJlMjI2ZTZmNC05YTVjLTRmMGItOWZjMS1lMmJlMzg1ZTJhOWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTIyNmU2ZjQtOWE1Yy00ZjBiLTlmYzEtZTJiZTM4NWUyYTljIn0.W4G9SY8-9MyeEwmwU3mLQg-yHLI7Ldodg1JSYSc34GY
[2023-01-31T16:27:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:27:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNzAsImlhdCI6MTY3NTE4MjQ3MCwianRpIjoiMTJhNzkxOWMtNGY5OS00MjRkLWE3NzktNWVhNGM0MWM2OTYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ3BuTDBTOEw4Uzc3dE9oY3lXb0RNUSIsInNlc3Npb25fc3RhdGUiOiJlMjI2ZTZmNC05YTVjLTRmMGItOWZjMS1lMmJlMzg1ZTJhOWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTIyNmU2ZjQtOWE1Yy00ZjBiLTlmYzEtZTJiZTM4NWUyYTljIn0.W4G9SY8-9MyeEwmwU3mLQg-yHLI7Ldodg1JSYSc34GY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:27:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:51Z INFO  drogue_cloud_tests::resources::apps] Create application: 8f8aa6a5-abae-45c2-9f72-a35058aa2463
[2023-01-31T16:27:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot;
[2023-01-31T16:27:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463\&quot;,\n    \&quot;uid\&quot;: \&quot;a47ac1d0-1596-45cd-a7c5-c26dccef66f9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:51.335119Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bbd695a8-d389-4263-afd9-11aaacd4b0bd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.373310894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.380610671Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.380661206Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.348038974Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.348039836Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.348060304Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.348093707Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.348125376Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot;), &quot;uid&quot;: String(&quot;a47ac1d0-1596-45cd-a7c5-c26dccef66f9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:51.335119Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bbd695a8-d389-4263-afd9-11aaacd4b0bd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.373310894Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.380610671Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.380661206Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.348038974Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.348039836Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.348060304Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.348093707Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.348125376Z&quot;)}]}}
[2023-01-31T16:27:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463\&quot;,\n    \&quot;uid\&quot;: \&quot;a47ac1d0-1596-45cd-a7c5-c26dccef66f9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:51.335119Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;86abd7dd-3329-42b6-a740-e9c18880f837\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pdafmBO3Cin9\&quot;,\n        \&quot;username\&quot;: \&quot;user-8f8aa6a5-abae-45c2-9f72-a35058aa2463\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.373310894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.380610671Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.453861159Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.459698411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.587850402Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.587911115Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.587943055Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.588051508Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot;), &quot;uid&quot;: String(&quot;a47ac1d0-1596-45cd-a7c5-c26dccef66f9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:51.335119Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;86abd7dd-3329-42b6-a740-e9c18880f837&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pdafmBO3Cin9&quot;), &quot;username&quot;: String(&quot;user-8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.373310894Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.380610671Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.453861159Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.459698411Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.587850402Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.587911115Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.587943055Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.588051508Z&quot;)}]}}
[2023-01-31T16:27:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463\&quot;,\n    \&quot;uid\&quot;: \&quot;a47ac1d0-1596-45cd-a7c5-c26dccef66f9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:27:51.335119Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;86abd7dd-3329-42b6-a740-e9c18880f837\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pdafmBO3Cin9\&quot;,\n        \&quot;username\&quot;: \&quot;user-8f8aa6a5-abae-45c2-9f72-a35058aa2463\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.373310894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.380610671Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.453861159Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.459698411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.587850402Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.587911115Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.587943055Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:27:51.588051508Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot;), &quot;uid&quot;: String(&quot;a47ac1d0-1596-45cd-a7c5-c26dccef66f9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:27:51.335119Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;86abd7dd-3329-42b6-a740-e9c18880f837&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pdafmBO3Cin9&quot;), &quot;username&quot;: String(&quot;user-8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.373310894Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.380610671Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.453861159Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.459698411Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.587850402Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.587911115Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.587943055Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:27:51.588051508Z&quot;)}]}}
[2023-01-31T16:27:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:27:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3NzAsImlhdCI6MTY3NTE4MjQ3MCwiYXV0aF90aW1lIjoxNjc1MTgyNDY3LCJqdGkiOiIzMmVhNzRmNi0zZTA5LTRjNzgtYjBmMS02YmE5YjU3NzU2MDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImdwbkwwUzhMOFM3N3RPaGN5V29ETVEiLCJzZXNzaW9uX3N0YXRlIjoiZTIyNmU2ZjQtOWE1Yy00ZjBiLTlmYzEtZTJiZTM4NWUyYTljIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUyMjZlNmY0LTlhNWMtNGYwYi05ZmMxLWUyYmUzODVlMmE5YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.yiF4PhjDVfSGs5I_jvDo2ceuxT6oDwooezcx3X0-ONbRolhJV40pVHzteNJkeKE2C8UAp88FpRlvuq9lAlq0O1qTW0Kxn8sW95slXO-RutBwp9ujDYFcrbaekqNmMa7GFvd9aoa77a5TYl9ilKxXywKZFagvtIwSxz4Bl9keTWtojM07Z7mmb7zEoQcv7fj8Q-shOR5rBc9DSSJn89UUnLdDgRRBI-HueVsY6NjwoFb5Gxrr8Yuythweo3iXeij1jQ5x5Bbj40vdx3R_VSgHYdnddJ7aN6thjysQsP6zkCHb-BnPog-SZW3VFpX9TyozDe0Vc5B7z-M10SsmhmUHAQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot; &quot;device1&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot; &quot;gateway1&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8f8aa6a5-abae-45c2-9f72-a35058aa2463&#x27;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8f8aa6a5-abae-45c2-9f72-a35058aa2463&quot;
[2023-01-31T16:27:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:27:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:27:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:27:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:27:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:27:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:27:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:27:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNzksImlhdCI6MTY3NTE4MjQ3OSwianRpIjoiZGFhZWY2YmQtMTNkMS00N2VjLWI3ZDctMGU4MGNkZWQ0NDQ2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOHZ0RTY1SGlNVXRTSk9YN2NhVFYwQSIsInNlc3Npb25fc3RhdGUiOiI4MTViZDk3YS0xZDJhLTQxMjUtYTYzNC01ZDNmNTk2NWZmM2EiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODE1YmQ5N2EtMWQyYS00MTI1LWE2MzQtNWQzZjU5NjVmZjNhIn0.nW1dHzufOB5jldHQJaB9VS3mHeATRTaMZgLPwUpgXVc
[2023-01-31T16:27:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:27:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:27:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyNzksImlhdCI6MTY3NTE4MjQ3OSwianRpIjoiZGFhZWY2YmQtMTNkMS00N2VjLWI3ZDctMGU4MGNkZWQ0NDQ2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOHZ0RTY1SGlNVXRTSk9YN2NhVFYwQSIsInNlc3Npb25fc3RhdGUiOiI4MTViZDk3YS0xZDJhLTQxMjUtYTYzNC01ZDNmNTk2NWZmM2EiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODE1YmQ5N2EtMWQyYS00MTI1LWE2MzQtNWQzZjU5NjVmZjNhIn0.nW1dHzufOB5jldHQJaB9VS3mHeATRTaMZgLPwUpgXVc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:27:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5
[2023-01-31T16:28:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot;
[2023-01-31T16:28:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5\&quot;,\n    \&quot;uid\&quot;: \&quot;914987e7-40cf-4d19-aa00-33cb1e4d9634\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:00.183825Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e416d7b3-c9e5-4447-b66f-03ab83bebb1d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.229632122Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.237199820Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.237235897Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.205416519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.205417110Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.205421347Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.205463305Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.205442146Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot;), &quot;uid&quot;: String(&quot;914987e7-40cf-4d19-aa00-33cb1e4d9634&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:00.183825Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e416d7b3-c9e5-4447-b66f-03ab83bebb1d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.229632122Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.237199820Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.237235897Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.205416519Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.205417110Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.205421347Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.205463305Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.205442146Z&quot;)}]}}
[2023-01-31T16:28:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5\&quot;,\n    \&quot;uid\&quot;: \&quot;914987e7-40cf-4d19-aa00-33cb1e4d9634\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:00.183825Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;538bbffb-e8f2-480a-951f-dcecaa3ca625\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;mGEWOdnZShYN\&quot;,\n        \&quot;username\&quot;: \&quot;user-3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.229632122Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.237199820Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.310738469Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.319064545Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470343605Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470366639Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470510498Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470400361Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot;), &quot;uid&quot;: String(&quot;914987e7-40cf-4d19-aa00-33cb1e4d9634&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:00.183825Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;538bbffb-e8f2-480a-951f-dcecaa3ca625&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;mGEWOdnZShYN&quot;), &quot;username&quot;: String(&quot;user-3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.229632122Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.237199820Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.310738469Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.319064545Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470343605Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470366639Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470510498Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470400361Z&quot;)}]}}
[2023-01-31T16:28:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5\&quot;,\n    \&quot;uid\&quot;: \&quot;914987e7-40cf-4d19-aa00-33cb1e4d9634\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:00.183825Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;538bbffb-e8f2-480a-951f-dcecaa3ca625\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;mGEWOdnZShYN\&quot;,\n        \&quot;username\&quot;: \&quot;user-3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.229632122Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.237199820Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.310738469Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.319064545Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470343605Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470366639Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470510498Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:00.470400361Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot;), &quot;uid&quot;: String(&quot;914987e7-40cf-4d19-aa00-33cb1e4d9634&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:00.183825Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;538bbffb-e8f2-480a-951f-dcecaa3ca625&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;mGEWOdnZShYN&quot;), &quot;username&quot;: String(&quot;user-3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.229632122Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.237199820Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.310738469Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.319064545Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470343605Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470366639Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470510498Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:00.470400361Z&quot;)}]}}
[2023-01-31T16:28:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:28:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3NzksImlhdCI6MTY3NTE4MjQ3OSwiYXV0aF90aW1lIjoxNjc1MTgyNDc2LCJqdGkiOiI3N2M1ZDliYS0zOTljLTRjY2YtYmZjZC1hOGQ0M2JkZmE5OGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijh2dEU2NUhpTVV0U0pPWDdjYVRWMEEiLCJzZXNzaW9uX3N0YXRlIjoiODE1YmQ5N2EtMWQyYS00MTI1LWE2MzQtNWQzZjU5NjVmZjNhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgxNWJkOTdhLTFkMmEtNDEyNS1hNjM0LTVkM2Y1OTY1ZmYzYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Ef6tatBm_ZegynMwN3i8Hw61_Y17C7bgTwkikL9U6vahU2qsG80BXUuN-t5DsuTATOZV2XjgjOh6F5-EEylwADsyE7EPEdzsChwvvCRobggWNQwJktgrmdkb_muczncdbsleLXVDDLypI32gaNVQqorsNCOdse8wOD0gLqs0FOUWulEvapCqtPOjiwdX_XhZ4RmGfJlaeHSodTchm3_BAzH6f7mjfNQTVhHOXAnl755YDUbKb4F4IOf0pBaX-hNi-yY_RPakj1F6q0lUZEM06iWb_ckCpL6OegmFgpGsY6csfUxdvylXLE7XhRbcdrUG_Od3pBnMBow4FoDwi0l-lA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot; &quot;device1&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot; &quot;gateway1&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&#x27;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3ce7fcbd-68cb-4c86-a7ab-2adc5c5b75e5&quot;
[2023-01-31T16:28:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:28:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:28:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:28:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:28:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyODcsImlhdCI6MTY3NTE4MjQ4NywianRpIjoiNDA3NGIzOGUtOGFhNC00MDYyLThhOTktZmNlYWY5YzE2ZTJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoianBTQ054UUpaTnpudEdxdUtLSFk4ZyIsInNlc3Npb25fc3RhdGUiOiIzMDBjNTlkZi1kMmI5LTRmYzktOTZhZC1kMjQzYjEzMGVlNDkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzAwYzU5ZGYtZDJiOS00ZmM5LTk2YWQtZDI0M2IxMzBlZTQ5In0.kHicCXesifZ5WfOLwssfE36gulXlFztRqi3CI4khfRw
[2023-01-31T16:28:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:28:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyODcsImlhdCI6MTY3NTE4MjQ4NywianRpIjoiNDA3NGIzOGUtOGFhNC00MDYyLThhOTktZmNlYWY5YzE2ZTJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoianBTQ054UUpaTnpudEdxdUtLSFk4ZyIsInNlc3Npb25fc3RhdGUiOiIzMDBjNTlkZi1kMmI5LTRmYzktOTZhZC1kMjQzYjEzMGVlNDkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzAwYzU5ZGYtZDJiOS00ZmM5LTk2YWQtZDI0M2IxMzBlZTQ5In0.kHicCXesifZ5WfOLwssfE36gulXlFztRqi3CI4khfRw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:28:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 339aa847-3644-4e93-9268-7d8ade219f2c
[2023-01-31T16:28:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot;
[2023-01-31T16:28:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;339aa847-3644-4e93-9268-7d8ade219f2c\&quot;,\n    \&quot;uid\&quot;: \&quot;594c3980-710b-4299-9e74-0df110c859f4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:08.887533Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;628121ac-5c94-4e23-86f1-ace3608d4541\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.939850607Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.946103846Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.946138881Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.914969970Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.914970761Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.914976351Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.915032025Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.915003953Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot;), &quot;uid&quot;: String(&quot;594c3980-710b-4299-9e74-0df110c859f4&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:08.887533Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;628121ac-5c94-4e23-86f1-ace3608d4541&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.939850607Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.946103846Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.946138881Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.914969970Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.914970761Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.914976351Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.915032025Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.915003953Z&quot;)}]}}
[2023-01-31T16:28:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:28:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;339aa847-3644-4e93-9268-7d8ade219f2c\&quot;,\n    \&quot;uid\&quot;: \&quot;594c3980-710b-4299-9e74-0df110c859f4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:08.887533Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;85b3c728-caa1-4f69-97f3-86218fcfc94d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vXAWRRPv5qCJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-339aa847-3644-4e93-9268-7d8ade219f2c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.939850607Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.946103846Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.004932817Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.012671144Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149100242Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149115211Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149190321Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149145137Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot;), &quot;uid&quot;: String(&quot;594c3980-710b-4299-9e74-0df110c859f4&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:08.887533Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;85b3c728-caa1-4f69-97f3-86218fcfc94d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vXAWRRPv5qCJ&quot;), &quot;username&quot;: String(&quot;user-339aa847-3644-4e93-9268-7d8ade219f2c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.939850607Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.946103846Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.004932817Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.012671144Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149100242Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149115211Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149190321Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149145137Z&quot;)}]}}
[2023-01-31T16:28:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;339aa847-3644-4e93-9268-7d8ade219f2c\&quot;,\n    \&quot;uid\&quot;: \&quot;594c3980-710b-4299-9e74-0df110c859f4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:08.887533Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;85b3c728-caa1-4f69-97f3-86218fcfc94d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vXAWRRPv5qCJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-339aa847-3644-4e93-9268-7d8ade219f2c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.939850607Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:08.946103846Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.004932817Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.012671144Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149100242Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149115211Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149190321Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:09.149145137Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot;), &quot;uid&quot;: String(&quot;594c3980-710b-4299-9e74-0df110c859f4&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:08.887533Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;85b3c728-caa1-4f69-97f3-86218fcfc94d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vXAWRRPv5qCJ&quot;), &quot;username&quot;: String(&quot;user-339aa847-3644-4e93-9268-7d8ade219f2c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.939850607Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:08.946103846Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.004932817Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.012671144Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149100242Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149115211Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149190321Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:09.149145137Z&quot;)}]}}
[2023-01-31T16:28:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:28:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3ODgsImlhdCI6MTY3NTE4MjQ4OCwiYXV0aF90aW1lIjoxNjc1MTgyNDg1LCJqdGkiOiIxNDU2OTg5MS0xNTJiLTQzNjMtODY0OS0yYzUyODU0ZWJmNjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpwU0NOeFFKWk56bnRHcXVLS0hZOGciLCJzZXNzaW9uX3N0YXRlIjoiMzAwYzU5ZGYtZDJiOS00ZmM5LTk2YWQtZDI0M2IxMzBlZTQ5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMwMGM1OWRmLWQyYjktNGZjOS05NmFkLWQyNDNiMTMwZWU0OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.vSeta_bWiA7Ol2be-OnYrv8JKe-ZrIJRdlZwmoCUsdjSkVh4nAUtVafBFQaRTEfpTOEaYyj602xn9OEyKE6zk12nClUiXMiW6ul-RXoXH5rZdXIPv3s5SXdlL8deEeK8koX-hpUhr4aaXu2KbqxUtHt5GYh8VCB61pj2rh3YJCjAyoTFMcsFI7HOqh9fZDiKeb_I0KEPmm4am7nOa_-k0mI9Z2rfgDwfHImXZw-xe_OgsM7qncpWFmQru1tLAbx5hu1smlxPwuTu52l0z_VFHKOC0aX6tDHnu9nkcJ4hurGbdLdAPkq5qyVqvLwZ2JKyvMCq6swNixBQsyA_eKfh8Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot; &quot;device1&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot; &quot;gateway1&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;339aa847-3644-4e93-9268-7d8ade219f2c&#x27;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;339aa847-3644-4e93-9268-7d8ade219f2c&quot;
[2023-01-31T16:28:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:28:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:28:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:28:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:28:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyOTYsImlhdCI6MTY3NTE4MjQ5NiwianRpIjoiMmY5NGUwNjgtY2MzOS00ZTk2LWI1MWQtZjIwOGYwMmFlMzhlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieldzdHgzUXVfalp0eEVBTmd6VFpsdyIsInNlc3Npb25fc3RhdGUiOiI3NmZiNGM1ZC1lOTQ1LTQwZDQtOWU4MS00NjFjNmMzMjgxMGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzZmYjRjNWQtZTk0NS00MGQ0LTllODEtNDYxYzZjMzI4MTBkIn0.UMWcy1N1zEc6yg-4begMfaddqwrtn09g9sYmwejuOuc
[2023-01-31T16:28:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:28:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQyOTYsImlhdCI6MTY3NTE4MjQ5NiwianRpIjoiMmY5NGUwNjgtY2MzOS00ZTk2LWI1MWQtZjIwOGYwMmFlMzhlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieldzdHgzUXVfalp0eEVBTmd6VFpsdyIsInNlc3Npb25fc3RhdGUiOiI3NmZiNGM1ZC1lOTQ1LTQwZDQtOWU4MS00NjFjNmMzMjgxMGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzZmYjRjNWQtZTk0NS00MGQ0LTllODEtNDYxYzZjMzI4MTBkIn0.UMWcy1N1zEc6yg-4begMfaddqwrtn09g9sYmwejuOuc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:28:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:17Z INFO  drogue_cloud_tests::resources::apps] Create application: f2dadd9a-5a82-4238-8c3d-bfa2a63669b5
[2023-01-31T16:28:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot;
[2023-01-31T16:28:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5\&quot;,\n    \&quot;uid\&quot;: \&quot;2861aca2-7c63-45db-80fa-aa7279108430\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:17.556346Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e000f48f-2d5f-4413-8eb6-47847ea52090\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.600612478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.606863253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.606896656Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.567217301Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.567217882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.567227148Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.567254870Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.567310806Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot;), &quot;uid&quot;: String(&quot;2861aca2-7c63-45db-80fa-aa7279108430&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:17.556346Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e000f48f-2d5f-4413-8eb6-47847ea52090&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.600612478Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.606863253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.606896656Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.567217301Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.567217882Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.567227148Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.567254870Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.567310806Z&quot;)}]}}
[2023-01-31T16:28:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5\&quot;,\n    \&quot;uid\&quot;: \&quot;2861aca2-7c63-45db-80fa-aa7279108430\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:17.556346Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a34b35f9-f6b4-4255-823b-3498bf80a1bc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;PTt5TisnC65z\&quot;,\n        \&quot;username\&quot;: \&quot;user-f2dadd9a-5a82-4238-8c3d-bfa2a63669b5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.600612478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.606863253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.665592446Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.672968737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815211163Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815225159Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815261958Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815300129Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot;), &quot;uid&quot;: String(&quot;2861aca2-7c63-45db-80fa-aa7279108430&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:17.556346Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a34b35f9-f6b4-4255-823b-3498bf80a1bc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;PTt5TisnC65z&quot;), &quot;username&quot;: String(&quot;user-f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.600612478Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.606863253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.665592446Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.672968737Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815211163Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815225159Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815261958Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815300129Z&quot;)}]}}
[2023-01-31T16:28:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5\&quot;,\n    \&quot;uid\&quot;: \&quot;2861aca2-7c63-45db-80fa-aa7279108430\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:17.556346Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a34b35f9-f6b4-4255-823b-3498bf80a1bc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;PTt5TisnC65z\&quot;,\n        \&quot;username\&quot;: \&quot;user-f2dadd9a-5a82-4238-8c3d-bfa2a63669b5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.600612478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.606863253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.665592446Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.672968737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815211163Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815225159Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815261958Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:17.815300129Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot;), &quot;uid&quot;: String(&quot;2861aca2-7c63-45db-80fa-aa7279108430&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:17.556346Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a34b35f9-f6b4-4255-823b-3498bf80a1bc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;PTt5TisnC65z&quot;), &quot;username&quot;: String(&quot;user-f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.600612478Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.606863253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.665592446Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.672968737Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815211163Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815225159Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815261958Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:17.815300129Z&quot;)}]}}
[2023-01-31T16:28:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:28:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI3OTYsImlhdCI6MTY3NTE4MjQ5NiwiYXV0aF90aW1lIjoxNjc1MTgyNDkzLCJqdGkiOiI1NjUwY2YzZi1lNDFkLTQxNDUtYjUyMC1hOWRmNDU1ODVlMzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpXc3R4M1F1X2padHhFQU5nelRabHciLCJzZXNzaW9uX3N0YXRlIjoiNzZmYjRjNWQtZTk0NS00MGQ0LTllODEtNDYxYzZjMzI4MTBkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc2ZmI0YzVkLWU5NDUtNDBkNC05ZTgxLTQ2MWM2YzMyODEwZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.xcQQ0hH19TA2eJRsGhbYbeJWa4-f4ZNwjxQTWmqKujj-6u9aZCSY50G2lnJqPTf_aCE__OLPksybtm2b4XWbEl-gTjfcPfPJsor5CeLqRYct7mLzrcmAzOYttc_kGkwxCmQvGmcDPHIZyuvjkLHQ11Zy439j0NMNQSNaNEQ0I6vdcbCscn-vE2FSF7nS7ffwdbMu3Q7x6KtjxFZvBFd72pZWyxUdRmxJ9QbYha3AzRN7zmlt5LCWe9p4sTnbU3Ecucl0yNS6vvugHQstW4MlyFQ557Bl6z8MqRjeOdS2-WMSWzhSQ9Tnw37mliqUMDUDFPhGdKxOg7BHre0UeRUCxA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:28:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot; &quot;device1&quot;
[2023-01-31T16:28:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:28:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot; &quot;gateway1&quot;
[2023-01-31T16:28:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:19Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&#x27;
[2023-01-31T16:28:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f2dadd9a-5a82-4238-8c3d-bfa2a63669b5&quot;
[2023-01-31T16:28:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:28:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:28:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:28:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:28:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMDUsImlhdCI6MTY3NTE4MjUwNSwianRpIjoiNmQwNzUyNTAtMDhhOC00YWEyLThhMTQtMTBiYTRmOWE2NWRjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVTF1TlAycDhJbFRiREthVFFreVY0dyIsInNlc3Npb25fc3RhdGUiOiIxOWRmZDg3Mi0zNTFlLTQzYjItOGFmYi1jZTdlZTgyYWMwZjgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTlkZmQ4NzItMzUxZS00M2IyLThhZmItY2U3ZWU4MmFjMGY4In0.t7WWx99ENtcV4LiMohCuG42UjfItnGZPTInGakHALLg
[2023-01-31T16:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMDUsImlhdCI6MTY3NTE4MjUwNSwianRpIjoiNmQwNzUyNTAtMDhhOC00YWEyLThhMTQtMTBiYTRmOWE2NWRjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVTF1TlAycDhJbFRiREthVFFreVY0dyIsInNlc3Npb25fc3RhdGUiOiIxOWRmZDg3Mi0zNTFlLTQzYjItOGFmYi1jZTdlZTgyYWMwZjgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTlkZmQ4NzItMzUxZS00M2IyLThhZmItY2U3ZWU4MmFjMGY4In0.t7WWx99ENtcV4LiMohCuG42UjfItnGZPTInGakHALLg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:28:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:26Z INFO  drogue_cloud_tests::resources::apps] Create application: 19cb6544-925e-4b32-9b7f-b56b92cdb487
[2023-01-31T16:28:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot;
[2023-01-31T16:28:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;19cb6544-925e-4b32-9b7f-b56b92cdb487\&quot;,\n    \&quot;uid\&quot;: \&quot;4a3fde33-5be4-4977-b18e-612fbff3f24d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:26.138824Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6dbd7aa6-d5b1-4346-b8b6-d0570fa51944\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.190270732Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.197909765Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.197948647Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.160689720Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.160690201Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.160769600Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.160882120Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.160852726Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot;), &quot;uid&quot;: String(&quot;4a3fde33-5be4-4977-b18e-612fbff3f24d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:26.138824Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6dbd7aa6-d5b1-4346-b8b6-d0570fa51944&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.190270732Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.197909765Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.197948647Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.160689720Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.160690201Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.160769600Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.160882120Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.160852726Z&quot;)}]}}
[2023-01-31T16:28:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;19cb6544-925e-4b32-9b7f-b56b92cdb487\&quot;,\n    \&quot;uid\&quot;: \&quot;4a3fde33-5be4-4977-b18e-612fbff3f24d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:26.138824Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;093b8b7f-6f0c-4566-a12b-1719ed0c1add\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;RuO1rhxNEquQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-19cb6544-925e-4b32-9b7f-b56b92cdb487\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.190270732Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.197909765Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.271303614Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.284889712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435055262Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435078206Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435254215Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435195404Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot;), &quot;uid&quot;: String(&quot;4a3fde33-5be4-4977-b18e-612fbff3f24d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:26.138824Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;093b8b7f-6f0c-4566-a12b-1719ed0c1add&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;RuO1rhxNEquQ&quot;), &quot;username&quot;: String(&quot;user-19cb6544-925e-4b32-9b7f-b56b92cdb487&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.190270732Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.197909765Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.271303614Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.284889712Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435055262Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435078206Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435254215Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435195404Z&quot;)}]}}
[2023-01-31T16:28:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;19cb6544-925e-4b32-9b7f-b56b92cdb487\&quot;,\n    \&quot;uid\&quot;: \&quot;4a3fde33-5be4-4977-b18e-612fbff3f24d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:26.138824Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;093b8b7f-6f0c-4566-a12b-1719ed0c1add\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;RuO1rhxNEquQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-19cb6544-925e-4b32-9b7f-b56b92cdb487\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.190270732Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.197909765Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.271303614Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.284889712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435055262Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435078206Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435254215Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:26.435195404Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot;), &quot;uid&quot;: String(&quot;4a3fde33-5be4-4977-b18e-612fbff3f24d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:26.138824Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;093b8b7f-6f0c-4566-a12b-1719ed0c1add&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;RuO1rhxNEquQ&quot;), &quot;username&quot;: String(&quot;user-19cb6544-925e-4b32-9b7f-b56b92cdb487&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.190270732Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.197909765Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.271303614Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.284889712Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435055262Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435078206Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435254215Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:26.435195404Z&quot;)}]}}
[2023-01-31T16:28:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:28:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4MDUsImlhdCI6MTY3NTE4MjUwNSwiYXV0aF90aW1lIjoxNjc1MTgyNTAyLCJqdGkiOiJlOTdkNjYzNS1lNDFmLTQ1YjctYjZjYi0yY2MwZDNkMTBiODciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlUxdU5QMnA4SWxUYkRLYVRRa3lWNHciLCJzZXNzaW9uX3N0YXRlIjoiMTlkZmQ4NzItMzUxZS00M2IyLThhZmItY2U3ZWU4MmFjMGY4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5ZGZkODcyLTM1MWUtNDNiMi04YWZiLWNlN2VlODJhYzBmOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.lkcsV7-aMP8in_EKtPKF1QJ1-KZtGohwwquNPcdWXjclZknlgTsugdSdOvvrRwyhOu-UMDHpSxkI7DMrfPSgCeLZLlzdG5h7KBAFOFjPzS91CadVyQQY-96-1iL1aujwdFlBW2yPXbmUxHNo7Mm4kSC_gl3OcukFWCaW-f7r-Yrt7ohSd2D2Y7dM2u8snsYK__wxOZpHP7U8QD9bt61-oxWnR8EYYTPfzRThfMQ9esasdKtEoftZvZxOUflSiEx9vCDiwalE65PhC-VruXrYpx9PSelT0nd-8ZeSKBi9idANz0f9o_jgXd9kXp_efa_HXYJbi0jiUyWtqNHlfzCoXA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot; &quot;device1&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot; &quot;gateway1&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;19cb6544-925e-4b32-9b7f-b56b92cdb487&#x27;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;19cb6544-925e-4b32-9b7f-b56b92cdb487&quot;
[2023-01-31T16:28:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:28:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:28:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:28:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:28:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMTMsImlhdCI6MTY3NTE4MjUxMywianRpIjoiYzFiZTU2NGQtMGY4MC00NGRlLTlkYWMtYjhiM2ZkNzYzZjc3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidlo5aElHTENENE1mZF9TTlMzUmZuQSIsInNlc3Npb25fc3RhdGUiOiJkYzY1YjIxYS01Y2E5LTQxMzEtYWQ5MS1mYTYzZDEwNWNhMDIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGM2NWIyMWEtNWNhOS00MTMxLWFkOTEtZmE2M2QxMDVjYTAyIn0.9w-NvcOjRv1FKnSof5n7TuC4uWoHSJZqeBfhRNqt7Ek
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMTMsImlhdCI6MTY3NTE4MjUxMywianRpIjoiYzFiZTU2NGQtMGY4MC00NGRlLTlkYWMtYjhiM2ZkNzYzZjc3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidlo5aElHTENENE1mZF9TTlMzUmZuQSIsInNlc3Npb25fc3RhdGUiOiJkYzY1YjIxYS01Y2E5LTQxMzEtYWQ5MS1mYTYzZDEwNWNhMDIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGM2NWIyMWEtNWNhOS00MTMxLWFkOTEtZmE2M2QxMDVjYTAyIn0.9w-NvcOjRv1FKnSof5n7TuC4uWoHSJZqeBfhRNqt7Ek&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::resources::apps] Create application: aff3f8b1-1d41-4056-8f2e-aee889f0acb4
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot;
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4\&quot;,\n    \&quot;uid\&quot;: \&quot;56dc5d11-25e2-4f7c-b1ac-1986e7988904\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:34.852081Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;db179452-40e1-4e1b-be50-91184666969f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.901015110Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.907763055Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.907802789Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.871788511Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.871789513Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.871795093Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.871847250Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.871821052Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot;), &quot;uid&quot;: String(&quot;56dc5d11-25e2-4f7c-b1ac-1986e7988904&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:34.852081Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;db179452-40e1-4e1b-be50-91184666969f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.901015110Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.907763055Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.907802789Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.871788511Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.871789513Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.871795093Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.871847250Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.871821052Z&quot;)}]}}
[2023-01-31T16:28:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:28:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4\&quot;,\n    \&quot;uid\&quot;: \&quot;56dc5d11-25e2-4f7c-b1ac-1986e7988904\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:34.852081Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b04f8033-8c78-44c2-b9ad-41da2d620462\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FQSWm39S3vJY\&quot;,\n        \&quot;username\&quot;: \&quot;user-aff3f8b1-1d41-4056-8f2e-aee889f0acb4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.901015110Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.907763055Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.971622729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.980039615Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140521558Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140544792Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140699590Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140574877Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot;), &quot;uid&quot;: String(&quot;56dc5d11-25e2-4f7c-b1ac-1986e7988904&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:34.852081Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b04f8033-8c78-44c2-b9ad-41da2d620462&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FQSWm39S3vJY&quot;), &quot;username&quot;: String(&quot;user-aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.901015110Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.907763055Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.971622729Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.980039615Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140521558Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140544792Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140699590Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140574877Z&quot;)}]}}
[2023-01-31T16:28:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:28:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4\&quot;,\n    \&quot;uid\&quot;: \&quot;56dc5d11-25e2-4f7c-b1ac-1986e7988904\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:34.852081Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b04f8033-8c78-44c2-b9ad-41da2d620462\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FQSWm39S3vJY\&quot;,\n        \&quot;username\&quot;: \&quot;user-aff3f8b1-1d41-4056-8f2e-aee889f0acb4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.901015110Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.907763055Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.971622729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:34.980039615Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140521558Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140544792Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140699590Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:35.140574877Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot;), &quot;uid&quot;: String(&quot;56dc5d11-25e2-4f7c-b1ac-1986e7988904&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:34.852081Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b04f8033-8c78-44c2-b9ad-41da2d620462&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FQSWm39S3vJY&quot;), &quot;username&quot;: String(&quot;user-aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.901015110Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.907763055Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.971622729Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:34.980039615Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140521558Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140544792Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140699590Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:35.140574877Z&quot;)}]}}
[2023-01-31T16:28:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:28:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4MTQsImlhdCI6MTY3NTE4MjUxNCwiYXV0aF90aW1lIjoxNjc1MTgyNTExLCJqdGkiOiIzMmQ2NTEwYS0xMGVkLTQ0NDktOTYwYS1mZjQyMmEyMTU3MjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZaOWhJR0xDRDRNZmRfU05TM1JmbkEiLCJzZXNzaW9uX3N0YXRlIjoiZGM2NWIyMWEtNWNhOS00MTMxLWFkOTEtZmE2M2QxMDVjYTAyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjNjViMjFhLTVjYTktNDEzMS1hZDkxLWZhNjNkMTA1Y2EwMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.VGdsKbodLkp2qJMr69Cg6RMi1ZA6Q9wt_q8aK0F4Y6THc3N_4zie4SCBdPs-aFYUPsqeyt0Nc3takxy6svSKh6GzPu28X7Yoi7wZALxcxVIlkn2PmXy-Yeab219Hc1rmyJPSuawdomBu1oofYz8kaAv8bF8VxzEvjdZAfJXICDU7_gKpDjgMufPK5tBES5mA_TDv8ECR9juFPXh9bS-WCNctNC-bWTfTjaHJvzg6yXUsSqPA6RA3o5ND8Oawlo2Lyi7rLhjpIu6xfNwNFDy9l9J7rZqIGA3-isTkwoLOi85r_pfL3vmkVauSn4pc2s35oT_sOGhVDCJSk8ERh2BClw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot; &quot;device1&quot;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot; &quot;gateway1&quot;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&#x27;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;aff3f8b1-1d41-4056-8f2e-aee889f0acb4&quot;
[2023-01-31T16:28:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:28:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:28:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:28:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:28:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMjIsImlhdCI6MTY3NTE4MjUyMiwianRpIjoiMGY5NzlkNzUtYWU0Yi00NjQyLWFiMGUtZmRjMTAxNWRlMDc4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOTRUZUZQUDJJME13TGJJRF9uYjJVdyIsInNlc3Npb25fc3RhdGUiOiIzZmI4ZDMwNy00Y2E1LTQwMTktOTNiZi03ODIzNTgxNzYyMDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2ZiOGQzMDctNGNhNS00MDE5LTkzYmYtNzgyMzU4MTc2MjA2In0.uFh3ZSWJFbmb9kHMXe_YLjA4539oAj2TI0tVu36L0FU
[2023-01-31T16:28:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:28:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMjIsImlhdCI6MTY3NTE4MjUyMiwianRpIjoiMGY5NzlkNzUtYWU0Yi00NjQyLWFiMGUtZmRjMTAxNWRlMDc4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOTRUZUZQUDJJME13TGJJRF9uYjJVdyIsInNlc3Npb25fc3RhdGUiOiIzZmI4ZDMwNy00Y2E1LTQwMTktOTNiZi03ODIzNTgxNzYyMDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2ZiOGQzMDctNGNhNS00MDE5LTkzYmYtNzgyMzU4MTc2MjA2In0.uFh3ZSWJFbmb9kHMXe_YLjA4539oAj2TI0tVu36L0FU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:28:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:43Z INFO  drogue_cloud_tests::resources::apps] Create application: 6ec9ddf6-96a6-4898-a832-cd4d4c8e284e
[2023-01-31T16:28:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot;
[2023-01-31T16:28:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e\&quot;,\n    \&quot;uid\&quot;: \&quot;2c6cc45a-967c-4981-b241-583f9179c95f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:43.511618Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d61c759b-3191-4072-8631-2527056429d9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.552831398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.558220299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.558269421Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.524981784Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.524983046Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.524998095Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.525034301Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.525068556Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot;), &quot;uid&quot;: String(&quot;2c6cc45a-967c-4981-b241-583f9179c95f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:43.511618Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d61c759b-3191-4072-8631-2527056429d9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.552831398Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.558220299Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.558269421Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.524981784Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.524983046Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.524998095Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.525034301Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.525068556Z&quot;)}]}}
[2023-01-31T16:28:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e\&quot;,\n    \&quot;uid\&quot;: \&quot;2c6cc45a-967c-4981-b241-583f9179c95f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:43.511618Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;208f3bb8-f270-425a-a003-de0abd988aa8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;W5wk7kHuRyRx\&quot;,\n        \&quot;username\&quot;: \&quot;user-6ec9ddf6-96a6-4898-a832-cd4d4c8e284e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.552831398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.558220299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.637612513Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.644530326Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851005988Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851112477Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851173322Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851361463Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot;), &quot;uid&quot;: String(&quot;2c6cc45a-967c-4981-b241-583f9179c95f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:43.511618Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;208f3bb8-f270-425a-a003-de0abd988aa8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;W5wk7kHuRyRx&quot;), &quot;username&quot;: String(&quot;user-6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.552831398Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.558220299Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.637612513Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.644530326Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851005988Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851112477Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851173322Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851361463Z&quot;)}]}}
[2023-01-31T16:28:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e\&quot;,\n    \&quot;uid\&quot;: \&quot;2c6cc45a-967c-4981-b241-583f9179c95f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:43.511618Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;208f3bb8-f270-425a-a003-de0abd988aa8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;W5wk7kHuRyRx\&quot;,\n        \&quot;username\&quot;: \&quot;user-6ec9ddf6-96a6-4898-a832-cd4d4c8e284e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.552831398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.558220299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.637612513Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.644530326Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851005988Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851112477Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851173322Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:43.851361463Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot;), &quot;uid&quot;: String(&quot;2c6cc45a-967c-4981-b241-583f9179c95f&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:43.511618Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;208f3bb8-f270-425a-a003-de0abd988aa8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;W5wk7kHuRyRx&quot;), &quot;username&quot;: String(&quot;user-6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.552831398Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.558220299Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.637612513Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.644530326Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851005988Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851112477Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851173322Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:43.851361463Z&quot;)}]}}
[2023-01-31T16:28:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:28:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4MjIsImlhdCI6MTY3NTE4MjUyMiwiYXV0aF90aW1lIjoxNjc1MTgyNTE5LCJqdGkiOiI0NWZmODU4Yy05OWRkLTQ4ZDMtOGExMy0wNmFmMGMxMzg3ZmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijk0VGVGUFAySTBNd0xiSURfbmIyVXciLCJzZXNzaW9uX3N0YXRlIjoiM2ZiOGQzMDctNGNhNS00MDE5LTkzYmYtNzgyMzU4MTc2MjA2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNmYjhkMzA3LTRjYTUtNDAxOS05M2JmLTc4MjM1ODE3NjIwNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.e1V_Z7QGYpgJC0PYR3W9adZ8JRD2ncQ6Mi0_WF86oSpITHsNjYRD3bUAz_whk8CDGs3PFy67PKLeIU8ngJhaKvdbH99c6lliWchCm9A8oyY_n0sjFFjjui-mh1tBW45IVtqNo0s7KEmvYEVCAfcYy9Vc5-eG8ibqEdV3P7Qzfj27eHGLApAQj358Lb7emqqVkpCGlAr3xmo9y0nbYXHS9njuSy4M7JEExH1E89El1zNW8vtazPdzMjo0SU8JbCe2oKe6k2uS_XnjiuyL-RIAWKqFi69khgGcLYH-miqkcEMfqQ4_m0ulLF69Bl8fpRPYJuyhBSvRS29MHv3JJYc1Pw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot; &quot;device1&quot;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot; &quot;gateway1&quot;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&#x27;
[2023-01-31T16:28:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;6ec9ddf6-96a6-4898-a832-cd4d4c8e284e&quot;
[2023-01-31T16:28:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:28:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:28:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:28:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:28:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMzEsImlhdCI6MTY3NTE4MjUzMSwianRpIjoiNzJkZDI3NTItNTZkYi00OWRhLWEyMDgtYTdlNmIxOGU0Y2Y2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMGlFOEJ1eHl0UHkzU2FFQU9rU19LUSIsInNlc3Npb25fc3RhdGUiOiI1NTM1YzhiNC1mY2NjLTQwZWMtYjk3OS0yMGQzZjNmZTM4N2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTUzNWM4YjQtZmNjYy00MGVjLWI5NzktMjBkM2YzZmUzODdjIn0.pvNTQCLCKZ_VJrdUxvZhHrPGo0Fsd2eN0In64Vtm_6A
[2023-01-31T16:28:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:28:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMzEsImlhdCI6MTY3NTE4MjUzMSwianRpIjoiNzJkZDI3NTItNTZkYi00OWRhLWEyMDgtYTdlNmIxOGU0Y2Y2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMGlFOEJ1eHl0UHkzU2FFQU9rU19LUSIsInNlc3Npb25fc3RhdGUiOiI1NTM1YzhiNC1mY2NjLTQwZWMtYjk3OS0yMGQzZjNmZTM4N2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTUzNWM4YjQtZmNjYy00MGVjLWI5NzktMjBkM2YzZmUzODdjIn0.pvNTQCLCKZ_VJrdUxvZhHrPGo0Fsd2eN0In64Vtm_6A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:28:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:52Z INFO  drogue_cloud_tests::resources::apps] Create application: 35ebe958-0cd4-4acc-8337-093500d68b24
[2023-01-31T16:28:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot;
[2023-01-31T16:28:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;35ebe958-0cd4-4acc-8337-093500d68b24\&quot;,\n    \&quot;uid\&quot;: \&quot;8202feb7-3d68-4ecd-b5ed-51e09f3c4d4a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:52.129971Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e2c6d94a-9252-47aa-819a-298294d0236e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.170688535Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.175837989Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.175872232Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.143556283Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.143557184Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.143577372Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.143655088Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.143698207Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot;), &quot;uid&quot;: String(&quot;8202feb7-3d68-4ecd-b5ed-51e09f3c4d4a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:52.129971Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e2c6d94a-9252-47aa-819a-298294d0236e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.170688535Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.175837989Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.175872232Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.143556283Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.143557184Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.143577372Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.143655088Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.143698207Z&quot;)}]}}
[2023-01-31T16:28:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;35ebe958-0cd4-4acc-8337-093500d68b24\&quot;,\n    \&quot;uid\&quot;: \&quot;8202feb7-3d68-4ecd-b5ed-51e09f3c4d4a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:52.129971Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8670ae1b-efd7-4ec3-943d-4890aad4f7af\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;t0s9gmKpFIes\&quot;,\n        \&quot;username\&quot;: \&quot;user-35ebe958-0cd4-4acc-8337-093500d68b24\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.170688535Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.175837989Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.256942487Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.263002434Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400485390Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400581440Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400646062Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400762308Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot;), &quot;uid&quot;: String(&quot;8202feb7-3d68-4ecd-b5ed-51e09f3c4d4a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:52.129971Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8670ae1b-efd7-4ec3-943d-4890aad4f7af&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;t0s9gmKpFIes&quot;), &quot;username&quot;: String(&quot;user-35ebe958-0cd4-4acc-8337-093500d68b24&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.170688535Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.175837989Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.256942487Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.263002434Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400485390Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400581440Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400646062Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400762308Z&quot;)}]}}
[2023-01-31T16:28:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;35ebe958-0cd4-4acc-8337-093500d68b24\&quot;,\n    \&quot;uid\&quot;: \&quot;8202feb7-3d68-4ecd-b5ed-51e09f3c4d4a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:28:52.129971Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8670ae1b-efd7-4ec3-943d-4890aad4f7af\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;t0s9gmKpFIes\&quot;,\n        \&quot;username\&quot;: \&quot;user-35ebe958-0cd4-4acc-8337-093500d68b24\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.170688535Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.175837989Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.256942487Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.263002434Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400485390Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400581440Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400646062Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:28:52.400762308Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot;), &quot;uid&quot;: String(&quot;8202feb7-3d68-4ecd-b5ed-51e09f3c4d4a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:28:52.129971Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8670ae1b-efd7-4ec3-943d-4890aad4f7af&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;t0s9gmKpFIes&quot;), &quot;username&quot;: String(&quot;user-35ebe958-0cd4-4acc-8337-093500d68b24&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.170688535Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.175837989Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.256942487Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.263002434Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400485390Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400581440Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400646062Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:28:52.400762308Z&quot;)}]}}
[2023-01-31T16:28:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:28:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4MzEsImlhdCI6MTY3NTE4MjUzMSwiYXV0aF90aW1lIjoxNjc1MTgyNTI4LCJqdGkiOiIyM2E1MWI2ZS0wYWQxLTQwY2MtYWY3OS1lZTllNDUwOTYwNmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBpRThCdXh5dFB5M1NhRUFPa1NfS1EiLCJzZXNzaW9uX3N0YXRlIjoiNTUzNWM4YjQtZmNjYy00MGVjLWI5NzktMjBkM2YzZmUzODdjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU1MzVjOGI0LWZjY2MtNDBlYy1iOTc5LTIwZDNmM2ZlMzg3YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.h7quzLsICgwyNK_XvHH6Jf9PoX7273KCAfVnK7Pgxhm_L2UNcHE6ZCwhwaQBcSfE-66PI0Nf_Lr6ek2qrQW8ZPj6OYS2z70wNW_XBN4W1coM5ZSvIpQzs56RSPffzlGfBLa43ea1Yu8nPy902y5BzN2DFX4f42a9tul1XByIt89_EK8UGbyk_RvA5rvGiL1r_Y8YVYfiCM9_yMnxHnrIp_YT-lODUt5LnipuuyMoQkFSyU-_kfFS_cy9-vdard9dfBcyw3GMOagEbt2R8F2_6Md6h2TnU9ZHijB1mm-gqf-0qj_a92b6hcS_k3PSnzsMJs74BmahcBBN1IRZA4ZxUw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot; &quot;device1&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot; &quot;gateway1&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;35ebe958-0cd4-4acc-8337-093500d68b24&#x27;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;35ebe958-0cd4-4acc-8337-093500d68b24&quot;
[2023-01-31T16:28:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:28:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:28:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:28:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:28:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:28:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:28:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:28:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMzksImlhdCI6MTY3NTE4MjUzOSwianRpIjoiZDAxZDA1YzQtZDY5OC00YjM3LTk5MDctMThlNTFjNGI0YmY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVHNDUlB2b3FDQ2J0aEtRUW1oVmk1ZyIsInNlc3Npb25fc3RhdGUiOiIxM2JjNjg5ZS0yY2IyLTRiOWQtYjkzMC1lYzA0MDQwMjFiNDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTNiYzY4OWUtMmNiMi00YjlkLWI5MzAtZWMwNDA0MDIxYjQ3In0.G_3Q-6hTaOE0o8Cz-4f-P-hS-kjfBJ2LdVanF_SS454
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzMzksImlhdCI6MTY3NTE4MjUzOSwianRpIjoiZDAxZDA1YzQtZDY5OC00YjM3LTk5MDctMThlNTFjNGI0YmY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVHNDUlB2b3FDQ2J0aEtRUW1oVmk1ZyIsInNlc3Npb25fc3RhdGUiOiIxM2JjNjg5ZS0yY2IyLTRiOWQtYjkzMC1lYzA0MDQwMjFiNDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTNiYzY4OWUtMmNiMi00YjlkLWI5MzAtZWMwNDA0MDIxYjQ3In0.G_3Q-6hTaOE0o8Cz-4f-P-hS-kjfBJ2LdVanF_SS454&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 82e9c294-a5fd-4378-9fd6-47687504de49
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot;
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;82e9c294-a5fd-4378-9fd6-47687504de49\&quot;,\n    \&quot;uid\&quot;: \&quot;5f1d8059-c786-460d-a9f4-b1a8ae8ebc23\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:00.864291Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d59ee41d-3da6-41e0-be94-17be1350676c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.912049619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.917938106Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.917979643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.888057562Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.888058203Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.888067470Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.888119537Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.888093569Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot;), &quot;uid&quot;: String(&quot;5f1d8059-c786-460d-a9f4-b1a8ae8ebc23&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:00.864291Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d59ee41d-3da6-41e0-be94-17be1350676c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.912049619Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.917938106Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.917979643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.888057562Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.888058203Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.888067470Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.888119537Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.888093569Z&quot;)}]}}
[2023-01-31T16:29:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:29:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;82e9c294-a5fd-4378-9fd6-47687504de49\&quot;,\n    \&quot;uid\&quot;: \&quot;5f1d8059-c786-460d-a9f4-b1a8ae8ebc23\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:00.864291Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;66ad9cb7-5bae-47cb-852f-b77d4a4d5280\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pwrJdVF2UgBr\&quot;,\n        \&quot;username\&quot;: \&quot;user-82e9c294-a5fd-4378-9fd6-47687504de49\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.912049619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.917938106Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.976793438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.986257765Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136399986Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136489343Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136613375Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136527506Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot;), &quot;uid&quot;: String(&quot;5f1d8059-c786-460d-a9f4-b1a8ae8ebc23&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:00.864291Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;66ad9cb7-5bae-47cb-852f-b77d4a4d5280&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pwrJdVF2UgBr&quot;), &quot;username&quot;: String(&quot;user-82e9c294-a5fd-4378-9fd6-47687504de49&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.912049619Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.917938106Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.976793438Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.986257765Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136399986Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136489343Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136613375Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136527506Z&quot;)}]}}
[2023-01-31T16:29:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:29:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;82e9c294-a5fd-4378-9fd6-47687504de49\&quot;,\n    \&quot;uid\&quot;: \&quot;5f1d8059-c786-460d-a9f4-b1a8ae8ebc23\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:00.864291Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;66ad9cb7-5bae-47cb-852f-b77d4a4d5280\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pwrJdVF2UgBr\&quot;,\n        \&quot;username\&quot;: \&quot;user-82e9c294-a5fd-4378-9fd6-47687504de49\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.912049619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.917938106Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.976793438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:00.986257765Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136399986Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136489343Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136613375Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:01.136527506Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot;), &quot;uid&quot;: String(&quot;5f1d8059-c786-460d-a9f4-b1a8ae8ebc23&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:00.864291Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;66ad9cb7-5bae-47cb-852f-b77d4a4d5280&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pwrJdVF2UgBr&quot;), &quot;username&quot;: String(&quot;user-82e9c294-a5fd-4378-9fd6-47687504de49&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.912049619Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.917938106Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.976793438Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:00.986257765Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136399986Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136489343Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136613375Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:01.136527506Z&quot;)}]}}
[2023-01-31T16:29:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:29:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4NDAsImlhdCI6MTY3NTE4MjU0MCwiYXV0aF90aW1lIjoxNjc1MTgyNTM3LCJqdGkiOiJmZTE2Y2FiYy1jZGNjLTQ5NWMtYTQ1MS0zMDIyZTE5OWM4OTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRzQ1JQdm9xQ0NidGhLUVFtaFZpNWciLCJzZXNzaW9uX3N0YXRlIjoiMTNiYzY4OWUtMmNiMi00YjlkLWI5MzAtZWMwNDA0MDIxYjQ3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEzYmM2ODllLTJjYjItNGI5ZC1iOTMwLWVjMDQwNDAyMWI0NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.QkM770fsnzFvwgQoZBznsbevDM_7yFl_ZC1krQeTzxj4DlVAPaiVIWVNJaaJxY5qTR6vgkZHwm-rVJsWpBkUVCpPwj9_UX5bSqXrv6FG6l-QBwZAPftrB30W4hH2WBHBbQAd8t1muYhdgaToHGHdI6Dc71WAxECgpLl-gcVty_nqxOksJZogLMMunrNh_QGawNmTztdRDCodtIe2acIz6fFIPGLPY8FMiTqQ_iw-_BG2w9jeHZVu1qqGKj_me2BCoMc-geiAeWkfsUKgIzSxXDEVsHc54gz8wf98msTLXxPAYOSs3X5dNlGhD4AhG6P63QdFpqyxsIpZAA1zMC_b7A\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot; &quot;device1&quot;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot; &quot;gateway1&quot;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;82e9c294-a5fd-4378-9fd6-47687504de49&#x27;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;82e9c294-a5fd-4378-9fd6-47687504de49&quot;
[2023-01-31T16:29:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:29:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:29:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:29:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:29:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNDgsImlhdCI6MTY3NTE4MjU0OCwianRpIjoiMGYzZGYxNDctNDRmNS00Mjk0LThmZmUtOTFmNzBhNTBmNjk5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX0trZUFGdnNlQzJXY3dJdE5yUGdHUSIsInNlc3Npb25fc3RhdGUiOiI2ZThkZGRlNC04YjRjLTQxNTctODY1ZC1iMjY2N2RlZmY0NzMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmU4ZGRkZTQtOGI0Yy00MTU3LTg2NWQtYjI2NjdkZWZmNDczIn0.oO2R66jZEJT6AGKpHTdCSDXzkdrbIVk2Kp-QLsZoEKQ
[2023-01-31T16:29:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:29:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNDgsImlhdCI6MTY3NTE4MjU0OCwianRpIjoiMGYzZGYxNDctNDRmNS00Mjk0LThmZmUtOTFmNzBhNTBmNjk5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX0trZUFGdnNlQzJXY3dJdE5yUGdHUSIsInNlc3Npb25fc3RhdGUiOiI2ZThkZGRlNC04YjRjLTQxNTctODY1ZC1iMjY2N2RlZmY0NzMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmU4ZGRkZTQtOGI0Yy00MTU3LTg2NWQtYjI2NjdkZWZmNDczIn0.oO2R66jZEJT6AGKpHTdCSDXzkdrbIVk2Kp-QLsZoEKQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:29:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:09Z INFO  drogue_cloud_tests::resources::apps] Create application: addf2f6f-454d-4c96-be7b-b1970bcebe85
[2023-01-31T16:29:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot;
[2023-01-31T16:29:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;addf2f6f-454d-4c96-be7b-b1970bcebe85\&quot;,\n    \&quot;uid\&quot;: \&quot;8ae072ac-43c9-4c86-8554-cfd430ac1a79\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:09.621917Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b23340fb-fe9b-4405-b340-ed89b75df9f3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.674413752Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.683425883Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.683465526Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.647939140Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.647939982Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.647949990Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.648030552Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.647979466Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot;), &quot;uid&quot;: String(&quot;8ae072ac-43c9-4c86-8554-cfd430ac1a79&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:09.621917Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b23340fb-fe9b-4405-b340-ed89b75df9f3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.674413752Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.683425883Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.683465526Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.647939140Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.647939982Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.647949990Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.648030552Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.647979466Z&quot;)}]}}
[2023-01-31T16:29:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;addf2f6f-454d-4c96-be7b-b1970bcebe85\&quot;,\n    \&quot;uid\&quot;: \&quot;8ae072ac-43c9-4c86-8554-cfd430ac1a79\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:09.621917Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8ba01562-2887-44af-a583-1b772b4da109\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;mSZxTn25W9kx\&quot;,\n        \&quot;username\&quot;: \&quot;user-addf2f6f-454d-4c96-be7b-b1970bcebe85\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.674413752Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.683425883Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.736549432Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.742847395Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.907548275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.907641160Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.908345989Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.907667739Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot;), &quot;uid&quot;: String(&quot;8ae072ac-43c9-4c86-8554-cfd430ac1a79&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:09.621917Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8ba01562-2887-44af-a583-1b772b4da109&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;mSZxTn25W9kx&quot;), &quot;username&quot;: String(&quot;user-addf2f6f-454d-4c96-be7b-b1970bcebe85&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.674413752Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.683425883Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.736549432Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.742847395Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.907548275Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.907641160Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.908345989Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.907667739Z&quot;)}]}}
[2023-01-31T16:29:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;addf2f6f-454d-4c96-be7b-b1970bcebe85\&quot;,\n    \&quot;uid\&quot;: \&quot;8ae072ac-43c9-4c86-8554-cfd430ac1a79\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:09.621917Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8ba01562-2887-44af-a583-1b772b4da109\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;mSZxTn25W9kx\&quot;,\n        \&quot;username\&quot;: \&quot;user-addf2f6f-454d-4c96-be7b-b1970bcebe85\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.674413752Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.683425883Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.736549432Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.742847395Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.907548275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.907641160Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.908345989Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:09.907667739Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot;), &quot;uid&quot;: String(&quot;8ae072ac-43c9-4c86-8554-cfd430ac1a79&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:09.621917Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8ba01562-2887-44af-a583-1b772b4da109&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;mSZxTn25W9kx&quot;), &quot;username&quot;: String(&quot;user-addf2f6f-454d-4c96-be7b-b1970bcebe85&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.674413752Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.683425883Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.736549432Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.742847395Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.907548275Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.907641160Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.908345989Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:09.907667739Z&quot;)}]}}
[2023-01-31T16:29:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:29:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4NDgsImlhdCI6MTY3NTE4MjU0OCwiYXV0aF90aW1lIjoxNjc1MTgyNTQ1LCJqdGkiOiJhN2NhNTFjNS1lY2Q1LTRkODMtYjEwOC1mYjZhNjg4M2YwZjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il9La2VBRnZzZUMyV2N3SXROclBnR1EiLCJzZXNzaW9uX3N0YXRlIjoiNmU4ZGRkZTQtOGI0Yy00MTU3LTg2NWQtYjI2NjdkZWZmNDczIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZlOGRkZGU0LThiNGMtNDE1Ny04NjVkLWIyNjY3ZGVmZjQ3MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.xDlrSKFUZeS3f0irkIdFRME8ftum5Q9z6r6H7JWLF3wu2rWWka6nkzt5ktiRi_8X5rYfNBtaZOjCnU8DqEFiDxeMMZ9USWgPxzoTNmWKW8Fziu1ZJDjusmtZGjPCBqMIhMFsnrOQzPomT-1iLljl861GbQvpiofOFY_XfKLzdEu54Nfr-y8ZjEJqrdEGAaKsBcKa8H_bl1fB_b89jZz4Ztw3L4DYkh_81881mS3yT6T3C60vBT8qq9Crcjh3tDh9NGFO0uFGp_yB9nHFFvw39uwh9FPQdDobWtCUHTENkYtWgAMYl2aj8jY4fMUDKmVmib8EdbEPIb9fGjYJmMGn-g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:29:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot; &quot;device1&quot;
[2023-01-31T16:29:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:29:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot; &quot;gateway1&quot;
[2023-01-31T16:29:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;addf2f6f-454d-4c96-be7b-b1970bcebe85&#x27;
[2023-01-31T16:29:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;addf2f6f-454d-4c96-be7b-b1970bcebe85&quot;
[2023-01-31T16:29:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:29:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:29:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:29:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:29:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNTcsImlhdCI6MTY3NTE4MjU1NywianRpIjoiMDg3MDc5NDEtYjU5OC00NTM2LTkyZjktZTc3ZGFkOTY3YzM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSThJS0VJcGlfSzd3MHYtZzcyTFc4QSIsInNlc3Npb25fc3RhdGUiOiIyNmQwOGFiMi03MjhkLTRjOTgtOTVmZS1hOGViNGIyYTIwYWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjZkMDhhYjItNzI4ZC00Yzk4LTk1ZmUtYThlYjRiMmEyMGFlIn0.led5K0KcJ_FgjkueIRVLx6DbpEfPqHH-3EqDv0Uq1sI
[2023-01-31T16:29:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:29:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNTcsImlhdCI6MTY3NTE4MjU1NywianRpIjoiMDg3MDc5NDEtYjU5OC00NTM2LTkyZjktZTc3ZGFkOTY3YzM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSThJS0VJcGlfSzd3MHYtZzcyTFc4QSIsInNlc3Npb25fc3RhdGUiOiIyNmQwOGFiMi03MjhkLTRjOTgtOTVmZS1hOGViNGIyYTIwYWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjZkMDhhYjItNzI4ZC00Yzk4LTk1ZmUtYThlYjRiMmEyMGFlIn0.led5K0KcJ_FgjkueIRVLx6DbpEfPqHH-3EqDv0Uq1sI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:29:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:18Z INFO  drogue_cloud_tests::resources::apps] Create application: d983c48f-5247-4ed8-82f9-96c1368acbfe
[2023-01-31T16:29:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot;
[2023-01-31T16:29:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d983c48f-5247-4ed8-82f9-96c1368acbfe\&quot;,\n    \&quot;uid\&quot;: \&quot;900fb903-0b35-4e99-977b-fa3878389479\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:18.241431Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;29c3ce2e-c01a-41df-a323-8a7f4b7acb42\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.293032130Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.309904426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.309945043Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.265361200Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.265361941Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.265429628Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.265536327Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.265455737Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot;), &quot;uid&quot;: String(&quot;900fb903-0b35-4e99-977b-fa3878389479&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:18.241431Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;29c3ce2e-c01a-41df-a323-8a7f4b7acb42&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.293032130Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.309904426Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.309945043Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.265361200Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.265361941Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.265429628Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.265536327Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.265455737Z&quot;)}]}}
[2023-01-31T16:29:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d983c48f-5247-4ed8-82f9-96c1368acbfe\&quot;,\n    \&quot;uid\&quot;: \&quot;900fb903-0b35-4e99-977b-fa3878389479\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:18.241431Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1e2c61a0-8110-45b7-9c10-3fe55b9417ec\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fLTVf8mEUMD5\&quot;,\n        \&quot;username\&quot;: \&quot;user-d983c48f-5247-4ed8-82f9-96c1368acbfe\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.293032130Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.309904426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.416025491Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.423750564Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585226303Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585322853Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585569024Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585404466Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot;), &quot;uid&quot;: String(&quot;900fb903-0b35-4e99-977b-fa3878389479&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:18.241431Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1e2c61a0-8110-45b7-9c10-3fe55b9417ec&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fLTVf8mEUMD5&quot;), &quot;username&quot;: String(&quot;user-d983c48f-5247-4ed8-82f9-96c1368acbfe&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.293032130Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.309904426Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.416025491Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.423750564Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585226303Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585322853Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585569024Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585404466Z&quot;)}]}}
[2023-01-31T16:29:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d983c48f-5247-4ed8-82f9-96c1368acbfe\&quot;,\n    \&quot;uid\&quot;: \&quot;900fb903-0b35-4e99-977b-fa3878389479\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:18.241431Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1e2c61a0-8110-45b7-9c10-3fe55b9417ec\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fLTVf8mEUMD5\&quot;,\n        \&quot;username\&quot;: \&quot;user-d983c48f-5247-4ed8-82f9-96c1368acbfe\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.293032130Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.309904426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.416025491Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.423750564Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585226303Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585322853Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585569024Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:18.585404466Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot;), &quot;uid&quot;: String(&quot;900fb903-0b35-4e99-977b-fa3878389479&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:18.241431Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1e2c61a0-8110-45b7-9c10-3fe55b9417ec&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fLTVf8mEUMD5&quot;), &quot;username&quot;: String(&quot;user-d983c48f-5247-4ed8-82f9-96c1368acbfe&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.293032130Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.309904426Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.416025491Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.423750564Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585226303Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585322853Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585569024Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:18.585404466Z&quot;)}]}}
[2023-01-31T16:29:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:29:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4NTcsImlhdCI6MTY3NTE4MjU1NywiYXV0aF90aW1lIjoxNjc1MTgyNTU0LCJqdGkiOiJiOWJhMTkyMC1mNWQ0LTQ5MjItYTlhZC01MDQwMjYyYzhlZDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikk4SUtFSXBpX0s3dzB2LWc3MkxXOEEiLCJzZXNzaW9uX3N0YXRlIjoiMjZkMDhhYjItNzI4ZC00Yzk4LTk1ZmUtYThlYjRiMmEyMGFlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI2ZDA4YWIyLTcyOGQtNGM5OC05NWZlLWE4ZWI0YjJhMjBhZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.qqzlq4DaXdvD2cuLZ2er04-m041qlmCV34D-QBjbXrrov6dOraKTOgk2AQzsQ2iClbBhHavI4hcw_4bgS0mkfdtoU-ujlvnnEbXWFAXXSQReVhMZXdT4RJ73V6zX0EkS0v7XdNOhTOEhxj54InTOXS1FsArmbZ2JVVGH4JQxFOLmTgowKlLhm_K5xkjY4DePFAAa7aaDVZGYDV628sc045rL9d-KEVuhF7DXd-lrRBK9o-FwparSlri9Ncfbf18jqqIFe__kcnO9F0_FsvqNL8Jr_d7zLiEQylKqqReB4dWwRvHCpmMfam6j594RDT9t1y5j3fLS5eixZWuN6W-oig\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot; &quot;device1&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot; &quot;gateway1&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d983c48f-5247-4ed8-82f9-96c1368acbfe&#x27;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d983c48f-5247-4ed8-82f9-96c1368acbfe&quot;
[2023-01-31T16:29:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:29:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:29:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:29:24Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:29:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:26Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNjYsImlhdCI6MTY3NTE4MjU2NiwianRpIjoiMzIxOTAwMmEtNGFjNi00YWIwLWIxYzEtMWNiNjBmZDczYzJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia2w1TkVwMHNvR0lhSW5jNTJ6RGR1USIsInNlc3Npb25fc3RhdGUiOiI5ZDMzOWJlNi1iNmEyLTRjNmEtYWI0Ny00YjY3NDFjZWMyYWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWQzMzliZTYtYjZhMi00YzZhLWFiNDctNGI2NzQxY2VjMmFiIn0.li-q5IJ53JlLcMSIDyIKGz0ORTaDMLVvpdxIy7DGlEw
[2023-01-31T16:29:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:29:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNjYsImlhdCI6MTY3NTE4MjU2NiwianRpIjoiMzIxOTAwMmEtNGFjNi00YWIwLWIxYzEtMWNiNjBmZDczYzJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia2w1TkVwMHNvR0lhSW5jNTJ6RGR1USIsInNlc3Npb25fc3RhdGUiOiI5ZDMzOWJlNi1iNmEyLTRjNmEtYWI0Ny00YjY3NDFjZWMyYWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWQzMzliZTYtYjZhMi00YzZhLWFiNDctNGI2NzQxY2VjMmFiIn0.li-q5IJ53JlLcMSIDyIKGz0ORTaDMLVvpdxIy7DGlEw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:29:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:26Z INFO  drogue_cloud_tests::resources::apps] Create application: 687f6cb2-c966-4280-ae84-6d5b77879558
[2023-01-31T16:29:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot;
[2023-01-31T16:29:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;687f6cb2-c966-4280-ae84-6d5b77879558\&quot;,\n    \&quot;uid\&quot;: \&quot;f61391db-f24f-4cd2-991b-f4db3d6b0bed\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:27.042514Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;08846c03-2d22-4427-8e87-4de49b99d475\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096509065Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096510478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096510849Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096511830Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096512622Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096579637Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096699191Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.096610014Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot;), &quot;uid&quot;: String(&quot;f61391db-f24f-4cd2-991b-f4db3d6b0bed&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:27.042514Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;08846c03-2d22-4427-8e87-4de49b99d475&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096509065Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096510478Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096510849Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096511830Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096512622Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096579637Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096699191Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.096610014Z&quot;)}]}}
[2023-01-31T16:29:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;687f6cb2-c966-4280-ae84-6d5b77879558\&quot;,\n    \&quot;uid\&quot;: \&quot;f61391db-f24f-4cd2-991b-f4db3d6b0bed\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:27.042514Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;85e9d573-05d5-4fc3-bb7f-4cd39b97c1a4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VQWw43Ui2EMb\&quot;,\n        \&quot;username\&quot;: \&quot;user-687f6cb2-c966-4280-ae84-6d5b77879558\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.133621650Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.141380837Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.256415909Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.261697481Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.644184418Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.644967392Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.645197693Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.645006495Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot;), &quot;uid&quot;: String(&quot;f61391db-f24f-4cd2-991b-f4db3d6b0bed&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:27.042514Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;85e9d573-05d5-4fc3-bb7f-4cd39b97c1a4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VQWw43Ui2EMb&quot;), &quot;username&quot;: String(&quot;user-687f6cb2-c966-4280-ae84-6d5b77879558&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.133621650Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.141380837Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.256415909Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.261697481Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.644184418Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.644967392Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.645197693Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.645006495Z&quot;)}]}}
[2023-01-31T16:29:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;687f6cb2-c966-4280-ae84-6d5b77879558\&quot;,\n    \&quot;uid\&quot;: \&quot;f61391db-f24f-4cd2-991b-f4db3d6b0bed\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:27.042514Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;85e9d573-05d5-4fc3-bb7f-4cd39b97c1a4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VQWw43Ui2EMb\&quot;,\n        \&quot;username\&quot;: \&quot;user-687f6cb2-c966-4280-ae84-6d5b77879558\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.133621650Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.141380837Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.256415909Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.261697481Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.644184418Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.644967392Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.645197693Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:27.645006495Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot;), &quot;uid&quot;: String(&quot;f61391db-f24f-4cd2-991b-f4db3d6b0bed&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:27.042514Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;85e9d573-05d5-4fc3-bb7f-4cd39b97c1a4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VQWw43Ui2EMb&quot;), &quot;username&quot;: String(&quot;user-687f6cb2-c966-4280-ae84-6d5b77879558&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.133621650Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.141380837Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.256415909Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.261697481Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.644184418Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.644967392Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.645197693Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:27.645006495Z&quot;)}]}}
[2023-01-31T16:29:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:29:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4NjYsImlhdCI6MTY3NTE4MjU2NiwiYXV0aF90aW1lIjoxNjc1MTgyNTYzLCJqdGkiOiI2ZDg4ODExNi0xOTQxLTRiZDAtODIxYS02NjllMTFlMGYyNjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtsNU5FcDBzb0dJYUluYzUyekRkdVEiLCJzZXNzaW9uX3N0YXRlIjoiOWQzMzliZTYtYjZhMi00YzZhLWFiNDctNGI2NzQxY2VjMmFiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlkMzM5YmU2LWI2YTItNGM2YS1hYjQ3LTRiNjc0MWNlYzJhYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FnKVGRkra1xeUh0W9j6kGGWq6wdBNbBiPHLLeVq792RDD3R716D3AoAV7LlrBqsGA3wI5i2sOnn5Zlb3syIAPVSnv3Sujv8Jp_5viqZoHCErHwDCRR1hWC8Aq98_kQiXN45c7h6NUHS1H6B5F0sWG7KPE7lv60aNt87tqI4STLy9fMgA7NrBkQfhUv1qWb_F2ek0cw_NHTdm9vEN8e5fHAFcAxWW2A0bz1pf-fnFJ_j-c8xWcYsGeBOfgYMHHdNI43fF-T-o3kefc4mB1hMCWECQojpYQn382U8e-x9GWRFX6zyScF6nuH67ZI5aVKxbJ6Fo25GnbG_mP2R-D2L3rw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot; &quot;device1&quot;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;687f6cb2-c966-4280-ae84-6d5b77879558&#x27;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;687f6cb2-c966-4280-ae84-6d5b77879558&quot;
[2023-01-31T16:29:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:29:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:29:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:29:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:29:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNzUsImlhdCI6MTY3NTE4MjU3NSwianRpIjoiMDk4NWQwNWItNTVkOS00MmIwLWExODktODNkNjAwYjE2NTdkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZWM1NE5xTFh4Rmh0eV9jdDZsM29jQSIsInNlc3Npb25fc3RhdGUiOiI0NDY4MzM5YS00OWZkLTQwYWEtYjA4Yy0zNTgwMWMzOGM0MzQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDQ2ODMzOWEtNDlmZC00MGFhLWIwOGMtMzU4MDFjMzhjNDM0In0.z255ZDBtJGM7r_hx8pM3HsLy6zkqEtgfxNL2wZk-eVo
[2023-01-31T16:29:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:29:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzNzUsImlhdCI6MTY3NTE4MjU3NSwianRpIjoiMDk4NWQwNWItNTVkOS00MmIwLWExODktODNkNjAwYjE2NTdkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZWM1NE5xTFh4Rmh0eV9jdDZsM29jQSIsInNlc3Npb25fc3RhdGUiOiI0NDY4MzM5YS00OWZkLTQwYWEtYjA4Yy0zNTgwMWMzOGM0MzQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDQ2ODMzOWEtNDlmZC00MGFhLWIwOGMtMzU4MDFjMzhjNDM0In0.z255ZDBtJGM7r_hx8pM3HsLy6zkqEtgfxNL2wZk-eVo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:29:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:36Z INFO  drogue_cloud_tests::resources::apps] Create application: 34ecd2ad-de1e-4165-9d1f-71f556a6583a
[2023-01-31T16:29:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot;
[2023-01-31T16:29:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a\&quot;,\n    \&quot;uid\&quot;: \&quot;68986a0c-25ef-4df6-9cfc-e545029e7c56\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:36.161890Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;df229294-42e6-4047-97b5-13632380bf95\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.210717792Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.216569109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.216606900Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.183039437Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.183040059Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.183045318Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.183090562Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.183068612Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot;), &quot;uid&quot;: String(&quot;68986a0c-25ef-4df6-9cfc-e545029e7c56&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:36.161890Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;df229294-42e6-4047-97b5-13632380bf95&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.210717792Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.216569109Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.216606900Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.183039437Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.183040059Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.183045318Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.183090562Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.183068612Z&quot;)}]}}
[2023-01-31T16:29:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a\&quot;,\n    \&quot;uid\&quot;: \&quot;68986a0c-25ef-4df6-9cfc-e545029e7c56\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:36.161890Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d3f77db1-89b8-411f-b11f-4c57176a78fa\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cEwhpXiucpjG\&quot;,\n        \&quot;username\&quot;: \&quot;user-34ecd2ad-de1e-4165-9d1f-71f556a6583a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.210717792Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.216569109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.274540530Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.281899037Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.433852593Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.433986073Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.434125794Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.434020537Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot;), &quot;uid&quot;: String(&quot;68986a0c-25ef-4df6-9cfc-e545029e7c56&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:36.161890Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d3f77db1-89b8-411f-b11f-4c57176a78fa&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cEwhpXiucpjG&quot;), &quot;username&quot;: String(&quot;user-34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.210717792Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.216569109Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.274540530Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.281899037Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.433852593Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.433986073Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.434125794Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.434020537Z&quot;)}]}}
[2023-01-31T16:29:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a\&quot;,\n    \&quot;uid\&quot;: \&quot;68986a0c-25ef-4df6-9cfc-e545029e7c56\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:36.161890Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d3f77db1-89b8-411f-b11f-4c57176a78fa\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cEwhpXiucpjG\&quot;,\n        \&quot;username\&quot;: \&quot;user-34ecd2ad-de1e-4165-9d1f-71f556a6583a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.210717792Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.216569109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.274540530Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.281899037Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.433852593Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.433986073Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.434125794Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:36.434020537Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot;), &quot;uid&quot;: String(&quot;68986a0c-25ef-4df6-9cfc-e545029e7c56&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:36.161890Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d3f77db1-89b8-411f-b11f-4c57176a78fa&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cEwhpXiucpjG&quot;), &quot;username&quot;: String(&quot;user-34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.210717792Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.216569109Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.274540530Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.281899037Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.433852593Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.433986073Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.434125794Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:36.434020537Z&quot;)}]}}
[2023-01-31T16:29:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:29:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4NzUsImlhdCI6MTY3NTE4MjU3NSwiYXV0aF90aW1lIjoxNjc1MTgyNTcyLCJqdGkiOiI2MjU3ZDI1Yi1kYjAwLTRjZTgtYjc3ZC1hZTY2NjI3ZDc2MDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImVjNTROcUxYeEZodHlfY3Q2bDNvY0EiLCJzZXNzaW9uX3N0YXRlIjoiNDQ2ODMzOWEtNDlmZC00MGFhLWIwOGMtMzU4MDFjMzhjNDM0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ0NjgzMzlhLTQ5ZmQtNDBhYS1iMDhjLTM1ODAxYzM4YzQzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.r77IvUYhjhB-IHRU713d5LhvVexx2SrZBlnrs2r5lwgt484DGK4Kf4hmGN8RkkNtz0b_Gax80IdsIEPEKRXDSUiQT0AUytLHZGzkD-dBORquTuo8gDK8lfUsEob0s5NnhaUnqEBX-2-u50rHlpJd6kyrQbfmvxo932XjCIe90REFDWzTVxV-Nm-GSWRhZ2zX_KdSWLX8uVpYuFXFfLHKvdOONkECysW-m2V1AYOkDgonnxv1hVTqP0_F6WiqqEWUBEzsnK0PwcrqUOVf0zTWqU6k3FyOeJDz_jC0RZ0Ht8RGngNxb7jFTy4-_OjvItvIggMNxrlSPMi9UEp2tiFAHw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot; &quot;device1&quot;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;34ecd2ad-de1e-4165-9d1f-71f556a6583a&#x27;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;34ecd2ad-de1e-4165-9d1f-71f556a6583a&quot;
[2023-01-31T16:29:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:29:39Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:29:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:40Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:29:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:29:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:43Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzODMsImlhdCI6MTY3NTE4MjU4MywianRpIjoiNWM1NmRkOTMtZWRhYS00YzE0LTk3MDEtNTI5ZTg1ZjZlMWRhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaVVWbWVERnU2dUtZdkU0Z1FZM19MUSIsInNlc3Npb25fc3RhdGUiOiI0YzdiNDU5My0zNDUzLTQwMDgtYTlmOS1hN2FlZDgzODQ5MjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGM3YjQ1OTMtMzQ1My00MDA4LWE5ZjktYTdhZWQ4Mzg0OTIxIn0.QayltjtKZnDshHBaJ6-4zFJJdNKZJJyqLmdg8n0VnJw
[2023-01-31T16:29:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:29:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzODMsImlhdCI6MTY3NTE4MjU4MywianRpIjoiNWM1NmRkOTMtZWRhYS00YzE0LTk3MDEtNTI5ZTg1ZjZlMWRhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaVVWbWVERnU2dUtZdkU0Z1FZM19MUSIsInNlc3Npb25fc3RhdGUiOiI0YzdiNDU5My0zNDUzLTQwMDgtYTlmOS1hN2FlZDgzODQ5MjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGM3YjQ1OTMtMzQ1My00MDA4LWE5ZjktYTdhZWQ4Mzg0OTIxIn0.QayltjtKZnDshHBaJ6-4zFJJdNKZJJyqLmdg8n0VnJw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:29:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:44Z INFO  drogue_cloud_tests::resources::apps] Create application: ab11548f-c82b-4e76-a4d5-15ba916b45f4
[2023-01-31T16:29:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot;
[2023-01-31T16:29:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4\&quot;,\n    \&quot;uid\&quot;: \&quot;12630fd8-8880-41d1-9f9e-f0fcec16680a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:44.688335Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;458ebd5d-3d48-442f-8a86-e374eb29fda1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.727862789Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.734629589Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.734741549Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.700430775Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.700431536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.700488573Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.700521805Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.700556109Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot;), &quot;uid&quot;: String(&quot;12630fd8-8880-41d1-9f9e-f0fcec16680a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:44.688335Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;458ebd5d-3d48-442f-8a86-e374eb29fda1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.727862789Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.734629589Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.734741549Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.700430775Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.700431536Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.700488573Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.700521805Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.700556109Z&quot;)}]}}
[2023-01-31T16:29:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4\&quot;,\n    \&quot;uid\&quot;: \&quot;12630fd8-8880-41d1-9f9e-f0fcec16680a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:44.688335Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f8eee922-b268-4f14-8326-af4121a06a37\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nSesAUP5cUFt\&quot;,\n        \&quot;username\&quot;: \&quot;user-ab11548f-c82b-4e76-a4d5-15ba916b45f4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.727862789Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.734629589Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.788620132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.795426506Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936333175Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936354755Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936383600Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936559328Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot;), &quot;uid&quot;: String(&quot;12630fd8-8880-41d1-9f9e-f0fcec16680a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:44.688335Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f8eee922-b268-4f14-8326-af4121a06a37&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nSesAUP5cUFt&quot;), &quot;username&quot;: String(&quot;user-ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.727862789Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.734629589Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.788620132Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.795426506Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936333175Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936354755Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936383600Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936559328Z&quot;)}]}}
[2023-01-31T16:29:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4\&quot;,\n    \&quot;uid\&quot;: \&quot;12630fd8-8880-41d1-9f9e-f0fcec16680a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:44.688335Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f8eee922-b268-4f14-8326-af4121a06a37\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nSesAUP5cUFt\&quot;,\n        \&quot;username\&quot;: \&quot;user-ab11548f-c82b-4e76-a4d5-15ba916b45f4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.727862789Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.734629589Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.788620132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.795426506Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936333175Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936354755Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936383600Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:44.936559328Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot;), &quot;uid&quot;: String(&quot;12630fd8-8880-41d1-9f9e-f0fcec16680a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:44.688335Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f8eee922-b268-4f14-8326-af4121a06a37&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nSesAUP5cUFt&quot;), &quot;username&quot;: String(&quot;user-ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.727862789Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.734629589Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.788620132Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.795426506Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936333175Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936354755Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936383600Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:44.936559328Z&quot;)}]}}
[2023-01-31T16:29:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:29:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4ODQsImlhdCI6MTY3NTE4MjU4NCwiYXV0aF90aW1lIjoxNjc1MTgyNTgxLCJqdGkiOiJhN2VhM2U0YS1jNmE0LTQwMjUtYThmZC04NjYzMGFjNGNmMTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlVVm1lREZ1NnVLWXZFNGdRWTNfTFEiLCJzZXNzaW9uX3N0YXRlIjoiNGM3YjQ1OTMtMzQ1My00MDA4LWE5ZjktYTdhZWQ4Mzg0OTIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjN2I0NTkzLTM0NTMtNDAwOC1hOWY5LWE3YWVkODM4NDkyMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.F65MiiRF33eNxZrjE2tkBDZcFwvM-0vTkhr0GFeysYu4X9VMFIG0F8Jr7SBq70GDIbEufm3mBdqkNWCT3ZcHBooRFpXqHVau16RWNmu6wmeUeICFdJ8E3n4WqNst1YxwUEZhzVDkyaHRl4DjT6PM0GuKi3WsoBT_tysLc_XvHdBZm_8_Faw_TlhskVV9X8FTqob3VVFG35eNnUWRQCOmYHjsL65p7WxbOuMYyaQuyADi68iDFeNxTbG1KllJ1mbJatJ1Brm35KbtdCA3Zlbmx5tJ3-XO1SMUW4XDuhODghbsq3MhOy9DLtxqs8bjTVXOuIz49NoVovewxAYMFI60Qw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:29:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot; &quot;device1&quot;
[2023-01-31T16:29:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ab11548f-c82b-4e76-a4d5-15ba916b45f4&#x27;
[2023-01-31T16:29:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ab11548f-c82b-4e76-a4d5-15ba916b45f4&quot;
[2023-01-31T16:29:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:29:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:29:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:29:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:29:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzOTIsImlhdCI6MTY3NTE4MjU5MiwianRpIjoiNTkxNWIzOTYtZDkwZC00ZDQ3LWEwMDAtM2Y4N2YwN2FhYjAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUGl6a213cjdPbHhxOFdPYmlFZjY4dyIsInNlc3Npb25fc3RhdGUiOiJkNTExNTNjZi0yMjMwLTRjMDUtYmI0NC1lYTEyZWEyZWU1ZTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDUxMTUzY2YtMjIzMC00YzA1LWJiNDQtZWExMmVhMmVlNWUzIn0.q_fq-JM_2PkfPJOICrhCKWgWVQ1-TVp40V326dFaOKk
[2023-01-31T16:29:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:29:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQzOTIsImlhdCI6MTY3NTE4MjU5MiwianRpIjoiNTkxNWIzOTYtZDkwZC00ZDQ3LWEwMDAtM2Y4N2YwN2FhYjAwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUGl6a213cjdPbHhxOFdPYmlFZjY4dyIsInNlc3Npb25fc3RhdGUiOiJkNTExNTNjZi0yMjMwLTRjMDUtYmI0NC1lYTEyZWEyZWU1ZTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDUxMTUzY2YtMjIzMC00YzA1LWJiNDQtZWExMmVhMmVlNWUzIn0.q_fq-JM_2PkfPJOICrhCKWgWVQ1-TVp40V326dFaOKk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:29:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:53Z INFO  drogue_cloud_tests::resources::apps] Create application: d93226f2-1909-4987-8313-bf061cacea04
[2023-01-31T16:29:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d93226f2-1909-4987-8313-bf061cacea04&quot;
[2023-01-31T16:29:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d93226f2-1909-4987-8313-bf061cacea04&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d93226f2-1909-4987-8313-bf061cacea04\&quot;,\n    \&quot;uid\&quot;: \&quot;7ded9623-85b1-4dc6-9e95-ec949db91e8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:53.322313Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d7d76c74-a0eb-48f6-9620-21b808a5b28d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.367426210Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.372652898Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.372686200Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.341247010Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.341247621Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.341276865Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.341365841Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.341303826Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d93226f2-1909-4987-8313-bf061cacea04&quot;), &quot;uid&quot;: String(&quot;7ded9623-85b1-4dc6-9e95-ec949db91e8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:53.322313Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d7d76c74-a0eb-48f6-9620-21b808a5b28d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.367426210Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.372652898Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.372686200Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.341247010Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.341247621Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.341276865Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.341365841Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.341303826Z&quot;)}]}}
[2023-01-31T16:29:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d93226f2-1909-4987-8313-bf061cacea04&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d93226f2-1909-4987-8313-bf061cacea04\&quot;,\n    \&quot;uid\&quot;: \&quot;7ded9623-85b1-4dc6-9e95-ec949db91e8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:53.322313Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;16ff0623-eed6-4f20-b2ba-4a0fcfdc24f8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tIpSsdqa2cJy\&quot;,\n        \&quot;username\&quot;: \&quot;user-d93226f2-1909-4987-8313-bf061cacea04\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.367426210Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.372652898Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.441352933Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.447370602Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607106108Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607121949Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607492833Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607150582Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d93226f2-1909-4987-8313-bf061cacea04&quot;), &quot;uid&quot;: String(&quot;7ded9623-85b1-4dc6-9e95-ec949db91e8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:53.322313Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;16ff0623-eed6-4f20-b2ba-4a0fcfdc24f8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tIpSsdqa2cJy&quot;), &quot;username&quot;: String(&quot;user-d93226f2-1909-4987-8313-bf061cacea04&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.367426210Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.372652898Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.441352933Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.447370602Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607106108Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607121949Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607492833Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607150582Z&quot;)}]}}
[2023-01-31T16:29:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d93226f2-1909-4987-8313-bf061cacea04&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d93226f2-1909-4987-8313-bf061cacea04\&quot;,\n    \&quot;uid\&quot;: \&quot;7ded9623-85b1-4dc6-9e95-ec949db91e8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:29:53.322313Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;16ff0623-eed6-4f20-b2ba-4a0fcfdc24f8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tIpSsdqa2cJy\&quot;,\n        \&quot;username\&quot;: \&quot;user-d93226f2-1909-4987-8313-bf061cacea04\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.367426210Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.372652898Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.441352933Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.447370602Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607106108Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607121949Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607492833Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:29:53.607150582Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d93226f2-1909-4987-8313-bf061cacea04&quot;), &quot;uid&quot;: String(&quot;7ded9623-85b1-4dc6-9e95-ec949db91e8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:29:53.322313Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;16ff0623-eed6-4f20-b2ba-4a0fcfdc24f8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tIpSsdqa2cJy&quot;), &quot;username&quot;: String(&quot;user-d93226f2-1909-4987-8313-bf061cacea04&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.367426210Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.372652898Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.441352933Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.447370602Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607106108Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607121949Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607492833Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:29:53.607150582Z&quot;)}]}}
[2023-01-31T16:29:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d93226f2-1909-4987-8313-bf061cacea04&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:29:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI4OTIsImlhdCI6MTY3NTE4MjU5MiwiYXV0aF90aW1lIjoxNjc1MTgyNTg5LCJqdGkiOiI0ZjJmNmUyYy03M2Y4LTQ4YjgtOGQ3NS1iYmJjNWU5Mzc0OGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBpemttd3I3T2x4cThXT2JpRWY2OHciLCJzZXNzaW9uX3N0YXRlIjoiZDUxMTUzY2YtMjIzMC00YzA1LWJiNDQtZWExMmVhMmVlNWUzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ1MTE1M2NmLTIyMzAtNGMwNS1iYjQ0LWVhMTJlYTJlZTVlMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.RGF78bgLorARXfRnRyKHcElQXBrRqIwM9PEGJdi-jbYYB1pMircojE84IHc0Squ14FwBXZw279DuvKfeOVU9l6aPyvezTi2wID3bElz5R4D8o3rPFhzgOEycNdkz0hNSIwkGdnAif3KJl6WtYtL5vqDo3EclsuARXAuM_4ZbCCtrmukfZLTYpeVvhCPOVUgSC4xOnDPBAuzPvOSdGWrXan8tadCj7wCzW7PGARqRlpeya_f2yC7F_ZY9MQeZA2bbKHxGlxElQnb-fjfVYkGBQZbRr0lpfLyu1GCGzgOzALSLauWBumc-bGlrDx5jnbCNItTvkkBE_Su7A3PI6zGBRA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d93226f2-1909-4987-8313-bf061cacea04&quot; &quot;device1&quot;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d93226f2-1909-4987-8313-bf061cacea04&#x27;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d93226f2-1909-4987-8313-bf061cacea04&quot;
[2023-01-31T16:29:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:29:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:29:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:29:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:29:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:29:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:29:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:29:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MDAsImlhdCI6MTY3NTE4MjYwMCwianRpIjoiMTYxZGM4NTgtZDgwYi00ZTcyLTgxYTctMDY1NzYxYmVlOWU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMkY4a3AzZy1GRHJaNklZYXFsNmd4QSIsInNlc3Npb25fc3RhdGUiOiI5YWYwNTkwNS03MmYxLTRiMTAtYmY0Zi0wMjM2ZGZkZDMyMGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWFmMDU5MDUtNzJmMS00YjEwLWJmNGYtMDIzNmRmZGQzMjBhIn0.1Pq8dMgv9YXe-6URuXR7gdGo2lhRIPZivv4U_aCt6-E
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MDAsImlhdCI6MTY3NTE4MjYwMCwianRpIjoiMTYxZGM4NTgtZDgwYi00ZTcyLTgxYTctMDY1NzYxYmVlOWU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMkY4a3AzZy1GRHJaNklZYXFsNmd4QSIsInNlc3Npb25fc3RhdGUiOiI5YWYwNTkwNS03MmYxLTRiMTAtYmY0Zi0wMjM2ZGZkZDMyMGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWFmMDU5MDUtNzJmMS00YjEwLWJmNGYtMDIzNmRmZGQzMjBhIn0.1Pq8dMgv9YXe-6URuXR7gdGo2lhRIPZivv4U_aCt6-E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::resources::apps] Create application: ebaea7b8-6103-4853-8080-30876fe2b881
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot;
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ebaea7b8-6103-4853-8080-30876fe2b881\&quot;,\n    \&quot;uid\&quot;: \&quot;75d85b01-485b-484f-81de-ff9683304c3d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:01.904403Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b450863c-e2fa-47d2-8772-d9c6f2673acd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.949700429Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.955539754Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.955605487Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.923885470Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.923886021Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.923894156Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.923982993Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.923956533Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot;), &quot;uid&quot;: String(&quot;75d85b01-485b-484f-81de-ff9683304c3d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:01.904403Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b450863c-e2fa-47d2-8772-d9c6f2673acd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.949700429Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.955539754Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.955605487Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.923885470Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.923886021Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.923894156Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.923982993Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.923956533Z&quot;)}]}}
[2023-01-31T16:30:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:30:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ebaea7b8-6103-4853-8080-30876fe2b881\&quot;,\n    \&quot;uid\&quot;: \&quot;75d85b01-485b-484f-81de-ff9683304c3d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:01.904403Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b38c72fd-7f43-40c1-93d3-b2fc002030b7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FfwbK37FoZHS\&quot;,\n        \&quot;username\&quot;: \&quot;user-ebaea7b8-6103-4853-8080-30876fe2b881\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.949700429Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.955539754Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.017106813Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.025868797Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177275022Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177291543Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177377634Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177322381Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot;), &quot;uid&quot;: String(&quot;75d85b01-485b-484f-81de-ff9683304c3d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:01.904403Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b38c72fd-7f43-40c1-93d3-b2fc002030b7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FfwbK37FoZHS&quot;), &quot;username&quot;: String(&quot;user-ebaea7b8-6103-4853-8080-30876fe2b881&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.949700429Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.955539754Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.017106813Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.025868797Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177275022Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177291543Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177377634Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177322381Z&quot;)}]}}
[2023-01-31T16:30:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ebaea7b8-6103-4853-8080-30876fe2b881\&quot;,\n    \&quot;uid\&quot;: \&quot;75d85b01-485b-484f-81de-ff9683304c3d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:01.904403Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b38c72fd-7f43-40c1-93d3-b2fc002030b7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FfwbK37FoZHS\&quot;,\n        \&quot;username\&quot;: \&quot;user-ebaea7b8-6103-4853-8080-30876fe2b881\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.949700429Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:01.955539754Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.017106813Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.025868797Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177275022Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177291543Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177377634Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:02.177322381Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot;), &quot;uid&quot;: String(&quot;75d85b01-485b-484f-81de-ff9683304c3d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:01.904403Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b38c72fd-7f43-40c1-93d3-b2fc002030b7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FfwbK37FoZHS&quot;), &quot;username&quot;: String(&quot;user-ebaea7b8-6103-4853-8080-30876fe2b881&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.949700429Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:01.955539754Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.017106813Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.025868797Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177275022Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177291543Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177377634Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:02.177322381Z&quot;)}]}}
[2023-01-31T16:30:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:30:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5MDEsImlhdCI6MTY3NTE4MjYwMSwiYXV0aF90aW1lIjoxNjc1MTgyNTk4LCJqdGkiOiI0ZmYyNzQ0Ny02ODMzLTRkZmUtYjViMC01MWU3NGNkYWE1MGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJGOGtwM2ctRkRyWjZJWWFxbDZneEEiLCJzZXNzaW9uX3N0YXRlIjoiOWFmMDU5MDUtNzJmMS00YjEwLWJmNGYtMDIzNmRmZGQzMjBhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlhZjA1OTA1LTcyZjEtNGIxMC1iZjRmLTAyMzZkZmRkMzIwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.rb6uc4x5QOsyeaO51w2VKyVNpqlWyM5d_NtWb3ED_Y2qv8u4fh6Ii-pfJpbiT_Y5EPz5dmKytf4h6CkNj0JVNFTDHE_rE7MSE1X2anpNAl4j-sMK8dySrgEoXXSf7SV5Ov5H902OCNdU4rV2fmcENJWCsJ9Z-jE4956hXtz_sajkHPmP8m9kw-UsmcJkIEmpe29IKpmDAMBWCYZSwOzviv786NoCCPZCQe7sB9GT0TSTzoZKwu4fi8Ng0d0gIsTWpdPlLzQPlBkWXbtYoTob69RI5XjDBQMhxhstmav3UXX5vONEjfkx0oGziLR8Pex2iCPtzfldPkN4nBWeG8Bv6Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot; &quot;device1&quot;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ebaea7b8-6103-4853-8080-30876fe2b881&#x27;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ebaea7b8-6103-4853-8080-30876fe2b881&quot;
[2023-01-31T16:30:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:30:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:30:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:30:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:30:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MDksImlhdCI6MTY3NTE4MjYwOSwianRpIjoiNGQyZGE3N2UtZjE3ZC00YzRjLTg5M2MtNjUyM2VlZDllNTU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUlpzajlSM3pPdHNxTjRNdWxRdzc3USIsInNlc3Npb25fc3RhdGUiOiJmNmEyMjc3Ny01NTkwLTRlNDItOTE5NS05ZWFhN2EzMDAxNmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjZhMjI3NzctNTU5MC00ZTQyLTkxOTUtOWVhYTdhMzAwMTZiIn0.i7oslMOJ7S0k2jof0s4Fy_wLhdzO_cEErKzogi8plYY
[2023-01-31T16:30:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:30:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MDksImlhdCI6MTY3NTE4MjYwOSwianRpIjoiNGQyZGE3N2UtZjE3ZC00YzRjLTg5M2MtNjUyM2VlZDllNTU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUlpzajlSM3pPdHNxTjRNdWxRdzc3USIsInNlc3Npb25fc3RhdGUiOiJmNmEyMjc3Ny01NTkwLTRlNDItOTE5NS05ZWFhN2EzMDAxNmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjZhMjI3NzctNTU5MC00ZTQyLTkxOTUtOWVhYTdhMzAwMTZiIn0.i7oslMOJ7S0k2jof0s4Fy_wLhdzO_cEErKzogi8plYY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:30:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:10Z INFO  drogue_cloud_tests::resources::apps] Create application: 1160b3e8-6df1-47c4-a456-172f26154cca
[2023-01-31T16:30:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot;
[2023-01-31T16:30:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1160b3e8-6df1-47c4-a456-172f26154cca\&quot;,\n    \&quot;uid\&quot;: \&quot;817df847-8c5b-43cb-b4b8-dd2c70c1c079\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:10.484391Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;02f1e27b-aa90-494d-a81c-d92802f10022\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.527971452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.537246394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.537283193Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.499341015Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.499341746Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.499349100Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.499400026Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.499424601Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot;), &quot;uid&quot;: String(&quot;817df847-8c5b-43cb-b4b8-dd2c70c1c079&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:10.484391Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;02f1e27b-aa90-494d-a81c-d92802f10022&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.527971452Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.537246394Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.537283193Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.499341015Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.499341746Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.499349100Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.499400026Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.499424601Z&quot;)}]}}
[2023-01-31T16:30:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1160b3e8-6df1-47c4-a456-172f26154cca\&quot;,\n    \&quot;uid\&quot;: \&quot;817df847-8c5b-43cb-b4b8-dd2c70c1c079\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:10.484391Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;29586ddc-44ea-4728-8ecb-7447b2d2d3ee\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;eulZdTLZ1mtj\&quot;,\n        \&quot;username\&quot;: \&quot;user-1160b3e8-6df1-47c4-a456-172f26154cca\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.527971452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.537246394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.612559684Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.621444577Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782072597Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782094317Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782124674Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782175159Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot;), &quot;uid&quot;: String(&quot;817df847-8c5b-43cb-b4b8-dd2c70c1c079&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:10.484391Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;29586ddc-44ea-4728-8ecb-7447b2d2d3ee&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;eulZdTLZ1mtj&quot;), &quot;username&quot;: String(&quot;user-1160b3e8-6df1-47c4-a456-172f26154cca&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.527971452Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.537246394Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.612559684Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.621444577Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782072597Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782094317Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782124674Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782175159Z&quot;)}]}}
[2023-01-31T16:30:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1160b3e8-6df1-47c4-a456-172f26154cca\&quot;,\n    \&quot;uid\&quot;: \&quot;817df847-8c5b-43cb-b4b8-dd2c70c1c079\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:10.484391Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;29586ddc-44ea-4728-8ecb-7447b2d2d3ee\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;eulZdTLZ1mtj\&quot;,\n        \&quot;username\&quot;: \&quot;user-1160b3e8-6df1-47c4-a456-172f26154cca\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.527971452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.537246394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.612559684Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.621444577Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782072597Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782094317Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782124674Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:10.782175159Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot;), &quot;uid&quot;: String(&quot;817df847-8c5b-43cb-b4b8-dd2c70c1c079&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:10.484391Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;29586ddc-44ea-4728-8ecb-7447b2d2d3ee&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;eulZdTLZ1mtj&quot;), &quot;username&quot;: String(&quot;user-1160b3e8-6df1-47c4-a456-172f26154cca&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.527971452Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.537246394Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.612559684Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.621444577Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782072597Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782094317Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782124674Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:10.782175159Z&quot;)}]}}
[2023-01-31T16:30:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:30:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5MDksImlhdCI6MTY3NTE4MjYwOSwiYXV0aF90aW1lIjoxNjc1MTgyNjA2LCJqdGkiOiJhYWYzZWE2Zi1lMTQyLTRlMjktODE1Mi04YTAxODI5NDVkYzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJac2o5UjN6T3RzcU40TXVsUXc3N1EiLCJzZXNzaW9uX3N0YXRlIjoiZjZhMjI3NzctNTU5MC00ZTQyLTkxOTUtOWVhYTdhMzAwMTZiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2YTIyNzc3LTU1OTAtNGU0Mi05MTk1LTllYWE3YTMwMDE2YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.DMcODLWtf9erxPstZBwXnGOwgiswoY_I57ZZRDAIJAckmAG-jTdhrKCdeV0unVUa8-rC9ZjLaip_QynqHpDPc0hoO2MSds-YwRN6ew3uVYuq8wPCWhv8C03RTq87qpcMuuuvqOWRJTvVzzPe_Eo-Hy98lDvz9s2gTM4qHZgcsYo2cNAt03WVdFIB7LEK6H5EbFqnQO-EMl-TUvJfXmA-371ZtMsonOk_F3l16m3sQuGqA32qAaRY3KHaMe0i6f2PoPPA8LK0lWrMEHCXxYEVV9HeVDpP77lDik_btBK3IDgOu2zYdNajb4RbAsW6IuKPY1ytEpTNC2nPVTAcIzKDHw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot; &quot;device1&quot;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1160b3e8-6df1-47c4-a456-172f26154cca&#x27;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1160b3e8-6df1-47c4-a456-172f26154cca&quot;
[2023-01-31T16:30:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:30:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:30:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:30:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:30:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MTgsImlhdCI6MTY3NTE4MjYxOCwianRpIjoiNTU4MjY2MDctNWEyMi00OWY3LWJjM2YtNGMxOWM1ZTMxMTMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiN2FKY01PVTY5V2w3b0x5OUdTblpldyIsInNlc3Npb25fc3RhdGUiOiIzYzI0YzgxMy0xNjYxLTQ1MjgtODczYS04MTliZjkxOGQ0ZGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2MyNGM4MTMtMTY2MS00NTI4LTg3M2EtODE5YmY5MThkNGRhIn0.PlmYuWMLBQK-L0Q-_xpap5DIiscFsH9rE_iyDuKONHc
[2023-01-31T16:30:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:30:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MTgsImlhdCI6MTY3NTE4MjYxOCwianRpIjoiNTU4MjY2MDctNWEyMi00OWY3LWJjM2YtNGMxOWM1ZTMxMTMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiN2FKY01PVTY5V2w3b0x5OUdTblpldyIsInNlc3Npb25fc3RhdGUiOiIzYzI0YzgxMy0xNjYxLTQ1MjgtODczYS04MTliZjkxOGQ0ZGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2MyNGM4MTMtMTY2MS00NTI4LTg3M2EtODE5YmY5MThkNGRhIn0.PlmYuWMLBQK-L0Q-_xpap5DIiscFsH9rE_iyDuKONHc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:30:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:19Z INFO  drogue_cloud_tests::resources::apps] Create application: 12f73cb0-3a17-4b6e-bf57-160be2fcb3e2
[2023-01-31T16:30:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot;
[2023-01-31T16:30:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;fe02b3f4-b437-4b45-8850-81ef71f7a8f9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:19.212753Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;96c894fb-03c3-446d-be6b-11fbd79bea20\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.258422903Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.265050663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.265088744Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.228545853Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.228546555Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.228599032Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.228629239Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.228765935Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot;), &quot;uid&quot;: String(&quot;fe02b3f4-b437-4b45-8850-81ef71f7a8f9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:19.212753Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;96c894fb-03c3-446d-be6b-11fbd79bea20&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.258422903Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.265050663Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.265088744Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.228545853Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.228546555Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.228599032Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.228629239Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.228765935Z&quot;)}]}}
[2023-01-31T16:30:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;fe02b3f4-b437-4b45-8850-81ef71f7a8f9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:19.212753Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f2001bc7-94e2-4b58-b326-9283b1e2e15e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;BolMNFaxlaCU\&quot;,\n        \&quot;username\&quot;: \&quot;user-12f73cb0-3a17-4b6e-bf57-160be2fcb3e2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.258422903Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.265050663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.338612996Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.349874295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509384526Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509398742Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509428167Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509506313Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot;), &quot;uid&quot;: String(&quot;fe02b3f4-b437-4b45-8850-81ef71f7a8f9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:19.212753Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f2001bc7-94e2-4b58-b326-9283b1e2e15e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;BolMNFaxlaCU&quot;), &quot;username&quot;: String(&quot;user-12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.258422903Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.265050663Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.338612996Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.349874295Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509384526Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509398742Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509428167Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509506313Z&quot;)}]}}
[2023-01-31T16:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2\&quot;,\n    \&quot;uid\&quot;: \&quot;fe02b3f4-b437-4b45-8850-81ef71f7a8f9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:19.212753Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f2001bc7-94e2-4b58-b326-9283b1e2e15e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;BolMNFaxlaCU\&quot;,\n        \&quot;username\&quot;: \&quot;user-12f73cb0-3a17-4b6e-bf57-160be2fcb3e2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.258422903Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.265050663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.338612996Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.349874295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509384526Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509398742Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509428167Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:19.509506313Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot;), &quot;uid&quot;: String(&quot;fe02b3f4-b437-4b45-8850-81ef71f7a8f9&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:19.212753Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f2001bc7-94e2-4b58-b326-9283b1e2e15e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;BolMNFaxlaCU&quot;), &quot;username&quot;: String(&quot;user-12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.258422903Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.265050663Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.338612996Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.349874295Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509384526Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509398742Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509428167Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:19.509506313Z&quot;)}]}}
[2023-01-31T16:30:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:30:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5MTgsImlhdCI6MTY3NTE4MjYxOCwiYXV0aF90aW1lIjoxNjc1MTgyNjE1LCJqdGkiOiJkODdmMzA2NS03YjcyLTQ2MmEtOWNkYS00NGFkMzZlNzkyN2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjdhSmNNT1U2OVdsN29MeTlHU25aZXciLCJzZXNzaW9uX3N0YXRlIjoiM2MyNGM4MTMtMTY2MS00NTI4LTg3M2EtODE5YmY5MThkNGRhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNjMjRjODEzLTE2NjEtNDUyOC04NzNhLTgxOWJmOTE4ZDRkYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.SN7uWdNOVgs8zeu3_UGcK8z_vEv39qhEpS9fsuBA4nGozyozv4BWmdtViBwLe4_lgcsJMPzlEIdevXvaQPsnKPBr7XruvhkOqXCBF67PEGfPuo35hYrVI36R6SL1Cs8h9XdDmaH3VJSRECWc53GHfGC7rp25dbSMGlwjswpmHNEodE55ZJ8IfdxSuQoPNpvRc1_4hZHLLkiUw6YXfZQ6b5UBjqe1g98ZczJ5HRZqn1swXmJ2bO0SkSbOLE5pdexoyFeK8dE1jiQ9drR-mCcYYXhp1l_djwMt3JwWLWa2nu6un0iPyL-bPVJ7nlHlqUpYH0gH4KW9FWBbF_Kj73Q9Qw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot; &quot;device1&quot;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&#x27;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;12f73cb0-3a17-4b6e-bf57-160be2fcb3e2&quot;
[2023-01-31T16:30:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:30:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:30:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:30:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:30:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:26Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MjYsImlhdCI6MTY3NTE4MjYyNiwianRpIjoiYzIzOGIyZGMtZTk2ZC00YTcyLTkwNjMtMTQxNjI5ZWU2MDhhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTVY1ZUg2bWdzUVVjSWdrTDlzcEU5ZyIsInNlc3Npb25fc3RhdGUiOiI4YmEyMWFmNS04NmM1LTQ4ZTEtYTg3MS1lYmEwY2EzYTZjMmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGJhMjFhZjUtODZjNS00OGUxLWE4NzEtZWJhMGNhM2E2YzJkIn0.f8iIemhJ5NkcW8PdgRw9Bxl82_v-e0IVi7S9_W62W5U
[2023-01-31T16:30:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:30:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MjYsImlhdCI6MTY3NTE4MjYyNiwianRpIjoiYzIzOGIyZGMtZTk2ZC00YTcyLTkwNjMtMTQxNjI5ZWU2MDhhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTVY1ZUg2bWdzUVVjSWdrTDlzcEU5ZyIsInNlc3Npb25fc3RhdGUiOiI4YmEyMWFmNS04NmM1LTQ4ZTEtYTg3MS1lYmEwY2EzYTZjMmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGJhMjFhZjUtODZjNS00OGUxLWE4NzEtZWJhMGNhM2E2YzJkIn0.f8iIemhJ5NkcW8PdgRw9Bxl82_v-e0IVi7S9_W62W5U&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:30:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:27Z INFO  drogue_cloud_tests::resources::apps] Create application: c5de1dd8-6440-4449-962d-83fe24382af1
[2023-01-31T16:30:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot;
[2023-01-31T16:30:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c5de1dd8-6440-4449-962d-83fe24382af1\&quot;,\n    \&quot;uid\&quot;: \&quot;0200be13-dea5-45c4-aa07-c58e90551fc5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:27.751989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6b54a40b-688b-497b-a042-4cbe2806cee4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.799764956Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.804621693Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.804655476Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.775902750Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.775903351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.775907670Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.776036731Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.776008398Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot;), &quot;uid&quot;: String(&quot;0200be13-dea5-45c4-aa07-c58e90551fc5&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:27.751989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6b54a40b-688b-497b-a042-4cbe2806cee4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.799764956Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.804621693Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.804655476Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.775902750Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.775903351Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.775907670Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.776036731Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.776008398Z&quot;)}]}}
[2023-01-31T16:30:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c5de1dd8-6440-4449-962d-83fe24382af1\&quot;,\n    \&quot;uid\&quot;: \&quot;0200be13-dea5-45c4-aa07-c58e90551fc5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:27.751989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8f6b681d-d318-4619-86a7-c62cda05e7c9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JDJdJxnncUkk\&quot;,\n        \&quot;username\&quot;: \&quot;user-c5de1dd8-6440-4449-962d-83fe24382af1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.799764956Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.804621693Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.917698718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.923759958Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.069891518Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.069909351Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.070069651Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.069993679Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot;), &quot;uid&quot;: String(&quot;0200be13-dea5-45c4-aa07-c58e90551fc5&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:27.751989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8f6b681d-d318-4619-86a7-c62cda05e7c9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JDJdJxnncUkk&quot;), &quot;username&quot;: String(&quot;user-c5de1dd8-6440-4449-962d-83fe24382af1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.799764956Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.804621693Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.917698718Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.923759958Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.069891518Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.069909351Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.070069651Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.069993679Z&quot;)}]}}
[2023-01-31T16:30:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c5de1dd8-6440-4449-962d-83fe24382af1\&quot;,\n    \&quot;uid\&quot;: \&quot;0200be13-dea5-45c4-aa07-c58e90551fc5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:27.751989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8f6b681d-d318-4619-86a7-c62cda05e7c9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JDJdJxnncUkk\&quot;,\n        \&quot;username\&quot;: \&quot;user-c5de1dd8-6440-4449-962d-83fe24382af1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.799764956Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.804621693Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.917698718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:27.923759958Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.069891518Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.069909351Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.070069651Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:28.069993679Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:28Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot;), &quot;uid&quot;: String(&quot;0200be13-dea5-45c4-aa07-c58e90551fc5&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:27.751989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8f6b681d-d318-4619-86a7-c62cda05e7c9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JDJdJxnncUkk&quot;), &quot;username&quot;: String(&quot;user-c5de1dd8-6440-4449-962d-83fe24382af1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.799764956Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.804621693Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.917698718Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:27.923759958Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.069891518Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.069909351Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.070069651Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:28.069993679Z&quot;)}]}}
[2023-01-31T16:30:28Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:30:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5MjcsImlhdCI6MTY3NTE4MjYyNywiYXV0aF90aW1lIjoxNjc1MTgyNjI0LCJqdGkiOiI2MWE5NzIyYS1hYTg4LTQzMzktOWE4ZC1mZGU3OWUzNzk1MzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1WNWVINm1nc1FVY0lna0w5c3BFOWciLCJzZXNzaW9uX3N0YXRlIjoiOGJhMjFhZjUtODZjNS00OGUxLWE4NzEtZWJhMGNhM2E2YzJkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhiYTIxYWY1LTg2YzUtNDhlMS1hODcxLWViYTBjYTNhNmMyZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Nm0J0N_hJ73zaM42Oz0H-QC_dPgO6C2IsgDxydPx5Rjpl747pCFhENKxFDRZI6RsaZit3YommvJBXimUBGisRoeaY4g-1MY5zuvKtALThnzJFjMX_XigLkIT5KkpN3R9XNhEkPCKub9jWb6wwmaI5YQLVp3CbvLJJCcK54SegOGckEYXShd-fo8awTOETfkk6TZDTbPJC_ISGzInaXhyBS8pp96PPTt7MpT3nlLS_fMrPgfWQxA2NYL6xRUny9YRNKqv1HB2W8GFsnHchVoc33-AOrDKV3z_B1okxgmHcAS6vmqnqCEUW9JBprfdyOhkmUkIdSu26FP1FcU00-l1Wg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot; &quot;device1&quot;
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c5de1dd8-6440-4449-962d-83fe24382af1&#x27;
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c5de1dd8-6440-4449-962d-83fe24382af1&quot;
[2023-01-31T16:30:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:30:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:30:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:30:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:30:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MzUsImlhdCI6MTY3NTE4MjYzNSwianRpIjoiMDExNGNmZmQtMDQyNy00MmU4LThhZTYtOTIxNWY0N2RkYzNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieWV4RXpjRnc0bVVHanQ3UUo5emJqUSIsInNlc3Npb25fc3RhdGUiOiI1OGQwOGNiOC04ODMxLTRiZDgtYTJjMC1jNGJmNjAwZjUzOGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNThkMDhjYjgtODgzMS00YmQ4LWEyYzAtYzRiZjYwMGY1MzhlIn0.pcyifnYPL8HbtwN2M3JCc9Raxyp9RRiZEdxgPsVDI1A
[2023-01-31T16:30:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:30:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0MzUsImlhdCI6MTY3NTE4MjYzNSwianRpIjoiMDExNGNmZmQtMDQyNy00MmU4LThhZTYtOTIxNWY0N2RkYzNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieWV4RXpjRnc0bVVHanQ3UUo5emJqUSIsInNlc3Npb25fc3RhdGUiOiI1OGQwOGNiOC04ODMxLTRiZDgtYTJjMC1jNGJmNjAwZjUzOGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNThkMDhjYjgtODgzMS00YmQ4LWEyYzAtYzRiZjYwMGY1MzhlIn0.pcyifnYPL8HbtwN2M3JCc9Raxyp9RRiZEdxgPsVDI1A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:30:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:36Z INFO  drogue_cloud_tests::resources::apps] Create application: 78522f02-5b7e-4da2-a0e7-1356ae6c903f
[2023-01-31T16:30:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot;
[2023-01-31T16:30:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f\&quot;,\n    \&quot;uid\&quot;: \&quot;591180e3-29c0-4f91-aa68-949b9b86662c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:36.420934Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5f6ab912-3d43-48e8-a70a-789a9dc3e54b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.468800091Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.474412672Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.474451075Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.441590422Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.441591123Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.441636779Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.441691592Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.441664451Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot;), &quot;uid&quot;: String(&quot;591180e3-29c0-4f91-aa68-949b9b86662c&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:36.420934Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5f6ab912-3d43-48e8-a70a-789a9dc3e54b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.468800091Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.474412672Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.474451075Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.441590422Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.441591123Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.441636779Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.441691592Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.441664451Z&quot;)}]}}
[2023-01-31T16:30:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f\&quot;,\n    \&quot;uid\&quot;: \&quot;591180e3-29c0-4f91-aa68-949b9b86662c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:36.420934Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f1ec4f1d-dcb9-4019-91e5-c924be1cff56\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;w0vMj7LTnDxi\&quot;,\n        \&quot;username\&quot;: \&quot;user-78522f02-5b7e-4da2-a0e7-1356ae6c903f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.468800091Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.474412672Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.572085758Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.579097367Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749080602Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749103115Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749213300Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749134233Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot;), &quot;uid&quot;: String(&quot;591180e3-29c0-4f91-aa68-949b9b86662c&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:36.420934Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f1ec4f1d-dcb9-4019-91e5-c924be1cff56&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;w0vMj7LTnDxi&quot;), &quot;username&quot;: String(&quot;user-78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.468800091Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.474412672Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.572085758Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.579097367Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749080602Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749103115Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749213300Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749134233Z&quot;)}]}}
[2023-01-31T16:30:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f\&quot;,\n    \&quot;uid\&quot;: \&quot;591180e3-29c0-4f91-aa68-949b9b86662c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:36.420934Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f1ec4f1d-dcb9-4019-91e5-c924be1cff56\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;w0vMj7LTnDxi\&quot;,\n        \&quot;username\&quot;: \&quot;user-78522f02-5b7e-4da2-a0e7-1356ae6c903f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.468800091Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.474412672Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.572085758Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.579097367Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749080602Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749103115Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749213300Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:36.749134233Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot;), &quot;uid&quot;: String(&quot;591180e3-29c0-4f91-aa68-949b9b86662c&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:36.420934Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f1ec4f1d-dcb9-4019-91e5-c924be1cff56&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;w0vMj7LTnDxi&quot;), &quot;username&quot;: String(&quot;user-78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.468800091Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.474412672Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.572085758Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.579097367Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749080602Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749103115Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749213300Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:36.749134233Z&quot;)}]}}
[2023-01-31T16:30:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:30:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5MzUsImlhdCI6MTY3NTE4MjYzNSwiYXV0aF90aW1lIjoxNjc1MTgyNjMyLCJqdGkiOiJhYzAwODM4Ny0yMTE1LTQxMzgtYjJmOS1kMGJlMWI2MWFmZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlleEV6Y0Z3NG1VR2p0N1FKOXpialEiLCJzZXNzaW9uX3N0YXRlIjoiNThkMDhjYjgtODgzMS00YmQ4LWEyYzAtYzRiZjYwMGY1MzhlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU4ZDA4Y2I4LTg4MzEtNGJkOC1hMmMwLWM0YmY2MDBmNTM4ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.2z4pAOLXeF9WHLSle1R-HhD3rWJEAbgVniG35oYr0VM3ibEZPxfYriLO6Yolcky_gS7QiYYfDgQ3jJlHnV4-Ru44YRkr7r4uDamdlc3R7P6UXXbjNXJPtBz4UJjF9oCW4N_0Ysw32eF0ihBNsmKtZDUKhwLeugfSso_7kCN-A-sUgLoVczahw9Uc8TTfz86n2VW0fyZkhafUp7q5jEQwM609Ikq2YXeKrPXf9Z35bRKb59-dPLALImPkZDYdZyzkaaa1rxEBkE_vWLTGGsgHkKoXaNO55eELcfsm4JsSVik4s3CaIgYzJsSCUd6sNiC1lCFbBBo6xuSP9gHHpxqvPQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot; &quot;device1&quot;
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;78522f02-5b7e-4da2-a0e7-1356ae6c903f&#x27;
[2023-01-31T16:30:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;78522f02-5b7e-4da2-a0e7-1356ae6c903f&quot;
[2023-01-31T16:30:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:30:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:30:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:30:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:30:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NDQsImlhdCI6MTY3NTE4MjY0NCwianRpIjoiMGY5MDJhYTUtMjg5NC00YzdjLThiNGYtNDA4ODViYjlkZmI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiak5sMWhiajFtQV94N01raXNsckFuZyIsInNlc3Npb25fc3RhdGUiOiI1ODhkMDZkMi1iMGMyLTQxZmItYjA2Mi05Mzc3YjI4MmQ5NTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTg4ZDA2ZDItYjBjMi00MWZiLWIwNjItOTM3N2IyODJkOTUwIn0.clPKvHZKroPGG481_OpkJZIXPVIBdM3chMheuRw1mt8
[2023-01-31T16:30:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:30:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NDQsImlhdCI6MTY3NTE4MjY0NCwianRpIjoiMGY5MDJhYTUtMjg5NC00YzdjLThiNGYtNDA4ODViYjlkZmI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiak5sMWhiajFtQV94N01raXNsckFuZyIsInNlc3Npb25fc3RhdGUiOiI1ODhkMDZkMi1iMGMyLTQxZmItYjA2Mi05Mzc3YjI4MmQ5NTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTg4ZDA2ZDItYjBjMi00MWZiLWIwNjItOTM3N2IyODJkOTUwIn0.clPKvHZKroPGG481_OpkJZIXPVIBdM3chMheuRw1mt8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:30:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:45Z INFO  drogue_cloud_tests::resources::apps] Create application: 8b2c560f-f4b0-452a-8fcb-33ca14a8018c
[2023-01-31T16:30:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot;
[2023-01-31T16:30:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c\&quot;,\n    \&quot;uid\&quot;: \&quot;ced90960-dc6f-4bd7-af60-99be4ae48d7a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:45.196945Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;01ce80c6-3d94-42d2-9d3b-2032a6396cd4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.247375246Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.252983319Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.253020318Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.219752504Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.219753205Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.219758825Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.219804922Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.219781859Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot;), &quot;uid&quot;: String(&quot;ced90960-dc6f-4bd7-af60-99be4ae48d7a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:45.196945Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;01ce80c6-3d94-42d2-9d3b-2032a6396cd4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.247375246Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.252983319Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.253020318Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.219752504Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.219753205Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.219758825Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.219804922Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.219781859Z&quot;)}]}}
[2023-01-31T16:30:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c\&quot;,\n    \&quot;uid\&quot;: \&quot;ced90960-dc6f-4bd7-af60-99be4ae48d7a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:45.196945Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b778aa85-7063-4c6b-aa1f-fee9fcdc0cd5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IXj93vYOpgmG\&quot;,\n        \&quot;username\&quot;: \&quot;user-8b2c560f-f4b0-452a-8fcb-33ca14a8018c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.247375246Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.252983319Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.312880375Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.319715825Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.481997934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.482017881Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.482538536Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.482051434Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot;), &quot;uid&quot;: String(&quot;ced90960-dc6f-4bd7-af60-99be4ae48d7a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:45.196945Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b778aa85-7063-4c6b-aa1f-fee9fcdc0cd5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IXj93vYOpgmG&quot;), &quot;username&quot;: String(&quot;user-8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.247375246Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.252983319Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.312880375Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.319715825Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.481997934Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.482017881Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.482538536Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.482051434Z&quot;)}]}}
[2023-01-31T16:30:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c\&quot;,\n    \&quot;uid\&quot;: \&quot;ced90960-dc6f-4bd7-af60-99be4ae48d7a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:45.196945Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b778aa85-7063-4c6b-aa1f-fee9fcdc0cd5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IXj93vYOpgmG\&quot;,\n        \&quot;username\&quot;: \&quot;user-8b2c560f-f4b0-452a-8fcb-33ca14a8018c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.247375246Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.252983319Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.312880375Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.319715825Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.481997934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.482017881Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.482538536Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:45.482051434Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot;), &quot;uid&quot;: String(&quot;ced90960-dc6f-4bd7-af60-99be4ae48d7a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:45.196945Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b778aa85-7063-4c6b-aa1f-fee9fcdc0cd5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IXj93vYOpgmG&quot;), &quot;username&quot;: String(&quot;user-8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.247375246Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.252983319Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.312880375Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.319715825Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.481997934Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.482017881Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.482538536Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:45.482051434Z&quot;)}]}}
[2023-01-31T16:30:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:30:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5NDQsImlhdCI6MTY3NTE4MjY0NCwiYXV0aF90aW1lIjoxNjc1MTgyNjQxLCJqdGkiOiJlMjU3MTBhZi00ZmU3LTQ4NjItYjVkOS03ZDZkMjM2YTdkOTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpObDFoYmoxbUFfeDdNa2lzbHJBbmciLCJzZXNzaW9uX3N0YXRlIjoiNTg4ZDA2ZDItYjBjMi00MWZiLWIwNjItOTM3N2IyODJkOTUwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU4OGQwNmQyLWIwYzItNDFmYi1iMDYyLTkzNzdiMjgyZDk1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Z9ph1gi9ipyuZ9v3s-k6ndFvuQ-I6lxEgV0NWTfYSJk1YYKDUy4d4QzmuGdoNUdm5Or7H12oDasT4XEfRdeSpgu-4L2UbRLyA4hM5-4SlzA3CwPyZg0BuXZA9JjHkBbkJR9hD1YW0PJV9zJ5vW7nt5ZwnG39cet0nHWe3oZ79NEZurWktri5GBMKWpzGUIoSP4V-6oepwbrVQ2Tfi-lhjHTo7ep80x9z12tBXsFH2YKdYNu4ihBsvovFebZXtJO9RAWGPwPE8CQneresy-Pc4EDFGPBHgCCdHFKG-VXXLXEuA4ZHk0ddQhHwzj2usRv6iuyNQKDW_6t6kIjDqRbrGg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot; &quot;device1&quot;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&#x27;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8b2c560f-f4b0-452a-8fcb-33ca14a8018c&quot;
[2023-01-31T16:30:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:30:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:30:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:30:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:30:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NTIsImlhdCI6MTY3NTE4MjY1MiwianRpIjoiOGNkZWY0OGUtOWUyMi00Yzk4LWFhY2UtNWYxNWZkMjM0NWQ3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQU9OSk55MExwUm8zdGVNTmFTMHhWQSIsInNlc3Npb25fc3RhdGUiOiI1OWI4YWFlZC02ZDczLTQzZDktYTE5ZC1lODRlM2VlN2JjYzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTliOGFhZWQtNmQ3My00M2Q5LWExOWQtZTg0ZTNlZTdiY2MwIn0.ifZzcsTQh98e8Q0zO-9bpD-Z5rsHNPtDER7kG_R9Szs
[2023-01-31T16:30:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:30:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NTIsImlhdCI6MTY3NTE4MjY1MiwianRpIjoiOGNkZWY0OGUtOWUyMi00Yzk4LWFhY2UtNWYxNWZkMjM0NWQ3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQU9OSk55MExwUm8zdGVNTmFTMHhWQSIsInNlc3Npb25fc3RhdGUiOiI1OWI4YWFlZC02ZDczLTQzZDktYTE5ZC1lODRlM2VlN2JjYzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTliOGFhZWQtNmQ3My00M2Q5LWExOWQtZTg0ZTNlZTdiY2MwIn0.ifZzcsTQh98e8Q0zO-9bpD-Z5rsHNPtDER7kG_R9Szs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:30:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 657feb40-b191-4e57-be35-958aa7332dc3
[2023-01-31T16:30:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;657feb40-b191-4e57-be35-958aa7332dc3&quot;
[2023-01-31T16:30:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;657feb40-b191-4e57-be35-958aa7332dc3&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;657feb40-b191-4e57-be35-958aa7332dc3\&quot;,\n    \&quot;uid\&quot;: \&quot;24fcfe73-0372-4030-b798-6ecb36be3378\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:53.727590Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a1b4e058-0251-4731-a779-66be25717407\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.777392239Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.784471333Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.784517629Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.749573038Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.749573799Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.749825440Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.750167450Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.749851339Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;657feb40-b191-4e57-be35-958aa7332dc3&quot;), &quot;uid&quot;: String(&quot;24fcfe73-0372-4030-b798-6ecb36be3378&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:53.727590Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a1b4e058-0251-4731-a779-66be25717407&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.777392239Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.784471333Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.784517629Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.749573038Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.749573799Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.749825440Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.750167450Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.749851339Z&quot;)}]}}
[2023-01-31T16:30:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:30:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;657feb40-b191-4e57-be35-958aa7332dc3&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;657feb40-b191-4e57-be35-958aa7332dc3\&quot;,\n    \&quot;uid\&quot;: \&quot;24fcfe73-0372-4030-b798-6ecb36be3378\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:53.727590Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;43e4df4d-f9ec-47d6-985d-02d34d053e7a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MzuVF8X6P4ru\&quot;,\n        \&quot;username\&quot;: \&quot;user-657feb40-b191-4e57-be35-958aa7332dc3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.777392239Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.784471333Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.838172959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.844346699Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988346674Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988366421Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988461920Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988397880Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;657feb40-b191-4e57-be35-958aa7332dc3&quot;), &quot;uid&quot;: String(&quot;24fcfe73-0372-4030-b798-6ecb36be3378&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:53.727590Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;43e4df4d-f9ec-47d6-985d-02d34d053e7a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MzuVF8X6P4ru&quot;), &quot;username&quot;: String(&quot;user-657feb40-b191-4e57-be35-958aa7332dc3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.777392239Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.784471333Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.838172959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.844346699Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988346674Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988366421Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988461920Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988397880Z&quot;)}]}}
[2023-01-31T16:30:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:30:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;657feb40-b191-4e57-be35-958aa7332dc3&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:30:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;657feb40-b191-4e57-be35-958aa7332dc3\&quot;,\n    \&quot;uid\&quot;: \&quot;24fcfe73-0372-4030-b798-6ecb36be3378\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:30:53.727590Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;43e4df4d-f9ec-47d6-985d-02d34d053e7a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MzuVF8X6P4ru\&quot;,\n        \&quot;username\&quot;: \&quot;user-657feb40-b191-4e57-be35-958aa7332dc3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.777392239Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.784471333Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.838172959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.844346699Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988346674Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988366421Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988461920Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:30:53.988397880Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;657feb40-b191-4e57-be35-958aa7332dc3&quot;), &quot;uid&quot;: String(&quot;24fcfe73-0372-4030-b798-6ecb36be3378&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:30:53.727590Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;43e4df4d-f9ec-47d6-985d-02d34d053e7a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MzuVF8X6P4ru&quot;), &quot;username&quot;: String(&quot;user-657feb40-b191-4e57-be35-958aa7332dc3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.777392239Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.784471333Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.838172959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.844346699Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988346674Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988366421Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988461920Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:30:53.988397880Z&quot;)}]}}
[2023-01-31T16:30:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:30:54Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:30:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;657feb40-b191-4e57-be35-958aa7332dc3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:30:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5NTMsImlhdCI6MTY3NTE4MjY1MywiYXV0aF90aW1lIjoxNjc1MTgyNjUwLCJqdGkiOiI0MzlhY2JjNS0zMTM4LTQxNjQtYmFiOC0zOWNmY2I5OGYwZGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFPTkpOeTBMcFJvM3RlTU5hUzB4VkEiLCJzZXNzaW9uX3N0YXRlIjoiNTliOGFhZWQtNmQ3My00M2Q5LWExOWQtZTg0ZTNlZTdiY2MwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU5YjhhYWVkLTZkNzMtNDNkOS1hMTlkLWU4NGUzZWU3YmNjMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.EwUfumUf1y6ooLlXLJCIdFgsNAIEJviF8lCUTR4dKursyvehKKL363RFeoqp-bY5r03dIo8wJ4R2IrePrx2x4Hs4R7A4AJOCnQDwFLbTmohx9ZKhAPbUvk9--Id7pP-_sgMN-rcvmp92BEmTyRab4ZwWMEGU9CKd_UenEirGIth3gLSTMJb-UHjYSHIEImdGCBqVl_tkTxaAL8IqCS3jEbWvJDGyM783L0SOLzPzl_-jDHPzBxPP1hvfQ47Dx9wMmVx23Ur0NpqHkESfQ3Y1mP9kf1_c2ONx7PSOFqC9DzDKEknZfMqarUQKVCufbnFXKq5k40GDheRUzLnL-qHiQQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;657feb40-b191-4e57-be35-958aa7332dc3&quot; &quot;device1&quot;
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;657feb40-b191-4e57-be35-958aa7332dc3&#x27;
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;657feb40-b191-4e57-be35-958aa7332dc3&quot;
[2023-01-31T16:30:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:30:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:30:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:30:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:30:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:30:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:30:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:30:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NjEsImlhdCI6MTY3NTE4MjY2MSwianRpIjoiODViMzJiYWQtMTdiNi00YTE4LTgxM2UtNjFiYTc0YmU2YzQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic1pPNEtLWUhDSlpnaXNSM21LSjlmZyIsInNlc3Npb25fc3RhdGUiOiIwYzQ3ZTVjNi0wOGJhLTQ1MjYtYjkxNi03MGU2YjRhZmMyOTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGM0N2U1YzYtMDhiYS00NTI2LWI5MTYtNzBlNmI0YWZjMjkzIn0.ZzKoscD_6NGc3pY0UD2Afo377R_FYHzlO7hRTlID-fQ
[2023-01-31T16:31:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:31:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NjEsImlhdCI6MTY3NTE4MjY2MSwianRpIjoiODViMzJiYWQtMTdiNi00YTE4LTgxM2UtNjFiYTc0YmU2YzQxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic1pPNEtLWUhDSlpnaXNSM21LSjlmZyIsInNlc3Npb25fc3RhdGUiOiIwYzQ3ZTVjNi0wOGJhLTQ1MjYtYjkxNi03MGU2YjRhZmMyOTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGM0N2U1YzYtMDhiYS00NTI2LWI5MTYtNzBlNmI0YWZjMjkzIn0.ZzKoscD_6NGc3pY0UD2Afo377R_FYHzlO7hRTlID-fQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:31:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:02Z INFO  drogue_cloud_tests::resources::apps] Create application: ec922872-897a-4648-9979-f9348d8dc477
[2023-01-31T16:31:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ec922872-897a-4648-9979-f9348d8dc477&quot;
[2023-01-31T16:31:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec922872-897a-4648-9979-f9348d8dc477&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec922872-897a-4648-9979-f9348d8dc477\&quot;,\n    \&quot;uid\&quot;: \&quot;7d5a7086-f996-4bce-a769-be8cee3efd5a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:02.440886Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;658f2470-c3d7-4d8c-8fd7-885d6737aaca\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.509255563Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.515901066Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.516052409Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.464339994Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.464340686Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.464371914Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.464461803Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.464396912Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec922872-897a-4648-9979-f9348d8dc477&quot;), &quot;uid&quot;: String(&quot;7d5a7086-f996-4bce-a769-be8cee3efd5a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:02.440886Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;658f2470-c3d7-4d8c-8fd7-885d6737aaca&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.509255563Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.515901066Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.516052409Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.464339994Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.464340686Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.464371914Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.464461803Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.464396912Z&quot;)}]}}
[2023-01-31T16:31:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec922872-897a-4648-9979-f9348d8dc477&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec922872-897a-4648-9979-f9348d8dc477\&quot;,\n    \&quot;uid\&quot;: \&quot;7d5a7086-f996-4bce-a769-be8cee3efd5a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:02.440886Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b03c16d3-7fbc-4415-b400-771c1dd6cf2b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;RIjWNTcscDER\&quot;,\n        \&quot;username\&quot;: \&quot;user-ec922872-897a-4648-9979-f9348d8dc477\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.509255563Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.515901066Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.640380619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.646363383Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.824862707Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.825022104Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.825234071Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.825058743Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec922872-897a-4648-9979-f9348d8dc477&quot;), &quot;uid&quot;: String(&quot;7d5a7086-f996-4bce-a769-be8cee3efd5a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:02.440886Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b03c16d3-7fbc-4415-b400-771c1dd6cf2b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;RIjWNTcscDER&quot;), &quot;username&quot;: String(&quot;user-ec922872-897a-4648-9979-f9348d8dc477&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.509255563Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.515901066Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.640380619Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.646363383Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.824862707Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.825022104Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.825234071Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.825058743Z&quot;)}]}}
[2023-01-31T16:31:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec922872-897a-4648-9979-f9348d8dc477&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec922872-897a-4648-9979-f9348d8dc477\&quot;,\n    \&quot;uid\&quot;: \&quot;7d5a7086-f996-4bce-a769-be8cee3efd5a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:02.440886Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b03c16d3-7fbc-4415-b400-771c1dd6cf2b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;RIjWNTcscDER\&quot;,\n        \&quot;username\&quot;: \&quot;user-ec922872-897a-4648-9979-f9348d8dc477\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.509255563Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.515901066Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.640380619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.646363383Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.824862707Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.825022104Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.825234071Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:02.825058743Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec922872-897a-4648-9979-f9348d8dc477&quot;), &quot;uid&quot;: String(&quot;7d5a7086-f996-4bce-a769-be8cee3efd5a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:02.440886Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b03c16d3-7fbc-4415-b400-771c1dd6cf2b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;RIjWNTcscDER&quot;), &quot;username&quot;: String(&quot;user-ec922872-897a-4648-9979-f9348d8dc477&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.509255563Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.515901066Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.640380619Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.646363383Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.824862707Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.825022104Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.825234071Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:02.825058743Z&quot;)}]}}
[2023-01-31T16:31:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ec922872-897a-4648-9979-f9348d8dc477&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:31:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5NjEsImlhdCI6MTY3NTE4MjY2MSwiYXV0aF90aW1lIjoxNjc1MTgyNjU4LCJqdGkiOiJlODI2MDU3MS01OGRiLTQxZDMtODQwYi1lOTk3NzRjMTVkOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNaTzRLS1lIQ0paZ2lzUjNtS0o5ZmciLCJzZXNzaW9uX3N0YXRlIjoiMGM0N2U1YzYtMDhiYS00NTI2LWI5MTYtNzBlNmI0YWZjMjkzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBjNDdlNWM2LTA4YmEtNDUyNi1iOTE2LTcwZTZiNGFmYzI5MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.jVsSkBV4LwbxuYyApDdOWoltGargkalNWlrrxwq9JLY3U0qiWLhjLJNe8uMF4DV-dO7MS60KlJ_qoY5YJOlB802xsZi-E28_9wE99kiP9TcmT6jUle-gJFqG8uwNW2DbPg_1_KO0p3xRXWoSQ9A4-Qo1fFzmq9mz3IQNY9PU85K0Aja3KsI8r8AY0dIjSnGxYWH4hbpPu9kJmkv-A1qAH8-eY9SzGYopX3T-UjOtvXzKQk_RXfmF_tb7g7Uy2zN8JhhGklbglt7-3DQa2_legor_PZrjWaNoinfQELTLGXdBzEJvfDstT8LGkWCPG6rwRUPVBYL4yTY0-z-cQOFlrA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ec922872-897a-4648-9979-f9348d8dc477&quot; &quot;device1&quot;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ec922872-897a-4648-9979-f9348d8dc477&#x27;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ec922872-897a-4648-9979-f9348d8dc477&quot;
[2023-01-31T16:31:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:31:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:31:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:31:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:31:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NzAsImlhdCI6MTY3NTE4MjY3MCwianRpIjoiZmQyY2FmMzAtMjYzNC00Mjk5LTg5YTgtMzVjMDE0Yjk4ZmM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidjNoSHJDZXo4Wkh4TWVTanV2aGhVUSIsInNlc3Npb25fc3RhdGUiOiIxNGNhM2MyMS0zNDRiLTRjYzgtOTcwMC04YzY3Zjc2OGZmMDAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTRjYTNjMjEtMzQ0Yi00Y2M4LTk3MDAtOGM2N2Y3NjhmZjAwIn0.6V2JBNuKevhme1hOT_rJHUNFjystaCQv4_3uLE0_UyI
[2023-01-31T16:31:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:31:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NzAsImlhdCI6MTY3NTE4MjY3MCwianRpIjoiZmQyY2FmMzAtMjYzNC00Mjk5LTg5YTgtMzVjMDE0Yjk4ZmM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidjNoSHJDZXo4Wkh4TWVTanV2aGhVUSIsInNlc3Npb25fc3RhdGUiOiIxNGNhM2MyMS0zNDRiLTRjYzgtOTcwMC04YzY3Zjc2OGZmMDAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTRjYTNjMjEtMzQ0Yi00Y2M4LTk3MDAtOGM2N2Y3NjhmZjAwIn0.6V2JBNuKevhme1hOT_rJHUNFjystaCQv4_3uLE0_UyI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:31:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 313b492f-e51f-4517-a20b-909ce4724941
[2023-01-31T16:31:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;313b492f-e51f-4517-a20b-909ce4724941&quot;
[2023-01-31T16:31:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;313b492f-e51f-4517-a20b-909ce4724941&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;313b492f-e51f-4517-a20b-909ce4724941\&quot;,\n    \&quot;uid\&quot;: \&quot;873dc598-3dcf-40c6-bc61-8efca6b70177\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:11.515119Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c8d9d638-b01b-4b6f-aea4-6b9c6c43baad\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.559297001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.567329700Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.567373392Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.528265470Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.528266382Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.528276130Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.528316075Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.528343837Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;313b492f-e51f-4517-a20b-909ce4724941&quot;), &quot;uid&quot;: String(&quot;873dc598-3dcf-40c6-bc61-8efca6b70177&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:11.515119Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c8d9d638-b01b-4b6f-aea4-6b9c6c43baad&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.559297001Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.567329700Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.567373392Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.528265470Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.528266382Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.528276130Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.528316075Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.528343837Z&quot;)}]}}
[2023-01-31T16:31:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;313b492f-e51f-4517-a20b-909ce4724941&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;313b492f-e51f-4517-a20b-909ce4724941\&quot;,\n    \&quot;uid\&quot;: \&quot;873dc598-3dcf-40c6-bc61-8efca6b70177\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:11.515119Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1d115c42-0249-44a5-98c4-331ba76a9c05\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sCsKdL3UMDWR\&quot;,\n        \&quot;username\&quot;: \&quot;user-313b492f-e51f-4517-a20b-909ce4724941\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.559297001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.567329700Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.637467670Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.645960349Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.813714270Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.813827372Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.813881893Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.814008431Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;313b492f-e51f-4517-a20b-909ce4724941&quot;), &quot;uid&quot;: String(&quot;873dc598-3dcf-40c6-bc61-8efca6b70177&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:11.515119Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1d115c42-0249-44a5-98c4-331ba76a9c05&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sCsKdL3UMDWR&quot;), &quot;username&quot;: String(&quot;user-313b492f-e51f-4517-a20b-909ce4724941&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.559297001Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.567329700Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.637467670Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.645960349Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.813714270Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.813827372Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.813881893Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.814008431Z&quot;)}]}}
[2023-01-31T16:31:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;313b492f-e51f-4517-a20b-909ce4724941&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;313b492f-e51f-4517-a20b-909ce4724941\&quot;,\n    \&quot;uid\&quot;: \&quot;873dc598-3dcf-40c6-bc61-8efca6b70177\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:11.515119Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1d115c42-0249-44a5-98c4-331ba76a9c05\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sCsKdL3UMDWR\&quot;,\n        \&quot;username\&quot;: \&quot;user-313b492f-e51f-4517-a20b-909ce4724941\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.559297001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.567329700Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.637467670Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.645960349Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.813714270Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.813827372Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.813881893Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:11.814008431Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;313b492f-e51f-4517-a20b-909ce4724941&quot;), &quot;uid&quot;: String(&quot;873dc598-3dcf-40c6-bc61-8efca6b70177&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:11.515119Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1d115c42-0249-44a5-98c4-331ba76a9c05&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sCsKdL3UMDWR&quot;), &quot;username&quot;: String(&quot;user-313b492f-e51f-4517-a20b-909ce4724941&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.559297001Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.567329700Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.637467670Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.645960349Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.813714270Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.813827372Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.813881893Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:11.814008431Z&quot;)}]}}
[2023-01-31T16:31:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;313b492f-e51f-4517-a20b-909ce4724941&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:31:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5NzAsImlhdCI6MTY3NTE4MjY3MCwiYXV0aF90aW1lIjoxNjc1MTgyNjY3LCJqdGkiOiJhMWIzZTk5NS04N2MyLTQ2MTctYjk3MC0xNTUyN2YxYTUzMDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InYzaEhyQ2V6OFpIeE1lU2p1dmhoVVEiLCJzZXNzaW9uX3N0YXRlIjoiMTRjYTNjMjEtMzQ0Yi00Y2M4LTk3MDAtOGM2N2Y3NjhmZjAwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE0Y2EzYzIxLTM0NGItNGNjOC05NzAwLThjNjdmNzY4ZmYwMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.BKKVdoBdZgt5yfpMu2nuQykppAz4VMbVWE6IEs0ExPwPsKjp-rD0SgqdRjxjEIuj5AF7jXl-hnQYW8MSOnwKdUaDMmAWIkp0pNH-VMkpKO9J5Ny5-ZE6a3sFxUS-dwWK6pI_Gu7KjkF-ypbJBdvaCRgICI4rTAoV0MQILrCR4kNmSTQojm_w18wXgOZhmtPX-OsuFyAesWFt6k1dVUdqI7YWE8JhpPC-jPvereHBO7xfHCfTJEUwQq13DKqpzpWL0ODZgjPl-k10aIe0XBiy8YXwsu9Fypcg27LnFNZtkP4XH2r5x2y9NA92zgAye6goAoTp2ht0udNewF-besccTQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;313b492f-e51f-4517-a20b-909ce4724941&quot; &quot;device1&quot;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;313b492f-e51f-4517-a20b-909ce4724941&#x27;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;313b492f-e51f-4517-a20b-909ce4724941&quot;
[2023-01-31T16:31:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:31:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:31:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:31:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:31:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NzksImlhdCI6MTY3NTE4MjY3OSwianRpIjoiMGJkYzFkMWEtZTkwMC00OWZlLWE1MTktZWVkZWMzOTg5MzU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUVdud1RGMEV2LWpaemZhQ1RzMUw1USIsInNlc3Npb25fc3RhdGUiOiIzMDczNzllNC1jN2Y4LTQyNWEtOWM1MC02MmZmMDdhYzMzYzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzA3Mzc5ZTQtYzdmOC00MjVhLTljNTAtNjJmZjA3YWMzM2M3In0.26S1PHdl8l8VmshUmMdkQ92bOdmHWdpoUwgJkZ6sJWA
[2023-01-31T16:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0NzksImlhdCI6MTY3NTE4MjY3OSwianRpIjoiMGJkYzFkMWEtZTkwMC00OWZlLWE1MTktZWVkZWMzOTg5MzU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUVdud1RGMEV2LWpaemZhQ1RzMUw1USIsInNlc3Npb25fc3RhdGUiOiIzMDczNzllNC1jN2Y4LTQyNWEtOWM1MC02MmZmMDdhYzMzYzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzA3Mzc5ZTQtYzdmOC00MjVhLTljNTAtNjJmZjA3YWMzM2M3In0.26S1PHdl8l8VmshUmMdkQ92bOdmHWdpoUwgJkZ6sJWA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:31:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:20Z INFO  drogue_cloud_tests::resources::apps] Create application: 5e9e34cc-5bd5-4157-a60c-2eafb6fa0231
[2023-01-31T16:31:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot;
[2023-01-31T16:31:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231\&quot;,\n    \&quot;uid\&quot;: \&quot;105aa1ef-4954-491a-a5ae-6dbdc4c19cbc\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:20.453050Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9b9b9f3a-8a6e-499e-9d61-cd46bd3dacdf\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.512086971Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.518667253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.518718078Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.474650547Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.474651188Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.474659013Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.474719326Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.474691133Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot;), &quot;uid&quot;: String(&quot;105aa1ef-4954-491a-a5ae-6dbdc4c19cbc&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:20.453050Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9b9b9f3a-8a6e-499e-9d61-cd46bd3dacdf&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.512086971Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.518667253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.518718078Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.474650547Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.474651188Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.474659013Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.474719326Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.474691133Z&quot;)}]}}
[2023-01-31T16:31:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231\&quot;,\n    \&quot;uid\&quot;: \&quot;105aa1ef-4954-491a-a5ae-6dbdc4c19cbc\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:20.453050Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2a599113-ed95-41c6-87b3-b94367a76dde\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;WT44vx7dCdWQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-5e9e34cc-5bd5-4157-a60c-2eafb6fa0231\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.512086971Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.518667253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.633454643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.643274095Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942374519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942402161Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942521755Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942437186Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot;), &quot;uid&quot;: String(&quot;105aa1ef-4954-491a-a5ae-6dbdc4c19cbc&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:20.453050Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2a599113-ed95-41c6-87b3-b94367a76dde&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;WT44vx7dCdWQ&quot;), &quot;username&quot;: String(&quot;user-5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.512086971Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.518667253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.633454643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.643274095Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942374519Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942402161Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942521755Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942437186Z&quot;)}]}}
[2023-01-31T16:31:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231\&quot;,\n    \&quot;uid\&quot;: \&quot;105aa1ef-4954-491a-a5ae-6dbdc4c19cbc\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:20.453050Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2a599113-ed95-41c6-87b3-b94367a76dde\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;WT44vx7dCdWQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-5e9e34cc-5bd5-4157-a60c-2eafb6fa0231\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.512086971Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.518667253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.633454643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.643274095Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942374519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942402161Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942521755Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:20.942437186Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot;), &quot;uid&quot;: String(&quot;105aa1ef-4954-491a-a5ae-6dbdc4c19cbc&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:20.453050Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2a599113-ed95-41c6-87b3-b94367a76dde&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;WT44vx7dCdWQ&quot;), &quot;username&quot;: String(&quot;user-5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.512086971Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.518667253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.633454643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.643274095Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942374519Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942402161Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942521755Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:20.942437186Z&quot;)}]}}
[2023-01-31T16:31:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:31:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5NzksImlhdCI6MTY3NTE4MjY3OSwiYXV0aF90aW1lIjoxNjc1MTgyNjc2LCJqdGkiOiI4NGQxYWVkNC1iNDM2LTQwMzQtOTI4MS04OThkMzMyMmNiMjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFXbndURjBFdi1qWnpmYUNUczFMNVEiLCJzZXNzaW9uX3N0YXRlIjoiMzA3Mzc5ZTQtYzdmOC00MjVhLTljNTAtNjJmZjA3YWMzM2M3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMwNzM3OWU0LWM3ZjgtNDI1YS05YzUwLTYyZmYwN2FjMzNjNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.dalU0zDPfbqc9l3B1Eh2BbX795o3Ux7sr-bBogK5gA8Ff1TFIF1EqfGLTDgR0HbCb6WHtjii3fyFEKJueEjWHq3WOQrtCDnDU7mGnrN8TccMN8chB_iUk4B-z5C3nlsERV3FOX9jNLnsvn8DujfTcmjJDUOtzA9M1a8EBiWZ2pNEZfP_CneOKHQ2nVkdc2Br0e3VUxMi8Agkdj0TGJpDmcfvgVlUAuWSTLMA_c7cjmgnxy8N0kvISZaZVMzG89Mf06CyQTupVKRiT9XooAGgPeh-91HKXtUwCLcRgf8pVGPlj_Kn44m4y-_7Qc9Owc88Z3Fm67Gb6g692EsztxXldA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot; &quot;device1&quot;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&#x27;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5e9e34cc-5bd5-4157-a60c-2eafb6fa0231&quot;
[2023-01-31T16:31:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:31:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:31:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:24Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:31:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:31:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0ODgsImlhdCI6MTY3NTE4MjY4OCwianRpIjoiYzQ4ODQ5NTItZjkzMi00NjA3LThlMWQtMzU3ZDcyNWE1YTE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibWloM05rdEN1dWc3d3NvZGhiUFRCUSIsInNlc3Npb25fc3RhdGUiOiJlYmQ1YzRlMi0zNGI1LTRiYTItOGM5Yi1hMjQwOTA4NTA0NzkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZWJkNWM0ZTItMzRiNS00YmEyLThjOWItYTI0MDkwODUwNDc5In0.RDZ6HFvHpiODncf8tZnK6EikyqZdaEAEiScCiFiR06c
[2023-01-31T16:31:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:31:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0ODgsImlhdCI6MTY3NTE4MjY4OCwianRpIjoiYzQ4ODQ5NTItZjkzMi00NjA3LThlMWQtMzU3ZDcyNWE1YTE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibWloM05rdEN1dWc3d3NvZGhiUFRCUSIsInNlc3Npb25fc3RhdGUiOiJlYmQ1YzRlMi0zNGI1LTRiYTItOGM5Yi1hMjQwOTA4NTA0NzkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZWJkNWM0ZTItMzRiNS00YmEyLThjOWItYTI0MDkwODUwNDc5In0.RDZ6HFvHpiODncf8tZnK6EikyqZdaEAEiScCiFiR06c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:31:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:30Z INFO  drogue_cloud_tests::resources::apps] Create application: e8469f63-4ec6-49ba-a0f8-ce3eeca51765
[2023-01-31T16:31:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot;
[2023-01-31T16:31:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765\&quot;,\n    \&quot;uid\&quot;: \&quot;e9565556-686e-40be-95de-9b0182d49269\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:30.151197Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;07dba8fc-c691-484f-916b-0d8821a5d66a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.197345311Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.207857127Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.207903825Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.164048050Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.164049052Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.164062157Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.164098224Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.164135454Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot;), &quot;uid&quot;: String(&quot;e9565556-686e-40be-95de-9b0182d49269&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:30.151197Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;07dba8fc-c691-484f-916b-0d8821a5d66a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.197345311Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.207857127Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.207903825Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.164048050Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.164049052Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.164062157Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.164098224Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.164135454Z&quot;)}]}}
[2023-01-31T16:31:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765\&quot;,\n    \&quot;uid\&quot;: \&quot;e9565556-686e-40be-95de-9b0182d49269\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:30.151197Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aef100f6-f3d9-4194-be89-d956637caae5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jLUsqQkeT548\&quot;,\n        \&quot;username\&quot;: \&quot;user-e8469f63-4ec6-49ba-a0f8-ce3eeca51765\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.197345311Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.207857127Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.290226684Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.299132868Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474476411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474499555Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474531424Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474611744Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot;), &quot;uid&quot;: String(&quot;e9565556-686e-40be-95de-9b0182d49269&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:30.151197Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aef100f6-f3d9-4194-be89-d956637caae5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jLUsqQkeT548&quot;), &quot;username&quot;: String(&quot;user-e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.197345311Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.207857127Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.290226684Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.299132868Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474476411Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474499555Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474531424Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474611744Z&quot;)}]}}
[2023-01-31T16:31:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765\&quot;,\n    \&quot;uid\&quot;: \&quot;e9565556-686e-40be-95de-9b0182d49269\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:30.151197Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aef100f6-f3d9-4194-be89-d956637caae5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jLUsqQkeT548\&quot;,\n        \&quot;username\&quot;: \&quot;user-e8469f63-4ec6-49ba-a0f8-ce3eeca51765\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.197345311Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.207857127Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.290226684Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.299132868Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474476411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474499555Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474531424Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:30.474611744Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot;), &quot;uid&quot;: String(&quot;e9565556-686e-40be-95de-9b0182d49269&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:30.151197Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aef100f6-f3d9-4194-be89-d956637caae5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jLUsqQkeT548&quot;), &quot;username&quot;: String(&quot;user-e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.197345311Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.207857127Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.290226684Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.299132868Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474476411Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474499555Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474531424Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:30.474611744Z&quot;)}]}}
[2023-01-31T16:31:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:31:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5ODksImlhdCI6MTY3NTE4MjY4OSwiYXV0aF90aW1lIjoxNjc1MTgyNjg1LCJqdGkiOiI1N2IyZjM3Yy1mYmVhLTRhNWQtOGRjOS1jM2VkNGE3OThkNjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im1paDNOa3RDdXVnN3dzb2RoYlBUQlEiLCJzZXNzaW9uX3N0YXRlIjoiZWJkNWM0ZTItMzRiNS00YmEyLThjOWItYTI0MDkwODUwNDc5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImViZDVjNGUyLTM0YjUtNGJhMi04YzliLWEyNDA5MDg1MDQ3OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.t6XvMNHs-MzaFH_PVxB-4mxZHYVICKF5vLo5tbqixYnldA_SgE4rAfgPrAXB9TcgGbK-LvuCgo63-Z6wRnYHUf-77_OJFTFzJ1yweypuyzzkbazj34u77ZTVS1tNyCmAHQ4gAirpikGtcRtEavDzMDlCkLqHvbbilez1vIMDW06tJR9nLh_ShCPincGVGy_4hT2VCPR070VFJiUIRdBzFktq3hNrqmypjtB-jnPu_5LXul398o6oRTdsaKY8-UkPV4gGUzGN1E-G0pq4K4GxiqVw3J7polM1kX-p7IcvfJkM7r6we9VD62yDJMPBI1Sk-q7Nnmj2UE7HmkT3l3UM-g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot; &quot;device1&quot;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&#x27;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e8469f63-4ec6-49ba-a0f8-ce3eeca51765&quot;
[2023-01-31T16:31:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:31:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:31:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:31:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:31:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0OTgsImlhdCI6MTY3NTE4MjY5OCwianRpIjoiMTk5YWNhMWItZDNkNi00YzExLTlkNTYtMjdhMDQzYTg0YWY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTWxqU1pzd1F4V3hidEZXMjRtcE44ZyIsInNlc3Npb25fc3RhdGUiOiI5YzNmNjljZC02NTIwLTRjNzQtOWVjYS0yYTBmZTBhOGQ3MmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWMzZjY5Y2QtNjUyMC00Yzc0LTllY2EtMmEwZmUwYThkNzJiIn0.0tZ0j1aE57wnc5pzVwkYqHxwrPSpPGwkUE-NJL7jSYU
[2023-01-31T16:31:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:31:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ0OTgsImlhdCI6MTY3NTE4MjY5OCwianRpIjoiMTk5YWNhMWItZDNkNi00YzExLTlkNTYtMjdhMDQzYTg0YWY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTWxqU1pzd1F4V3hidEZXMjRtcE44ZyIsInNlc3Npb25fc3RhdGUiOiI5YzNmNjljZC02NTIwLTRjNzQtOWVjYS0yYTBmZTBhOGQ3MmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWMzZjY5Y2QtNjUyMC00Yzc0LTllY2EtMmEwZmUwYThkNzJiIn0.0tZ0j1aE57wnc5pzVwkYqHxwrPSpPGwkUE-NJL7jSYU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:31:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:39Z INFO  drogue_cloud_tests::resources::apps] Create application: ec73f308-443e-42b1-8d7a-901ccc12bbf4
[2023-01-31T16:31:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot;
[2023-01-31T16:31:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4\&quot;,\n    \&quot;uid\&quot;: \&quot;63a2a8d7-f8e7-4863-aa39-e1c7568644c0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:39.541520Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;79f78c4e-ae9f-4f41-908c-232adaf64574\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.584665384Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.590716706Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.590761499Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.554664991Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.554665913Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.554678347Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.554722218Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.554766742Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot;), &quot;uid&quot;: String(&quot;63a2a8d7-f8e7-4863-aa39-e1c7568644c0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:39.541520Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;79f78c4e-ae9f-4f41-908c-232adaf64574&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.584665384Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.590716706Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.590761499Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.554664991Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.554665913Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.554678347Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.554722218Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.554766742Z&quot;)}]}}
[2023-01-31T16:31:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4\&quot;,\n    \&quot;uid\&quot;: \&quot;63a2a8d7-f8e7-4863-aa39-e1c7568644c0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:39.541520Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fc643ee5-b9d3-4af4-80db-c593bfb575f9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tWtFjoTzLFu1\&quot;,\n        \&quot;username\&quot;: \&quot;user-ec73f308-443e-42b1-8d7a-901ccc12bbf4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.584665384Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.590716706Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.674093396Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.683030659Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878688111Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878709822Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878742042Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878840195Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot;), &quot;uid&quot;: String(&quot;63a2a8d7-f8e7-4863-aa39-e1c7568644c0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:39.541520Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fc643ee5-b9d3-4af4-80db-c593bfb575f9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tWtFjoTzLFu1&quot;), &quot;username&quot;: String(&quot;user-ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.584665384Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.590716706Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.674093396Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.683030659Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878688111Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878709822Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878742042Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878840195Z&quot;)}]}}
[2023-01-31T16:31:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4\&quot;,\n    \&quot;uid\&quot;: \&quot;63a2a8d7-f8e7-4863-aa39-e1c7568644c0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:39.541520Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fc643ee5-b9d3-4af4-80db-c593bfb575f9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tWtFjoTzLFu1\&quot;,\n        \&quot;username\&quot;: \&quot;user-ec73f308-443e-42b1-8d7a-901ccc12bbf4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.584665384Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.590716706Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.674093396Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.683030659Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878688111Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878709822Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878742042Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:39.878840195Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot;), &quot;uid&quot;: String(&quot;63a2a8d7-f8e7-4863-aa39-e1c7568644c0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:39.541520Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fc643ee5-b9d3-4af4-80db-c593bfb575f9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tWtFjoTzLFu1&quot;), &quot;username&quot;: String(&quot;user-ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.584665384Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.590716706Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.674093396Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.683030659Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878688111Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878709822Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878742042Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:39.878840195Z&quot;)}]}}
[2023-01-31T16:31:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:31:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODI5OTgsImlhdCI6MTY3NTE4MjY5OCwiYXV0aF90aW1lIjoxNjc1MTgyNjk1LCJqdGkiOiJiOTZjNTk1OC1jYWFjLTQyNmMtYTVhZi05OTQ4MjNjZjQ1ZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1salNac3dReFd4YnRGVzI0bXBOOGciLCJzZXNzaW9uX3N0YXRlIjoiOWMzZjY5Y2QtNjUyMC00Yzc0LTllY2EtMmEwZmUwYThkNzJiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjljM2Y2OWNkLTY1MjAtNGM3NC05ZWNhLTJhMGZlMGE4ZDcyYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ukaA6zLZUlpkc3Hf1q-AcrpE7UjOx5pXI9TcvfScdJIJqDpI_38VeUnaFyu86bd92J0sAhAKMmSnuNPa4_engZ2C3IHm2Yv9rCUxNj4_rJCA0w5W0KZYxL4w0gix6pO1ZKzx6VDKtbAFtP_eM6u3g0KqPsRYGolDkBJDPoxxk9_P7ZAlH16iGFn3NTiXnF1uA35tNkY6AlQNMW_ok-e0eJangEHArFYj8Ai23SVsF18TawN3XRMQO17nFFvMbAqNvmoKp3H_17iGcQVWwDEUaUtn8kUMWMPg2ain_uTVsLSlLu2sD9NRS02NrYvvmPzT_S3LA-KoTP8ZJr7odTV_lw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot; &quot;device1&quot;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ec73f308-443e-42b1-8d7a-901ccc12bbf4&#x27;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ec73f308-443e-42b1-8d7a-901ccc12bbf4&quot;
[2023-01-31T16:31:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:31:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:31:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:31:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:31:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MDcsImlhdCI6MTY3NTE4MjcwNywianRpIjoiMTcwYzMzZjktNDhhZC00ODFmLWE3YmItNmJkYmM5NzQ5NjkxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUWJnWjhCbzAxODJPZkRuRmQ1OFRaUSIsInNlc3Npb25fc3RhdGUiOiJhZDBkOTU5OC00M2EzLTQ4ZmEtYTczMC02N2QwOGU2OGQ0YjIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWQwZDk1OTgtNDNhMy00OGZhLWE3MzAtNjdkMDhlNjhkNGIyIn0.2Ws6KauVZtpXV13-YTUzh6YN5EcwCp5QbNFJcK0t45I
[2023-01-31T16:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MDcsImlhdCI6MTY3NTE4MjcwNywianRpIjoiMTcwYzMzZjktNDhhZC00ODFmLWE3YmItNmJkYmM5NzQ5NjkxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUWJnWjhCbzAxODJPZkRuRmQ1OFRaUSIsInNlc3Npb25fc3RhdGUiOiJhZDBkOTU5OC00M2EzLTQ4ZmEtYTczMC02N2QwOGU2OGQ0YjIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWQwZDk1OTgtNDNhMy00OGZhLWE3MzAtNjdkMDhlNjhkNGIyIn0.2Ws6KauVZtpXV13-YTUzh6YN5EcwCp5QbNFJcK0t45I&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:31:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:48Z INFO  drogue_cloud_tests::resources::apps] Create application: f343d359-56b3-4fc0-9cb3-2e76dc0d0164
[2023-01-31T16:31:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot;
[2023-01-31T16:31:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164\&quot;,\n    \&quot;uid\&quot;: \&quot;e3948654-87e2-4e37-b929-7508e98e5789\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:48.255341Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;426c21d0-902f-4585-8633-c98ea0c27848\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.305297637Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.311299768Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.311335214Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.266877641Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.266878353Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.266948414Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.266980113Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.267097443Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot;), &quot;uid&quot;: String(&quot;e3948654-87e2-4e37-b929-7508e98e5789&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:48.255341Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;426c21d0-902f-4585-8633-c98ea0c27848&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.305297637Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.311299768Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.311335214Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.266877641Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.266878353Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.266948414Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.266980113Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.267097443Z&quot;)}]}}
[2023-01-31T16:31:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164\&quot;,\n    \&quot;uid\&quot;: \&quot;e3948654-87e2-4e37-b929-7508e98e5789\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:48.255341Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ca623c4f-888e-486d-ab42-65d98891b466\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;O5x4ClENv4mn\&quot;,\n        \&quot;username\&quot;: \&quot;user-f343d359-56b3-4fc0-9cb3-2e76dc0d0164\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.305297637Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.311299768Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.400758218Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.407167551Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586882275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586904456Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586934903Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586979066Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot;), &quot;uid&quot;: String(&quot;e3948654-87e2-4e37-b929-7508e98e5789&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:48.255341Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ca623c4f-888e-486d-ab42-65d98891b466&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;O5x4ClENv4mn&quot;), &quot;username&quot;: String(&quot;user-f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.305297637Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.311299768Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.400758218Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.407167551Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586882275Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586904456Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586934903Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586979066Z&quot;)}]}}
[2023-01-31T16:31:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164\&quot;,\n    \&quot;uid\&quot;: \&quot;e3948654-87e2-4e37-b929-7508e98e5789\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:48.255341Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ca623c4f-888e-486d-ab42-65d98891b466\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;O5x4ClENv4mn\&quot;,\n        \&quot;username\&quot;: \&quot;user-f343d359-56b3-4fc0-9cb3-2e76dc0d0164\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.305297637Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.311299768Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.400758218Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.407167551Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586882275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586904456Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586934903Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:48.586979066Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot;), &quot;uid&quot;: String(&quot;e3948654-87e2-4e37-b929-7508e98e5789&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:48.255341Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ca623c4f-888e-486d-ab42-65d98891b466&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;O5x4ClENv4mn&quot;), &quot;username&quot;: String(&quot;user-f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.305297637Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.311299768Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.400758218Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.407167551Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586882275Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586904456Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586934903Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:48.586979066Z&quot;)}]}}
[2023-01-31T16:31:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:31:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwMDcsImlhdCI6MTY3NTE4MjcwNywiYXV0aF90aW1lIjoxNjc1MTgyNzA0LCJqdGkiOiI1ZDI2Zjk3Mi1kNjE0LTQ3MmMtODU1MC0xNjg2MzUzOThjNjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFiZ1o4Qm8wMTgyT2ZEbkZkNThUWlEiLCJzZXNzaW9uX3N0YXRlIjoiYWQwZDk1OTgtNDNhMy00OGZhLWE3MzAtNjdkMDhlNjhkNGIyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFkMGQ5NTk4LTQzYTMtNDhmYS1hNzMwLTY3ZDA4ZTY4ZDRiMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.QIx3dz_tIH-aprcGp04AU8s9BR0syqDt1DMN-GfCgLKsWcz4QhhuK4DDavfRiwMpFrSq8d_hbkuyhC5ZN7GBplPSbm2VfyJjT512DP7zO2e6wipCXx_xv0sRkkD2IYv9dFRiwWeoQzhC0mKcbV3CeB2mVih87Ew2zz98pO42qjpxI_28ZA76ksVPmGTDruNtlCjNX1OshfGfbJmnc4KlmFkGpwCvChKTr9eAFm7Z7JQDLHzg38w2JMTvZo5yOELGj1OlUi81uuAZMVxf78UfozvR0NH7ooKbSvcXfQ3LjBWtu5V02CrHRFM2ScGBP0Q_wBjbOwHXq3hK2YrHwW-yxQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot; &quot;device1&quot;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&#x27;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f343d359-56b3-4fc0-9cb3-2e76dc0d0164&quot;
[2023-01-31T16:31:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:31:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:31:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:31:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:31:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:31:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MTUsImlhdCI6MTY3NTE4MjcxNSwianRpIjoiMGE5ZTI1YmQtY2Y2YS00ZGU2LTg4YmQtNzZlN2RiYjJiZDk4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYnEySzNuVUpIZ21XSzdtdnRjM3ZFZyIsInNlc3Npb25fc3RhdGUiOiJiMjEyZjZlMS01MGQ5LTRkOTQtOTVhNS0wYzlhZTkyODNhNjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjIxMmY2ZTEtNTBkOS00ZDk0LTk1YTUtMGM5YWU5MjgzYTY3In0.DIl7yM9Jy5nh1u8YTLssqp9jUBaAFBeCGhpfJg92wvM
[2023-01-31T16:31:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:31:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MTUsImlhdCI6MTY3NTE4MjcxNSwianRpIjoiMGE5ZTI1YmQtY2Y2YS00ZGU2LTg4YmQtNzZlN2RiYjJiZDk4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYnEySzNuVUpIZ21XSzdtdnRjM3ZFZyIsInNlc3Npb25fc3RhdGUiOiJiMjEyZjZlMS01MGQ5LTRkOTQtOTVhNS0wYzlhZTkyODNhNjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjIxMmY2ZTEtNTBkOS00ZDk0LTk1YTUtMGM5YWU5MjgzYTY3In0.DIl7yM9Jy5nh1u8YTLssqp9jUBaAFBeCGhpfJg92wvM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:31:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:56Z INFO  drogue_cloud_tests::resources::apps] Create application: bcd8368a-0c91-4fe6-8af4-87015ee3a5d1
[2023-01-31T16:31:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot;
[2023-01-31T16:31:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1\&quot;,\n    \&quot;uid\&quot;: \&quot;ac91d51e-c9b4-4a90-b595-5206bf771f7b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:56.733911Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;90c183fb-2e60-48f8-b5fc-38eff0398f2c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.778054788Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.783892100Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.783932536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.748364156Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.748364777Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.748376720Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.748410102Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.748526800Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot;), &quot;uid&quot;: String(&quot;ac91d51e-c9b4-4a90-b595-5206bf771f7b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:56.733911Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;90c183fb-2e60-48f8-b5fc-38eff0398f2c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.778054788Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.783892100Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.783932536Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.748364156Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.748364777Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.748376720Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.748410102Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.748526800Z&quot;)}]}}
[2023-01-31T16:31:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1\&quot;,\n    \&quot;uid\&quot;: \&quot;ac91d51e-c9b4-4a90-b595-5206bf771f7b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:56.733911Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1a62a05b-b79d-43f0-a83e-6016f7f18733\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;UJpVNbbzU1mc\&quot;,\n        \&quot;username\&quot;: \&quot;user-bcd8368a-0c91-4fe6-8af4-87015ee3a5d1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.778054788Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.783892100Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.856402831Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.863143013Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019768567Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019788484Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019817559Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019887940Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot;), &quot;uid&quot;: String(&quot;ac91d51e-c9b4-4a90-b595-5206bf771f7b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:56.733911Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1a62a05b-b79d-43f0-a83e-6016f7f18733&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;UJpVNbbzU1mc&quot;), &quot;username&quot;: String(&quot;user-bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.778054788Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.783892100Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.856402831Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.863143013Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019768567Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019788484Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019817559Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019887940Z&quot;)}]}}
[2023-01-31T16:31:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1\&quot;,\n    \&quot;uid\&quot;: \&quot;ac91d51e-c9b4-4a90-b595-5206bf771f7b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:31:56.733911Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1a62a05b-b79d-43f0-a83e-6016f7f18733\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;UJpVNbbzU1mc\&quot;,\n        \&quot;username\&quot;: \&quot;user-bcd8368a-0c91-4fe6-8af4-87015ee3a5d1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.778054788Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.783892100Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.856402831Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:56.863143013Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019768567Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019788484Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019817559Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:31:57.019887940Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot;), &quot;uid&quot;: String(&quot;ac91d51e-c9b4-4a90-b595-5206bf771f7b&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:31:56.733911Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1a62a05b-b79d-43f0-a83e-6016f7f18733&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;UJpVNbbzU1mc&quot;), &quot;username&quot;: String(&quot;user-bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.778054788Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.783892100Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.856402831Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:56.863143013Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019768567Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019788484Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019817559Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:31:57.019887940Z&quot;)}]}}
[2023-01-31T16:31:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:31:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwMTYsImlhdCI6MTY3NTE4MjcxNiwiYXV0aF90aW1lIjoxNjc1MTgyNzEzLCJqdGkiOiI0ODViNGFkZi0xODE4LTRhYTAtODgzYi0yNDA0NDViZDVjNDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJxMkszblVKSGdtV0s3bXZ0YzN2RWciLCJzZXNzaW9uX3N0YXRlIjoiYjIxMmY2ZTEtNTBkOS00ZDk0LTk1YTUtMGM5YWU5MjgzYTY3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIyMTJmNmUxLTUwZDktNGQ5NC05NWE1LTBjOWFlOTI4M2E2NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.EXCGWspBYJgKKzosUvLqThBmuk3C_usDL_XXzHf9vCADWV5-Dr-Kkp9iHRkmsEcOGtWm-aP-ionc-rx-FNlNyuYPt6Ti1rF2mg9YckmJhsUwofzvpvnABaD7ay7VOIVfxq2wl9kAAi_NYK27K2aQtYKmS9BkmSLVC_Cqa34bL38b8l0OXDEyjoccDaNrUD-nNB21b67haC4i0iTXJxfy-8iP1a0XEPYJuy7a2_LcLuGyPg_suLho6yTiBX_NAaUDTYODoFyi1O_RdxTGVV8C8zVc6avWDdR8NeEp64tSc-Z9Sie8Xjzgv-s6owXrw7Unvj8o8RgVKyK5m9m5SxhXkA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot; &quot;device1&quot;
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&#x27;
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;bcd8368a-0c91-4fe6-8af4-87015ee3a5d1&quot;
[2023-01-31T16:31:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:32:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:32:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:32:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:32:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MjQsImlhdCI6MTY3NTE4MjcyNCwianRpIjoiY2M5NjJiMDYtZmRjZS00OTc5LWEyMDEtYzI4MWI5YTk1MTNkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTjZ4MkRCTDNST2g3SHhaQ1FaRE05QSIsInNlc3Npb25fc3RhdGUiOiI2MjhlYzQwOS0yYmY3LTQ2OGUtOTVmMy1jMjk2M2VjYjdhZjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjI4ZWM0MDktMmJmNy00NjhlLTk1ZjMtYzI5NjNlY2I3YWYzIn0.AMrERfxDssOZ7w63aPEoP68bjXLKNDSzX27Geo9ocIs
[2023-01-31T16:32:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:32:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MjQsImlhdCI6MTY3NTE4MjcyNCwianRpIjoiY2M5NjJiMDYtZmRjZS00OTc5LWEyMDEtYzI4MWI5YTk1MTNkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTjZ4MkRCTDNST2g3SHhaQ1FaRE05QSIsInNlc3Npb25fc3RhdGUiOiI2MjhlYzQwOS0yYmY3LTQ2OGUtOTVmMy1jMjk2M2VjYjdhZjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjI4ZWM0MDktMmJmNy00NjhlLTk1ZjMtYzI5NjNlY2I3YWYzIn0.AMrERfxDssOZ7w63aPEoP68bjXLKNDSzX27Geo9ocIs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:32:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:05Z INFO  drogue_cloud_tests::resources::apps] Create application: d11296d8-ccf4-402f-8891-2b1327819b6e
[2023-01-31T16:32:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot;
[2023-01-31T16:32:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d11296d8-ccf4-402f-8891-2b1327819b6e\&quot;,\n    \&quot;uid\&quot;: \&quot;7d160e26-eb2b-4fea-8111-4cfbcede8a1a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:05.300194Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;461d823a-55de-40d5-98ba-814630fc5481\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.345215643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.352259071Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.352305007Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.321283315Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.321284267Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.321294185Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.321351391Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.321321335Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot;), &quot;uid&quot;: String(&quot;7d160e26-eb2b-4fea-8111-4cfbcede8a1a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:05.300194Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;461d823a-55de-40d5-98ba-814630fc5481&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.345215643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.352259071Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.352305007Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.321283315Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.321284267Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.321294185Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.321351391Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.321321335Z&quot;)}]}}
[2023-01-31T16:32:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d11296d8-ccf4-402f-8891-2b1327819b6e\&quot;,\n    \&quot;uid\&quot;: \&quot;7d160e26-eb2b-4fea-8111-4cfbcede8a1a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:05.300194Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c97d50c8-d0fe-4fea-bdb0-3dc4bdf9a657\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;lEz8Hc1eOOY8\&quot;,\n        \&quot;username\&quot;: \&quot;user-d11296d8-ccf4-402f-8891-2b1327819b6e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.345215643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.352259071Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.420560989Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.427558821Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.608899850Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.608958360Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.609047226Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.608994157Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot;), &quot;uid&quot;: String(&quot;7d160e26-eb2b-4fea-8111-4cfbcede8a1a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:05.300194Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c97d50c8-d0fe-4fea-bdb0-3dc4bdf9a657&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;lEz8Hc1eOOY8&quot;), &quot;username&quot;: String(&quot;user-d11296d8-ccf4-402f-8891-2b1327819b6e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.345215643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.352259071Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.420560989Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.427558821Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.608899850Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.608958360Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.609047226Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.608994157Z&quot;)}]}}
[2023-01-31T16:32:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d11296d8-ccf4-402f-8891-2b1327819b6e\&quot;,\n    \&quot;uid\&quot;: \&quot;7d160e26-eb2b-4fea-8111-4cfbcede8a1a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:05.300194Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c97d50c8-d0fe-4fea-bdb0-3dc4bdf9a657\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;lEz8Hc1eOOY8\&quot;,\n        \&quot;username\&quot;: \&quot;user-d11296d8-ccf4-402f-8891-2b1327819b6e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.345215643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.352259071Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.420560989Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.427558821Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.608899850Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.608958360Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.609047226Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:05.608994157Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot;), &quot;uid&quot;: String(&quot;7d160e26-eb2b-4fea-8111-4cfbcede8a1a&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:05.300194Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c97d50c8-d0fe-4fea-bdb0-3dc4bdf9a657&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;lEz8Hc1eOOY8&quot;), &quot;username&quot;: String(&quot;user-d11296d8-ccf4-402f-8891-2b1327819b6e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.345215643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.352259071Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.420560989Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.427558821Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.608899850Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.608958360Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.609047226Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:05.608994157Z&quot;)}]}}
[2023-01-31T16:32:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:32:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwMjQsImlhdCI6MTY3NTE4MjcyNCwiYXV0aF90aW1lIjoxNjc1MTgyNzIxLCJqdGkiOiI4Nzk2ZWI3MS0yMzBiLTQxZjItOTcwNC1jYzc5OTUzOTVlMDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik42eDJEQkwzUk9oN0h4WkNRWkRNOUEiLCJzZXNzaW9uX3N0YXRlIjoiNjI4ZWM0MDktMmJmNy00NjhlLTk1ZjMtYzI5NjNlY2I3YWYzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYyOGVjNDA5LTJiZjctNDY4ZS05NWYzLWMyOTYzZWNiN2FmMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.h02JwRaSgUw0cnQ65ppkTQeGK3tOrYoZabxF34BtoiVC_hBLPmWzFQRn1UFTWGVP634M6rQ-aEMhd6qxFzqK-cfgK7gSx__J9XNw1ra5FEfF7itHVN2FJho6qjAK1KDmPm3tV7d6KkzEW_lJ7H5dQxWXTLvblemkjDZ1dN8XQ4Lp6bcqYNCc-nIn9iU41rwlvMfK_0YAIYorlDwJuuC2vON59wCXkBCyp1hMCW5OFN425gwSS9un7dnrRyLIJ_m1a2SwbCAZK_TkrsFfjrDUNd0xiMrW01b6lqgK5L_aOykymqOTdypQ4XgrVP91EOY4bokv3QxOp9GzBUWtr-v7yw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot; &quot;device1&quot;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d11296d8-ccf4-402f-8891-2b1327819b6e&#x27;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d11296d8-ccf4-402f-8891-2b1327819b6e&quot;
[2023-01-31T16:32:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:32:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:32:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:32:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:32:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MzIsImlhdCI6MTY3NTE4MjczMiwianRpIjoiOWRiYWFlMTAtMmRiZC00ZDM0LWJjMWMtZmU2NGMxZTA4N2QwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYmptcWVXUkhSNkJUWElzNmU0cXBadyIsInNlc3Npb25fc3RhdGUiOiI4YWNmYmNmOC0xNTFkLTRlNWMtYjBlMy1mOGQwZTcxZTRiYzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGFjZmJjZjgtMTUxZC00ZTVjLWIwZTMtZjhkMGU3MWU0YmMyIn0.n17f2XIleRnVXfTpVVvkZxwyEzUAVfLdjXoYQz8yhp8
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1MzIsImlhdCI6MTY3NTE4MjczMiwianRpIjoiOWRiYWFlMTAtMmRiZC00ZDM0LWJjMWMtZmU2NGMxZTA4N2QwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYmptcWVXUkhSNkJUWElzNmU0cXBadyIsInNlc3Npb25fc3RhdGUiOiI4YWNmYmNmOC0xNTFkLTRlNWMtYjBlMy1mOGQwZTcxZTRiYzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGFjZmJjZjgtMTUxZC00ZTVjLWIwZTMtZjhkMGU3MWU0YmMyIn0.n17f2XIleRnVXfTpVVvkZxwyEzUAVfLdjXoYQz8yhp8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 61ecb8c4-6558-414a-b46e-8b37ad9bc88e
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot;
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e\&quot;,\n    \&quot;uid\&quot;: \&quot;678c131a-4f3d-46e9-aa9a-8aa021cb8218\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:13.969719Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cc1eb22a-8cbe-42cb-b6b3-b8b17680270e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.013502950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.020689708Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.020724593Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:13.983366704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:13.983367596Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:13.983386932Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:13.983443548Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:13.983488622Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot;), &quot;uid&quot;: String(&quot;678c131a-4f3d-46e9-aa9a-8aa021cb8218&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:13.969719Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cc1eb22a-8cbe-42cb-b6b3-b8b17680270e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.013502950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.020689708Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.020724593Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:13.983366704Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:13.983367596Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:13.983386932Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:13.983443548Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:13.983488622Z&quot;)}]}}
[2023-01-31T16:32:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e\&quot;,\n    \&quot;uid\&quot;: \&quot;678c131a-4f3d-46e9-aa9a-8aa021cb8218\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:13.969719Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;635c9778-f3d5-4174-bb98-8d380a737a19\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;W21I8ZqFQEZL\&quot;,\n        \&quot;username\&quot;: \&quot;user-61ecb8c4-6558-414a-b46e-8b37ad9bc88e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.013502950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.020689708Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.076618023Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.086606952Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251195186Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251209744Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251237425Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251277100Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot;), &quot;uid&quot;: String(&quot;678c131a-4f3d-46e9-aa9a-8aa021cb8218&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:13.969719Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;635c9778-f3d5-4174-bb98-8d380a737a19&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;W21I8ZqFQEZL&quot;), &quot;username&quot;: String(&quot;user-61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.013502950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.020689708Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.076618023Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.086606952Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251195186Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251209744Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251237425Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251277100Z&quot;)}]}}
[2023-01-31T16:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e\&quot;,\n    \&quot;uid\&quot;: \&quot;678c131a-4f3d-46e9-aa9a-8aa021cb8218\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:13.969719Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;635c9778-f3d5-4174-bb98-8d380a737a19\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;W21I8ZqFQEZL\&quot;,\n        \&quot;username\&quot;: \&quot;user-61ecb8c4-6558-414a-b46e-8b37ad9bc88e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.013502950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.020689708Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.076618023Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.086606952Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251195186Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251209744Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251237425Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:14.251277100Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot;), &quot;uid&quot;: String(&quot;678c131a-4f3d-46e9-aa9a-8aa021cb8218&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:13.969719Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;635c9778-f3d5-4174-bb98-8d380a737a19&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;W21I8ZqFQEZL&quot;), &quot;username&quot;: String(&quot;user-61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.013502950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.020689708Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.076618023Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.086606952Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251195186Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251209744Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251237425Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:14.251277100Z&quot;)}]}}
[2023-01-31T16:32:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:32:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwMzMsImlhdCI6MTY3NTE4MjczMywiYXV0aF90aW1lIjoxNjc1MTgyNzMwLCJqdGkiOiJkZDkzNmY4Yi0yYjZmLTRjZTMtYTEzZi1mMzJmMWQ4NDMzNTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJqbXFlV1JIUjZCVFhJczZlNHFwWnciLCJzZXNzaW9uX3N0YXRlIjoiOGFjZmJjZjgtMTUxZC00ZTVjLWIwZTMtZjhkMGU3MWU0YmMyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhhY2ZiY2Y4LTE1MWQtNGU1Yy1iMGUzLWY4ZDBlNzFlNGJjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.htiRCQlXaf63L4gLvS_ZfEMq0GvvkyiR23thfj_fb6fumPxvwFccTn67dVMYKmLXboV4Ihb28Xi4z4fYrIFyClVCFeP2JstiUgP3Xwx5M_w0FfgU29bxP1fE1dnn6X4kE9koEBEVPetrKjmhzB-23ksQaAVC_nFHA2hownDN8WMdCReb4Qwj70m-HUJj9oivZyHtfFgL5UjPHzX3Kq5McBfy9ZLpNm5tiyBLIojzs9_2QtLEbamqsjdWDGhaLhU-qfoPXzoqbxV5iFmRSjZXw3Yqae3Ya1HfGh5gyzQwep9FZzNn9JnEY19sCmp9nbP81-31yqI8zVzhbgIGWl7plw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot; &quot;device1&quot;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&#x27;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;61ecb8c4-6558-414a-b46e-8b37ad9bc88e&quot;
[2023-01-31T16:32:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:32:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:32:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:32:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:32:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NDEsImlhdCI6MTY3NTE4Mjc0MSwianRpIjoiOWE1ZDAzOTItYWYzNy00NmFjLThjMzgtNDg5ODc4ZWY2ZDViIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQWpJd3UtLXQ4ODlkajBrV0JmeUpMUSIsInNlc3Npb25fc3RhdGUiOiI1MGI0ZGUzYS1mMjI4LTRlZjctOTQzYi04OTI3YWE1ZWY2ZjQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTBiNGRlM2EtZjIyOC00ZWY3LTk0M2ItODkyN2FhNWVmNmY0In0.xKEq63-EMJdvBz84B4c7MifXkMNo7Ohfw6LKBQa01io
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NDEsImlhdCI6MTY3NTE4Mjc0MSwianRpIjoiOWE1ZDAzOTItYWYzNy00NmFjLThjMzgtNDg5ODc4ZWY2ZDViIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQWpJd3UtLXQ4ODlkajBrV0JmeUpMUSIsInNlc3Npb25fc3RhdGUiOiI1MGI0ZGUzYS1mMjI4LTRlZjctOTQzYi04OTI3YWE1ZWY2ZjQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTBiNGRlM2EtZjIyOC00ZWY3LTk0M2ItODkyN2FhNWVmNmY0In0.xKEq63-EMJdvBz84B4c7MifXkMNo7Ohfw6LKBQa01io&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::resources::apps] Create application: e7caa33f-cf59-4b27-a6b2-aa527798195c
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot;
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e7caa33f-cf59-4b27-a6b2-aa527798195c\&quot;,\n    \&quot;uid\&quot;: \&quot;880607e3-498e-44a0-a53b-63679634e0d2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:22.772733Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ce7149ad-248c-4b64-89b4-bb332ff5f15e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.812806988Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.820276134Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.820312953Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.784640587Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.784641519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.784651558Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.784689108Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.784732821Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot;), &quot;uid&quot;: String(&quot;880607e3-498e-44a0-a53b-63679634e0d2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:22.772733Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ce7149ad-248c-4b64-89b4-bb332ff5f15e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.812806988Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.820276134Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.820312953Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.784640587Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.784641519Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.784651558Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.784689108Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.784732821Z&quot;)}]}}
[2023-01-31T16:32:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:32:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e7caa33f-cf59-4b27-a6b2-aa527798195c\&quot;,\n    \&quot;uid\&quot;: \&quot;880607e3-498e-44a0-a53b-63679634e0d2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:22.772733Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;53b4be4b-8e1c-4e5d-b863-dfca3b0f63e0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;OSJENU6nWiZi\&quot;,\n        \&quot;username\&quot;: \&quot;user-e7caa33f-cf59-4b27-a6b2-aa527798195c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.812806988Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.820276134Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.886019114Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.891942316Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070151377Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070198916Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070231246Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070302439Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot;), &quot;uid&quot;: String(&quot;880607e3-498e-44a0-a53b-63679634e0d2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:22.772733Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;53b4be4b-8e1c-4e5d-b863-dfca3b0f63e0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;OSJENU6nWiZi&quot;), &quot;username&quot;: String(&quot;user-e7caa33f-cf59-4b27-a6b2-aa527798195c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.812806988Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.820276134Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.886019114Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.891942316Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070151377Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070198916Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070231246Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070302439Z&quot;)}]}}
[2023-01-31T16:32:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:32:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e7caa33f-cf59-4b27-a6b2-aa527798195c\&quot;,\n    \&quot;uid\&quot;: \&quot;880607e3-498e-44a0-a53b-63679634e0d2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:22.772733Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;53b4be4b-8e1c-4e5d-b863-dfca3b0f63e0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;OSJENU6nWiZi\&quot;,\n        \&quot;username\&quot;: \&quot;user-e7caa33f-cf59-4b27-a6b2-aa527798195c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.812806988Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.820276134Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.886019114Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:22.891942316Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070151377Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070198916Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070231246Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:23.070302439Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot;), &quot;uid&quot;: String(&quot;880607e3-498e-44a0-a53b-63679634e0d2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:22.772733Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;53b4be4b-8e1c-4e5d-b863-dfca3b0f63e0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;OSJENU6nWiZi&quot;), &quot;username&quot;: String(&quot;user-e7caa33f-cf59-4b27-a6b2-aa527798195c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.812806988Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.820276134Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.886019114Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:22.891942316Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070151377Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070198916Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070231246Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:23.070302439Z&quot;)}]}}
[2023-01-31T16:32:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:32:23Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:32:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:32:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwNDIsImlhdCI6MTY3NTE4Mjc0MiwiYXV0aF90aW1lIjoxNjc1MTgyNzM5LCJqdGkiOiI4OWFmZDY2NS1kMDU4LTQwNzctOTEwNC1kNjBhYWVhYWIxMTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFqSXd1LS10ODg5ZGowa1dCZnlKTFEiLCJzZXNzaW9uX3N0YXRlIjoiNTBiNGRlM2EtZjIyOC00ZWY3LTk0M2ItODkyN2FhNWVmNmY0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUwYjRkZTNhLWYyMjgtNGVmNy05NDNiLTg5MjdhYTVlZjZmNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.JGI67yD5JsNUhYG_N1WLfNmny0Fvl3inxjvCHNI_TqDZo1jBOSAOT0sN0VZfCGzCyfkECsLVtRurekdbkI9j_bkODEVO2AeM6vtS1UmQ4BzOVzhU9SuJ1s0oA_cuvgzbcyxicsxWWXJLb7E_3LTV8x43QXdGM8XIw8E0b3qlOb83ysrNb_ovdpG0yQjJ0DDqzRRq1BL0Pca5XW7SzvEKfxrhbnRkK9Bu9iDAK82QMIpT1Z2lnWg7KgniKz54vQgfunCAOyKgimUxmoO-Iy-dm_bMBW9PiQQMgyyjgoI6VtF8HKEjL-hLQXckVIJCn_Sbg5OVIZZah92cWgbkEGEqxA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot; &quot;device1&quot;
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e7caa33f-cf59-4b27-a6b2-aa527798195c&#x27;
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e7caa33f-cf59-4b27-a6b2-aa527798195c&quot;
[2023-01-31T16:32:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:32:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:32:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:32:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:32:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NTAsImlhdCI6MTY3NTE4Mjc1MCwianRpIjoiZDUyNDllYWMtMzQyZC00MmZkLTk2NTgtNTdiNzVmMmJjOWY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNTlSUFVvbGhQaU94b3RrUVZCbkhvUSIsInNlc3Npb25fc3RhdGUiOiIzMTBiYjI0Ni1kNjRlLTQxNjEtYjIwMy04OGVkN2Q2ZDcwYmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzEwYmIyNDYtZDY0ZS00MTYxLWIyMDMtODhlZDdkNmQ3MGJlIn0.2ho3JISjVnF-0LvtG6BgQSYO-PnFUQm74XRTaesWCJY
[2023-01-31T16:32:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:32:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NTAsImlhdCI6MTY3NTE4Mjc1MCwianRpIjoiZDUyNDllYWMtMzQyZC00MmZkLTk2NTgtNTdiNzVmMmJjOWY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNTlSUFVvbGhQaU94b3RrUVZCbkhvUSIsInNlc3Npb25fc3RhdGUiOiIzMTBiYjI0Ni1kNjRlLTQxNjEtYjIwMy04OGVkN2Q2ZDcwYmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzEwYmIyNDYtZDY0ZS00MTYxLWIyMDMtODhlZDdkNmQ3MGJlIn0.2ho3JISjVnF-0LvtG6BgQSYO-PnFUQm74XRTaesWCJY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:32:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 0bc76668-8fc7-419e-a292-8cadcfc2711d
[2023-01-31T16:32:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot;
[2023-01-31T16:32:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0bc76668-8fc7-419e-a292-8cadcfc2711d\&quot;,\n    \&quot;uid\&quot;: \&quot;4a1723bb-6c76-4907-b91f-d2f301e9edc6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:31.402738Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3ef8bf7d-fbe6-4021-95dd-f6612ddcbf80\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.450643108Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.457486894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.457533240Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.426348351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.426349173Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.426390991Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.426477483Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.426419154Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot;), &quot;uid&quot;: String(&quot;4a1723bb-6c76-4907-b91f-d2f301e9edc6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:31.402738Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3ef8bf7d-fbe6-4021-95dd-f6612ddcbf80&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.450643108Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.457486894Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.457533240Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.426348351Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.426349173Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.426390991Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.426477483Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.426419154Z&quot;)}]}}
[2023-01-31T16:32:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0bc76668-8fc7-419e-a292-8cadcfc2711d\&quot;,\n    \&quot;uid\&quot;: \&quot;4a1723bb-6c76-4907-b91f-d2f301e9edc6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:31.402738Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5cba76ee-e2eb-445e-9dd1-5493e4286255\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Qw1tNcPqXAF1\&quot;,\n        \&quot;username\&quot;: \&quot;user-0bc76668-8fc7-419e-a292-8cadcfc2711d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.450643108Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.457486894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.521934289Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.529085099Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760336857Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760393524Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760477581Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760426464Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot;), &quot;uid&quot;: String(&quot;4a1723bb-6c76-4907-b91f-d2f301e9edc6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:31.402738Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5cba76ee-e2eb-445e-9dd1-5493e4286255&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Qw1tNcPqXAF1&quot;), &quot;username&quot;: String(&quot;user-0bc76668-8fc7-419e-a292-8cadcfc2711d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.450643108Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.457486894Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.521934289Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.529085099Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760336857Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760393524Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760477581Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760426464Z&quot;)}]}}
[2023-01-31T16:32:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0bc76668-8fc7-419e-a292-8cadcfc2711d\&quot;,\n    \&quot;uid\&quot;: \&quot;4a1723bb-6c76-4907-b91f-d2f301e9edc6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:31.402738Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5cba76ee-e2eb-445e-9dd1-5493e4286255\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Qw1tNcPqXAF1\&quot;,\n        \&quot;username\&quot;: \&quot;user-0bc76668-8fc7-419e-a292-8cadcfc2711d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.450643108Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.457486894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.521934289Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.529085099Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760336857Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760393524Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760477581Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:31.760426464Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot;), &quot;uid&quot;: String(&quot;4a1723bb-6c76-4907-b91f-d2f301e9edc6&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:31.402738Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5cba76ee-e2eb-445e-9dd1-5493e4286255&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Qw1tNcPqXAF1&quot;), &quot;username&quot;: String(&quot;user-0bc76668-8fc7-419e-a292-8cadcfc2711d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.450643108Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.457486894Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.521934289Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.529085099Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760336857Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760393524Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760477581Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:31.760426464Z&quot;)}]}}
[2023-01-31T16:32:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:32:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwNTAsImlhdCI6MTY3NTE4Mjc1MCwiYXV0aF90aW1lIjoxNjc1MTgyNzQ3LCJqdGkiOiI2MzM3ZGZjZi1hOGRmLTRkMTAtYmY4Zi1jMTQwYjRiZGY0N2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjU5UlBVb2xoUGlPeG90a1FWQm5Ib1EiLCJzZXNzaW9uX3N0YXRlIjoiMzEwYmIyNDYtZDY0ZS00MTYxLWIyMDMtODhlZDdkNmQ3MGJlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMxMGJiMjQ2LWQ2NGUtNDE2MS1iMjAzLTg4ZWQ3ZDZkNzBiZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.aC2GHXty1hlkIGksB0jOtQAV-rgt4OV7bjuCpPWzGul7NHcV675CloX15bncBeWwgopH1WaaPXYARrhwYLdFla5hkzEgHuq_R6OlY-u2kxcTLfUgIk3jKOQ1xjLaCeJxbd3rTWN_ahv3vOtVGYuVlfMEzUxRbs2tzyLA2a7Vp3ITULcVFl8h1IYJuJRxGDNgvFKfnTHnBblVpRTghZXSLSn6OVtHdwTUcBLaM0v429jWXH8qe9VWBFOg8gJ2JY2oHiDHAynGs8W00XaR6zTDqg1KeSwf7hSNym3ajATL0vL_6hSfCdYoGVUUe8RVZc5y04sjUrXQQzVQaBKkmvyzdg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot; &quot;device1&quot;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0bc76668-8fc7-419e-a292-8cadcfc2711d&#x27;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0bc76668-8fc7-419e-a292-8cadcfc2711d&quot;
[2023-01-31T16:32:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:32:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:32:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:32:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:32:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NTksImlhdCI6MTY3NTE4Mjc1OSwianRpIjoiNGNmOTM4MDktZjNjNy00ODEzLTkzMWItZTBjMmVmYjI5MGUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUWhZdmxWa2lFd3UtbVExbDM2SG94dyIsInNlc3Npb25fc3RhdGUiOiIwMjkxZjEzYS0wOTk4LTQ0MGMtYjQ4Ni1hMzg3MjgzYmIyN2EiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDI5MWYxM2EtMDk5OC00NDBjLWI0ODYtYTM4NzI4M2JiMjdhIn0.JKlY2t9BahSK2ErTUXVrJ1GA2EbwEPSuWYsM7QmxdDM
[2023-01-31T16:32:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:32:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NTksImlhdCI6MTY3NTE4Mjc1OSwianRpIjoiNGNmOTM4MDktZjNjNy00ODEzLTkzMWItZTBjMmVmYjI5MGUyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUWhZdmxWa2lFd3UtbVExbDM2SG94dyIsInNlc3Npb25fc3RhdGUiOiIwMjkxZjEzYS0wOTk4LTQ0MGMtYjQ4Ni1hMzg3MjgzYmIyN2EiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDI5MWYxM2EtMDk5OC00NDBjLWI0ODYtYTM4NzI4M2JiMjdhIn0.JKlY2t9BahSK2ErTUXVrJ1GA2EbwEPSuWYsM7QmxdDM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:32:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:39Z INFO  drogue_cloud_tests::resources::apps] Create application: 77e5d1ba-81df-40d8-a1d8-86544a3069f5
[2023-01-31T16:32:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot;
[2023-01-31T16:32:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5\&quot;,\n    \&quot;uid\&quot;: \&quot;cb13939c-122a-492e-b2f9-7c1908e114b3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:40.009904Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f45bed2b-bd15-44c0-a0fe-95553715b8e9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.064598805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.072698691Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.072801492Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.031215723Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.031216394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.031221293Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.031272238Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.031245418Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot;), &quot;uid&quot;: String(&quot;cb13939c-122a-492e-b2f9-7c1908e114b3&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:40.009904Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f45bed2b-bd15-44c0-a0fe-95553715b8e9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.064598805Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.072698691Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.072801492Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.031215723Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.031216394Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.031221293Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.031272238Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.031245418Z&quot;)}]}}
[2023-01-31T16:32:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5\&quot;,\n    \&quot;uid\&quot;: \&quot;cb13939c-122a-492e-b2f9-7c1908e114b3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:40.009904Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;00044275-130f-4610-9884-344fd85617d4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;COepnvfUBN6F\&quot;,\n        \&quot;username\&quot;: \&quot;user-77e5d1ba-81df-40d8-a1d8-86544a3069f5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.064598805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.072698691Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.122509480Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.129620716Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.290851010Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.291003616Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.291180446Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.291107009Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot;), &quot;uid&quot;: String(&quot;cb13939c-122a-492e-b2f9-7c1908e114b3&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:40.009904Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;00044275-130f-4610-9884-344fd85617d4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;COepnvfUBN6F&quot;), &quot;username&quot;: String(&quot;user-77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.064598805Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.072698691Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.122509480Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.129620716Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.290851010Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.291003616Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.291180446Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.291107009Z&quot;)}]}}
[2023-01-31T16:32:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5\&quot;,\n    \&quot;uid\&quot;: \&quot;cb13939c-122a-492e-b2f9-7c1908e114b3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:40.009904Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;00044275-130f-4610-9884-344fd85617d4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;COepnvfUBN6F\&quot;,\n        \&quot;username\&quot;: \&quot;user-77e5d1ba-81df-40d8-a1d8-86544a3069f5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.064598805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.072698691Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.122509480Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.129620716Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.290851010Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.291003616Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.291180446Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:40.291107009Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot;), &quot;uid&quot;: String(&quot;cb13939c-122a-492e-b2f9-7c1908e114b3&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:40.009904Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;00044275-130f-4610-9884-344fd85617d4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;COepnvfUBN6F&quot;), &quot;username&quot;: String(&quot;user-77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.064598805Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.072698691Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.122509480Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.129620716Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.290851010Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.291003616Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.291180446Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:40.291107009Z&quot;)}]}}
[2023-01-31T16:32:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:32:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwNTksImlhdCI6MTY3NTE4Mjc1OSwiYXV0aF90aW1lIjoxNjc1MTgyNzU2LCJqdGkiOiIzZmVmNjYyMi1jN2NmLTRmMGQtOTM0OS04OTFkODExMGJjMjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFoWXZsVmtpRXd1LW1RMWwzNkhveHciLCJzZXNzaW9uX3N0YXRlIjoiMDI5MWYxM2EtMDk5OC00NDBjLWI0ODYtYTM4NzI4M2JiMjdhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAyOTFmMTNhLTA5OTgtNDQwYy1iNDg2LWEzODcyODNiYjI3YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.h5CYnNU1GZ9lYaGi49NjLwQ4RQqv7UIaKjNTLPXndZDwW24w1qB6gq16agZhO-RlbOeaLGm0g_HcUb6-y5C_HtAw2aCsmLEV3a48fIgbW7_wOS7u3HfziZTlwKyACBwU0Z6eTEvVtO4BJwZDMXoN-ROBQDXYtGpMXjBLZFt6RYxByNtrROzA4LLzgJSsLwhMEAb2eEbdN9RUAMv-Na7vCBM4FEuCi8FlYW3oPC5UXIS_ZUw4qcb43qiWYZ4dio2SbQxp-I9cqM7QScE7k5HZHmbMyWAIbk_j6tzzt2WsRAXv-ONaiflwKsI-tzkxbzvQwIuHfQ6U8ZJ2y8fvXlM8XA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot; &quot;device1&quot;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;77e5d1ba-81df-40d8-a1d8-86544a3069f5&#x27;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;77e5d1ba-81df-40d8-a1d8-86544a3069f5&quot;
[2023-01-31T16:32:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:32:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:32:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:32:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:32:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NjcsImlhdCI6MTY3NTE4Mjc2NywianRpIjoiMzk1MDRmMmMtNmMxNC00N2ZhLWE0YzctN2I4MGFjOWVlOGEzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia25Ea3N2dXl1NkV3Z29wNENRR3FxUSIsInNlc3Npb25fc3RhdGUiOiI0MzlkMjY1OC1iNjJhLTRiNDEtYjk4OC00MGI1NGVjNTc5YzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDM5ZDI2NTgtYjYyYS00YjQxLWI5ODgtNDBiNTRlYzU3OWM2In0.F5FzsuCUW5XzcPt4TzBjSy49wFFiKdOS-ELmwHRXyq0
[2023-01-31T16:32:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:32:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NjcsImlhdCI6MTY3NTE4Mjc2NywianRpIjoiMzk1MDRmMmMtNmMxNC00N2ZhLWE0YzctN2I4MGFjOWVlOGEzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia25Ea3N2dXl1NkV3Z29wNENRR3FxUSIsInNlc3Npb25fc3RhdGUiOiI0MzlkMjY1OC1iNjJhLTRiNDEtYjk4OC00MGI1NGVjNTc5YzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDM5ZDI2NTgtYjYyYS00YjQxLWI5ODgtNDBiNTRlYzU3OWM2In0.F5FzsuCUW5XzcPt4TzBjSy49wFFiKdOS-ELmwHRXyq0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:32:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:48Z INFO  drogue_cloud_tests::resources::apps] Create application: d5598940-f9e7-4bcf-9d97-34098e038db5
[2023-01-31T16:32:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot;
[2023-01-31T16:32:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d5598940-f9e7-4bcf-9d97-34098e038db5\&quot;,\n    \&quot;uid\&quot;: \&quot;3470bb65-ca97-46da-b66f-6f65a7580cb2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:48.571745Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fed72004-d239-47b1-a9c3-e323c9fcd121\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.611706930Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.617938550Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.617977452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.585726539Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.585727471Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.585818481Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.585887410Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.585992866Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot;), &quot;uid&quot;: String(&quot;3470bb65-ca97-46da-b66f-6f65a7580cb2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:48.571745Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fed72004-d239-47b1-a9c3-e323c9fcd121&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.611706930Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.617938550Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.617977452Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.585726539Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.585727471Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.585818481Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.585887410Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.585992866Z&quot;)}]}}
[2023-01-31T16:32:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d5598940-f9e7-4bcf-9d97-34098e038db5\&quot;,\n    \&quot;uid\&quot;: \&quot;3470bb65-ca97-46da-b66f-6f65a7580cb2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:48.571745Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7e2abe97-23e3-4a96-b98f-7134afaec825\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;aXurZImIAKcg\&quot;,\n        \&quot;username\&quot;: \&quot;user-d5598940-f9e7-4bcf-9d97-34098e038db5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.611706930Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.617938550Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.678093835Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.683937840Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910139241Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910183955Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910215874Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910269124Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot;), &quot;uid&quot;: String(&quot;3470bb65-ca97-46da-b66f-6f65a7580cb2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:48.571745Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7e2abe97-23e3-4a96-b98f-7134afaec825&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;aXurZImIAKcg&quot;), &quot;username&quot;: String(&quot;user-d5598940-f9e7-4bcf-9d97-34098e038db5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.611706930Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.617938550Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.678093835Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.683937840Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910139241Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910183955Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910215874Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910269124Z&quot;)}]}}
[2023-01-31T16:32:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d5598940-f9e7-4bcf-9d97-34098e038db5\&quot;,\n    \&quot;uid\&quot;: \&quot;3470bb65-ca97-46da-b66f-6f65a7580cb2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:48.571745Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7e2abe97-23e3-4a96-b98f-7134afaec825\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;aXurZImIAKcg\&quot;,\n        \&quot;username\&quot;: \&quot;user-d5598940-f9e7-4bcf-9d97-34098e038db5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.611706930Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.617938550Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.678093835Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.683937840Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910139241Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910183955Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910215874Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:48.910269124Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot;), &quot;uid&quot;: String(&quot;3470bb65-ca97-46da-b66f-6f65a7580cb2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:48.571745Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7e2abe97-23e3-4a96-b98f-7134afaec825&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;aXurZImIAKcg&quot;), &quot;username&quot;: String(&quot;user-d5598940-f9e7-4bcf-9d97-34098e038db5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.611706930Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.617938550Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.678093835Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.683937840Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910139241Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910183955Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910215874Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:48.910269124Z&quot;)}]}}
[2023-01-31T16:32:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:32:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwNjcsImlhdCI6MTY3NTE4Mjc2NywiYXV0aF90aW1lIjoxNjc1MTgyNzY0LCJqdGkiOiIzMzkyOGEyYy0wZDQyLTRlOTctOTE3MC03ZmQ3YjcwYjczNGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtuRGtzdnV5dTZFd2dvcDRDUUdxcVEiLCJzZXNzaW9uX3N0YXRlIjoiNDM5ZDI2NTgtYjYyYS00YjQxLWI5ODgtNDBiNTRlYzU3OWM2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQzOWQyNjU4LWI2MmEtNGI0MS1iOTg4LTQwYjU0ZWM1NzljNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.kKglwG35MOv362Fj9vOqEuf2niFk-L0KxHHkNsOwIC2vUUI2bsETERzGnE0qkMNDAQjkf_rvGOyvoXjDds50n3hWOsMVD4IemEL_9DTUewfvQ-37FtvbkhPwfVj-CXTr_1CsRjHtcS9nQz0Y9GuMqWIyvBZ3bGI13OV1deXn9bR96aFAkMWmeb2hiFR1-e2DODLjPyxgM_XqSvSzMzDyY_8r8Ko1k5TsGiPhup_8ntK3yLBm9uV6bKV34A4JlrhSxtTzmyYXqYFWCZMalEFJteopyMCu6AwWJQUOUl2Qj2R0iX0PwfaoHG6_JJaalILbss6GIyKbfsfJ2Ncqq2l_4Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot; &quot;device1&quot;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d5598940-f9e7-4bcf-9d97-34098e038db5&#x27;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d5598940-f9e7-4bcf-9d97-34098e038db5&quot;
[2023-01-31T16:32:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:32:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:32:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:32:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:32:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:32:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NzYsImlhdCI6MTY3NTE4Mjc3NiwianRpIjoiOTRjNDFkM2ItN2ZhZi00MjFjLTg4ZTEtNTk5YTU1ZWU4ZDZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM1VsNlNuYkN1ZWxpcm12dWFHSzJlQSIsInNlc3Npb25fc3RhdGUiOiJkNzFiODEwZC03MmQ3LTQ1NDctOGNmMS1jMmM5OTc0ODMxYjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDcxYjgxMGQtNzJkNy00NTQ3LThjZjEtYzJjOTk3NDgzMWI5In0.X9XT-Y7MNM0VlhFZnt3aZSfBoXF4bLQcwsNLH_wrdRY
[2023-01-31T16:32:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:32:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1NzYsImlhdCI6MTY3NTE4Mjc3NiwianRpIjoiOTRjNDFkM2ItN2ZhZi00MjFjLTg4ZTEtNTk5YTU1ZWU4ZDZiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM1VsNlNuYkN1ZWxpcm12dWFHSzJlQSIsInNlc3Npb25fc3RhdGUiOiJkNzFiODEwZC03MmQ3LTQ1NDctOGNmMS1jMmM5OTc0ODMxYjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDcxYjgxMGQtNzJkNy00NTQ3LThjZjEtYzJjOTk3NDgzMWI5In0.X9XT-Y7MNM0VlhFZnt3aZSfBoXF4bLQcwsNLH_wrdRY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:32:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:57Z INFO  drogue_cloud_tests::resources::apps] Create application: d6ed0c14-a29b-42be-be71-6264e056ca8f
[2023-01-31T16:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot;
[2023-01-31T16:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d6ed0c14-a29b-42be-be71-6264e056ca8f\&quot;,\n    \&quot;uid\&quot;: \&quot;ea2d45d0-fea2-4106-8903-c6ff88a73bc0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:57.102107Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2b6d4d23-3ad6-41e5-b459-63b5d1c34e59\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.155990586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.161534158Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.161570005Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.124247081Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.124247982Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.124256158Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.124367296Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.124286505Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot;), &quot;uid&quot;: String(&quot;ea2d45d0-fea2-4106-8903-c6ff88a73bc0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:57.102107Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2b6d4d23-3ad6-41e5-b459-63b5d1c34e59&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.155990586Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.161534158Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.161570005Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.124247081Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.124247982Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.124256158Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.124367296Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.124286505Z&quot;)}]}}
[2023-01-31T16:32:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d6ed0c14-a29b-42be-be71-6264e056ca8f\&quot;,\n    \&quot;uid\&quot;: \&quot;ea2d45d0-fea2-4106-8903-c6ff88a73bc0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:57.102107Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;afff7572-7cf9-42bb-bcc7-3da8d8003853\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JEjudu0uxwGH\&quot;,\n        \&quot;username\&quot;: \&quot;user-d6ed0c14-a29b-42be-be71-6264e056ca8f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.155990586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.161534158Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.240439817Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.246086543Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433348627Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433454345Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433553219Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433506453Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot;), &quot;uid&quot;: String(&quot;ea2d45d0-fea2-4106-8903-c6ff88a73bc0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:57.102107Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;afff7572-7cf9-42bb-bcc7-3da8d8003853&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JEjudu0uxwGH&quot;), &quot;username&quot;: String(&quot;user-d6ed0c14-a29b-42be-be71-6264e056ca8f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.155990586Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.161534158Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.240439817Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.246086543Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433348627Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433454345Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433553219Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433506453Z&quot;)}]}}
[2023-01-31T16:32:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d6ed0c14-a29b-42be-be71-6264e056ca8f\&quot;,\n    \&quot;uid\&quot;: \&quot;ea2d45d0-fea2-4106-8903-c6ff88a73bc0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:32:57.102107Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;afff7572-7cf9-42bb-bcc7-3da8d8003853\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JEjudu0uxwGH\&quot;,\n        \&quot;username\&quot;: \&quot;user-d6ed0c14-a29b-42be-be71-6264e056ca8f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.155990586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.161534158Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.240439817Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.246086543Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433348627Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433454345Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433553219Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:32:57.433506453Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot;), &quot;uid&quot;: String(&quot;ea2d45d0-fea2-4106-8903-c6ff88a73bc0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:32:57.102107Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;afff7572-7cf9-42bb-bcc7-3da8d8003853&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JEjudu0uxwGH&quot;), &quot;username&quot;: String(&quot;user-d6ed0c14-a29b-42be-be71-6264e056ca8f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.155990586Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.161534158Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.240439817Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.246086543Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433348627Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433454345Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433553219Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:32:57.433506453Z&quot;)}]}}
[2023-01-31T16:32:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:32:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwNzYsImlhdCI6MTY3NTE4Mjc3NiwiYXV0aF90aW1lIjoxNjc1MTgyNzczLCJqdGkiOiI2YzI0MDgyZC0yMjYzLTRkZDctYjM3Zi1jMzJlMjQ1ZDkzZDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjNVbDZTbmJDdWVsaXJtdnVhR0syZUEiLCJzZXNzaW9uX3N0YXRlIjoiZDcxYjgxMGQtNzJkNy00NTQ3LThjZjEtYzJjOTk3NDgzMWI5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ3MWI4MTBkLTcyZDctNDU0Ny04Y2YxLWMyYzk5NzQ4MzFiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.DWK4tpcRcJ0Bs7XDwI2fHB9eFCeYTX5b27UCcQ_jhamCTiSOqCIJQ8I3Uglc_QpiucUCu9kbcJ7YJjqXwr-SEdQM-lIbXwXLqKyYChTq4pEgIN1eGNibo1z3aI_wfxDurCsIO9nPP0feY2jwj3aMwO0Lco7j5ae78Tg_TlfW1GcdB7CBU5pHE6R7zT6RN_s6z0E-IstFLzyadW2OWawWxVS27ElK9URm8THiB_Q5xLTlKGJlVcX0hGDZWMnncvzyKIU-O8S55y-ngO122x9kd7pnb1hyWdzkUfrdHbQwTLNgTxO_ma9qyp0SMIGvM1AEyTMa9wH3RcT6arQJGamPSQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot; &quot;device1&quot;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d6ed0c14-a29b-42be-be71-6264e056ca8f&#x27;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d6ed0c14-a29b-42be-be71-6264e056ca8f&quot;
[2023-01-31T16:32:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:33:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:33:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:33:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:33:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1ODQsImlhdCI6MTY3NTE4Mjc4NCwianRpIjoiMjA1ZjJlOGQtYTRmZC00MmY2LThhZDctNTc3N2Q4NTVkZmJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVEl0dFpWc1FJQkd4LU1lWkYycEpzQSIsInNlc3Npb25fc3RhdGUiOiI3ODlkNWRiYy1mZmU2LTQ4NDEtYTVkNi1hNmE4YWM2ZGMzZWEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzg5ZDVkYmMtZmZlNi00ODQxLWE1ZDYtYTZhOGFjNmRjM2VhIn0.1QBpNDa0QZPr9YWSnULw91ivZmGi4Uy3tp7zGv54mb8
[2023-01-31T16:33:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:33:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1ODQsImlhdCI6MTY3NTE4Mjc4NCwianRpIjoiMjA1ZjJlOGQtYTRmZC00MmY2LThhZDctNTc3N2Q4NTVkZmJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVEl0dFpWc1FJQkd4LU1lWkYycEpzQSIsInNlc3Npb25fc3RhdGUiOiI3ODlkNWRiYy1mZmU2LTQ4NDEtYTVkNi1hNmE4YWM2ZGMzZWEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzg5ZDVkYmMtZmZlNi00ODQxLWE1ZDYtYTZhOGFjNmRjM2VhIn0.1QBpNDa0QZPr9YWSnULw91ivZmGi4Uy3tp7zGv54mb8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:33:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:05Z INFO  drogue_cloud_tests::resources::apps] Create application: c526ffdc-6c09-47eb-bc8a-235871a27ff0
[2023-01-31T16:33:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot;
[2023-01-31T16:33:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0\&quot;,\n    \&quot;uid\&quot;: \&quot;d171a4ca-a298-4a66-a68f-0a572038cc51\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:05.682744Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;648bd20b-8195-406b-8bf1-ccced9cae7f7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.735866632Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.742967158Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.743015839Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.702850616Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.702851288Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.702856457Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.702911821Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.702882186Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot;), &quot;uid&quot;: String(&quot;d171a4ca-a298-4a66-a68f-0a572038cc51&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:05.682744Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;648bd20b-8195-406b-8bf1-ccced9cae7f7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.735866632Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.742967158Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.743015839Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.702850616Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.702851288Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.702856457Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.702911821Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.702882186Z&quot;)}]}}
[2023-01-31T16:33:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0\&quot;,\n    \&quot;uid\&quot;: \&quot;d171a4ca-a298-4a66-a68f-0a572038cc51\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:05.682744Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;66c292a9-f1f3-4df3-81fd-2a7c1e1649ad\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fct1JLntpZ94\&quot;,\n        \&quot;username\&quot;: \&quot;user-c526ffdc-6c09-47eb-bc8a-235871a27ff0\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.735866632Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.742967158Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.795148584Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.802549922Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975808405Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975828072Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975983583Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975912971Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot;), &quot;uid&quot;: String(&quot;d171a4ca-a298-4a66-a68f-0a572038cc51&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:05.682744Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;66c292a9-f1f3-4df3-81fd-2a7c1e1649ad&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fct1JLntpZ94&quot;), &quot;username&quot;: String(&quot;user-c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.735866632Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.742967158Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.795148584Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.802549922Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975808405Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975828072Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975983583Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975912971Z&quot;)}]}}
[2023-01-31T16:33:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0\&quot;,\n    \&quot;uid\&quot;: \&quot;d171a4ca-a298-4a66-a68f-0a572038cc51\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:05.682744Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;66c292a9-f1f3-4df3-81fd-2a7c1e1649ad\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fct1JLntpZ94\&quot;,\n        \&quot;username\&quot;: \&quot;user-c526ffdc-6c09-47eb-bc8a-235871a27ff0\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.735866632Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.742967158Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.795148584Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.802549922Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975808405Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975828072Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975983583Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:05.975912971Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot;), &quot;uid&quot;: String(&quot;d171a4ca-a298-4a66-a68f-0a572038cc51&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:05.682744Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;66c292a9-f1f3-4df3-81fd-2a7c1e1649ad&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fct1JLntpZ94&quot;), &quot;username&quot;: String(&quot;user-c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.735866632Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.742967158Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.795148584Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.802549922Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975808405Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975828072Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975983583Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:05.975912971Z&quot;)}]}}
[2023-01-31T16:33:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:33:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwODUsImlhdCI6MTY3NTE4Mjc4NSwiYXV0aF90aW1lIjoxNjc1MTgyNzgyLCJqdGkiOiI3NjUzNDNlOS0xMDczLTRiMzEtYjhkOC02M2ZjODYwMDUzM2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlRJdHRaVnNRSUJHeC1NZVpGMnBKc0EiLCJzZXNzaW9uX3N0YXRlIjoiNzg5ZDVkYmMtZmZlNi00ODQxLWE1ZDYtYTZhOGFjNmRjM2VhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc4OWQ1ZGJjLWZmZTYtNDg0MS1hNWQ2LWE2YThhYzZkYzNlYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.n93AUFx44XrKvn5MRGx4VkyYyX0fYXe6wptJyRIbBfXF8-LXMIBOsE4qJVsUAUNWZ6I3ClwbWmtvsnNAjCRZceXOCzGh0_M0eN0BgkS5edxJcPp2VZ1xyFSut892h00G_SHQfpiP0idXH0BoHKlanAVdvwBeRK3um3lEUDHYU_ppeeg8pJp5e7X_B9W0VPAJkj0CYHpXj4zHCMsZeBSpKD2p3a57U81k5Yi2JVgB87j_GEELv2StAbUge1Zlh5iS9fiaehZfS6x0luizvPXuWoYXcj5QGa12g9lPhsxaPNdnZks2riKYQl5c2u4S82eRkYKA6hxrFPhDGUkYpn_W9Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:33:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot; &quot;device1&quot;
[2023-01-31T16:33:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:07Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c526ffdc-6c09-47eb-bc8a-235871a27ff0&#x27;
[2023-01-31T16:33:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c526ffdc-6c09-47eb-bc8a-235871a27ff0&quot;
[2023-01-31T16:33:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:33:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:33:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:33:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:33:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1OTMsImlhdCI6MTY3NTE4Mjc5MywianRpIjoiZWRjNTA3ZjgtODI1Zi00NDQwLWE4MzYtOWIzYWUwNzdiYTQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWUd5X09YTWg1bFRwNzk3UU5UQ2lEdyIsInNlc3Npb25fc3RhdGUiOiI1Y2MxMzk5OC05Yzk4LTRmNzMtOGIxYi1kODg2NjdkNjAzZjAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWNjMTM5OTgtOWM5OC00ZjczLThiMWItZDg4NjY3ZDYwM2YwIn0.E5kH3psp4FjFhDC-P08jOuH60DOMspdfWa-ROl0Fn5Y
[2023-01-31T16:33:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:33:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ1OTMsImlhdCI6MTY3NTE4Mjc5MywianRpIjoiZWRjNTA3ZjgtODI1Zi00NDQwLWE4MzYtOWIzYWUwNzdiYTQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWUd5X09YTWg1bFRwNzk3UU5UQ2lEdyIsInNlc3Npb25fc3RhdGUiOiI1Y2MxMzk5OC05Yzk4LTRmNzMtOGIxYi1kODg2NjdkNjAzZjAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWNjMTM5OTgtOWM5OC00ZjczLThiMWItZDg4NjY3ZDYwM2YwIn0.E5kH3psp4FjFhDC-P08jOuH60DOMspdfWa-ROl0Fn5Y&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:33:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:14Z INFO  drogue_cloud_tests::resources::apps] Create application: d2593584-6598-4324-97ce-f4c55c2641ca
[2023-01-31T16:33:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot;
[2023-01-31T16:33:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d2593584-6598-4324-97ce-f4c55c2641ca\&quot;,\n    \&quot;uid\&quot;: \&quot;0a3215b4-1512-46de-a997-03484ab7a4e1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:14.178167Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8424b198-7339-4194-a4dd-55304b1e5f66\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.233991749Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.241109767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.241142218Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.206239441Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.206239832Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.206263016Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.206322688Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.206283755Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot;), &quot;uid&quot;: String(&quot;0a3215b4-1512-46de-a997-03484ab7a4e1&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:14.178167Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8424b198-7339-4194-a4dd-55304b1e5f66&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.233991749Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.241109767Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.241142218Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.206239441Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.206239832Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.206263016Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.206322688Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.206283755Z&quot;)}]}}
[2023-01-31T16:33:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d2593584-6598-4324-97ce-f4c55c2641ca\&quot;,\n    \&quot;uid\&quot;: \&quot;0a3215b4-1512-46de-a997-03484ab7a4e1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:14.178167Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;50948d77-988f-4b0a-a73b-1f2f6a7e565b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;gHT6JPX3GBAL\&quot;,\n        \&quot;username\&quot;: \&quot;user-d2593584-6598-4324-97ce-f4c55c2641ca\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.233991749Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.241109767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.288563408Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.297224424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471282453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471304644Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471401626Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471331916Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot;), &quot;uid&quot;: String(&quot;0a3215b4-1512-46de-a997-03484ab7a4e1&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:14.178167Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;50948d77-988f-4b0a-a73b-1f2f6a7e565b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;gHT6JPX3GBAL&quot;), &quot;username&quot;: String(&quot;user-d2593584-6598-4324-97ce-f4c55c2641ca&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.233991749Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.241109767Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.288563408Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.297224424Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471282453Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471304644Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471401626Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471331916Z&quot;)}]}}
[2023-01-31T16:33:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d2593584-6598-4324-97ce-f4c55c2641ca\&quot;,\n    \&quot;uid\&quot;: \&quot;0a3215b4-1512-46de-a997-03484ab7a4e1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:14.178167Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;50948d77-988f-4b0a-a73b-1f2f6a7e565b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;gHT6JPX3GBAL\&quot;,\n        \&quot;username\&quot;: \&quot;user-d2593584-6598-4324-97ce-f4c55c2641ca\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.233991749Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.241109767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.288563408Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.297224424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471282453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471304644Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471401626Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:14.471331916Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot;), &quot;uid&quot;: String(&quot;0a3215b4-1512-46de-a997-03484ab7a4e1&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:14.178167Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;50948d77-988f-4b0a-a73b-1f2f6a7e565b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;gHT6JPX3GBAL&quot;), &quot;username&quot;: String(&quot;user-d2593584-6598-4324-97ce-f4c55c2641ca&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.233991749Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.241109767Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.288563408Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.297224424Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471282453Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471304644Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471401626Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:14.471331916Z&quot;)}]}}
[2023-01-31T16:33:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:33:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMwOTMsImlhdCI6MTY3NTE4Mjc5MywiYXV0aF90aW1lIjoxNjc1MTgyNzkwLCJqdGkiOiI1ZWQwZTE5MS04OTZmLTRmYjktYjU1ZS04NTE5NzQ2M2NiNjMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IllHeV9PWE1oNWxUcDc5N1FOVENpRHciLCJzZXNzaW9uX3N0YXRlIjoiNWNjMTM5OTgtOWM5OC00ZjczLThiMWItZDg4NjY3ZDYwM2YwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjYzEzOTk4LTljOTgtNGY3My04YjFiLWQ4ODY2N2Q2MDNmMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.kR7ZzRjKrq717I17LM3O7iS6JQD2GlPb4Cj8LQWJ3HiXi-bbv3B7wamBBz96RE37GqZCW39z3tqdtNileAt2Lzn-MKAQzDDidxoJkxBSszUJx9Kj3tr4BK_QyBEkLbyONBbzaj1VMRKZHyEzKQbt3aV56ymPuFKkBQCWa4eYahYYyQLm-cMI9rT6ZWj_uxmLuhAsOIgm-IqY1sGzhaYo0cMdrI11PSUAQZPiiQrEXdeNREJXYRltJCi94c4DYxlEY8v93RQPJQbCm1WWp1eSNC5fje_Cg3oin4S3HHuW5ihXwV8iZnfxZ1YVD457mvXwseyjGXQf7KjUjC8YVbSoxA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot; &quot;device1&quot;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d2593584-6598-4324-97ce-f4c55c2641ca&#x27;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d2593584-6598-4324-97ce-f4c55c2641ca&quot;
[2023-01-31T16:33:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:33:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:33:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:33:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:33:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MDEsImlhdCI6MTY3NTE4MjgwMSwianRpIjoiNjFlMWFlYmEtMjRjOS00ZjNhLTgxMDEtNGIwNzg2MDU5NTlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZHBXQVNTcjlnNHFmZDFtVDMzdHpfUSIsInNlc3Npb25fc3RhdGUiOiI1MzIzYTA0YS0yYTZjLTQwNjUtODdhYi05ZTFkY2RjZDEyZjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTMyM2EwNGEtMmE2Yy00MDY1LTg3YWItOWUxZGNkY2QxMmY3In0.eb58o0lB5EemohiX6Bz_nmOM62JKFFny3fNh1RBK8Ho
[2023-01-31T16:33:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:33:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MDEsImlhdCI6MTY3NTE4MjgwMSwianRpIjoiNjFlMWFlYmEtMjRjOS00ZjNhLTgxMDEtNGIwNzg2MDU5NTlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZHBXQVNTcjlnNHFmZDFtVDMzdHpfUSIsInNlc3Npb25fc3RhdGUiOiI1MzIzYTA0YS0yYTZjLTQwNjUtODdhYi05ZTFkY2RjZDEyZjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTMyM2EwNGEtMmE2Yy00MDY1LTg3YWItOWUxZGNkY2QxMmY3In0.eb58o0lB5EemohiX6Bz_nmOM62JKFFny3fNh1RBK8Ho&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:33:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:22Z INFO  drogue_cloud_tests::resources::apps] Create application: 25d176e5-c0e2-4578-bf14-bb7d87f0cc2b
[2023-01-31T16:33:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot;
[2023-01-31T16:33:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b\&quot;,\n    \&quot;uid\&quot;: \&quot;384b7cba-4c74-4234-aaad-824b482d06c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:22.864889Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c7bab497-4a85-4ae2-b81b-e51b12778b71\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.908800381Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.914730697Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.914808092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.879674774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.879675696Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.879749694Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.879789789Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.879836927Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot;), &quot;uid&quot;: String(&quot;384b7cba-4c74-4234-aaad-824b482d06c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:22.864889Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c7bab497-4a85-4ae2-b81b-e51b12778b71&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.908800381Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.914730697Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.914808092Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.879674774Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.879675696Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.879749694Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.879789789Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.879836927Z&quot;)}]}}
[2023-01-31T16:33:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:33:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b\&quot;,\n    \&quot;uid\&quot;: \&quot;384b7cba-4c74-4234-aaad-824b482d06c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:22.864889Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d3887359-ae9a-45b3-b8be-94e562c5ba37\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;s3sbgrcIY20T\&quot;,\n        \&quot;username\&quot;: \&quot;user-25d176e5-c0e2-4578-bf14-bb7d87f0cc2b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.908800381Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.914730697Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.973325915Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.980028587Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172810812Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172829737Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172858652Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172935625Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot;), &quot;uid&quot;: String(&quot;384b7cba-4c74-4234-aaad-824b482d06c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:22.864889Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d3887359-ae9a-45b3-b8be-94e562c5ba37&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;s3sbgrcIY20T&quot;), &quot;username&quot;: String(&quot;user-25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.908800381Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.914730697Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.973325915Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.980028587Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172810812Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172829737Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172858652Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172935625Z&quot;)}]}}
[2023-01-31T16:33:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:33:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b\&quot;,\n    \&quot;uid\&quot;: \&quot;384b7cba-4c74-4234-aaad-824b482d06c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:22.864889Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d3887359-ae9a-45b3-b8be-94e562c5ba37\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;s3sbgrcIY20T\&quot;,\n        \&quot;username\&quot;: \&quot;user-25d176e5-c0e2-4578-bf14-bb7d87f0cc2b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.908800381Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.914730697Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.973325915Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:22.980028587Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172810812Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172829737Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172858652Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:23.172935625Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot;), &quot;uid&quot;: String(&quot;384b7cba-4c74-4234-aaad-824b482d06c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:22.864889Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d3887359-ae9a-45b3-b8be-94e562c5ba37&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;s3sbgrcIY20T&quot;), &quot;username&quot;: String(&quot;user-25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.908800381Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.914730697Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.973325915Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:22.980028587Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172810812Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172829737Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172858652Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:23.172935625Z&quot;)}]}}
[2023-01-31T16:33:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:33:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxMDIsImlhdCI6MTY3NTE4MjgwMiwiYXV0aF90aW1lIjoxNjc1MTgyNzk5LCJqdGkiOiJmZjI1MjFkMi1hNmI3LTQwZDUtOTFiMS03ODhhM2I5YjA4OTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRwV0FTU3I5ZzRxZmQxbVQzM3R6X1EiLCJzZXNzaW9uX3N0YXRlIjoiNTMyM2EwNGEtMmE2Yy00MDY1LTg3YWItOWUxZGNkY2QxMmY3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUzMjNhMDRhLTJhNmMtNDA2NS04N2FiLTllMWRjZGNkMTJmNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.BL6xiMYZJVW5DPLFimMc6wkezaxwj9v55vg9YqGMIms_xxv-kk-mwqf4UdpLLKa7hJuboismAeAeuPMhnP3pg68S3HdKFhHwBRqDHvsqgsRrE7pVyUiqR-U8vFam9RrWDV4CR8edkaBcZm35yg_gRbqtNRK-_gj-RnyZU9L6amiz_U8pF8HIhb_UYS1ULJFXDH0eYLCklQumRPAEyKk8uFEDRovZs3To73b3AVi4cu8YXw5p9-DKmjIpa-6TBncwpBR6MSaLZ7oyqsNrUzjSBYMAoLYfy4mRgkqc2-UTlMV6KUEVKOryMtWFsLv4jREygahb5K4o77u2zr71_ZyQgQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot; &quot;device1&quot;
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&#x27;
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;25d176e5-c0e2-4578-bf14-bb7d87f0cc2b&quot;
[2023-01-31T16:33:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:33:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:33:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:33:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:33:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MTEsImlhdCI6MTY3NTE4MjgxMSwianRpIjoiZTVlMTEzNWUtN2EwZC00MjVjLWIzZDktNzcwNDQyNDhmMDU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidmRENGVUTXhVQndjTExMVzJEOENJQSIsInNlc3Npb25fc3RhdGUiOiI2MDA1MmJjNi04NDJiLTRhMGYtYWQxOC0zNzdkYTIyOTM3M2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjAwNTJiYzYtODQyYi00YTBmLWFkMTgtMzc3ZGEyMjkzNzNjIn0.SK8NxmoZIMzxiVK_7Wa9nB2w7D133xtQLO1MCttpy28
[2023-01-31T16:33:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:33:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MTEsImlhdCI6MTY3NTE4MjgxMSwianRpIjoiZTVlMTEzNWUtN2EwZC00MjVjLWIzZDktNzcwNDQyNDhmMDU1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidmRENGVUTXhVQndjTExMVzJEOENJQSIsInNlc3Npb25fc3RhdGUiOiI2MDA1MmJjNi04NDJiLTRhMGYtYWQxOC0zNzdkYTIyOTM3M2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjAwNTJiYzYtODQyYi00YTBmLWFkMTgtMzc3ZGEyMjkzNzNjIn0.SK8NxmoZIMzxiVK_7Wa9nB2w7D133xtQLO1MCttpy28&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:33:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:32Z INFO  drogue_cloud_tests::resources::apps] Create application: d6143963-45e9-4b9d-8846-8cb055b55b6b
[2023-01-31T16:33:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot;
[2023-01-31T16:33:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d6143963-45e9-4b9d-8846-8cb055b55b6b\&quot;,\n    \&quot;uid\&quot;: \&quot;5fa5e87d-959b-47c3-ae60-4dcd34f3a0a3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:32.445878Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b573b9c2-08de-43ea-a78b-055be3a00664\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469126456Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469171249Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469171760Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469172571Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469173002Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469182530Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469262280Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.469239447Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot;), &quot;uid&quot;: String(&quot;5fa5e87d-959b-47c3-ae60-4dcd34f3a0a3&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:32.445878Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b573b9c2-08de-43ea-a78b-055be3a00664&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469126456Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469171249Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469171760Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469172571Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469173002Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469182530Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469262280Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.469239447Z&quot;)}]}}
[2023-01-31T16:33:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d6143963-45e9-4b9d-8846-8cb055b55b6b\&quot;,\n    \&quot;uid\&quot;: \&quot;5fa5e87d-959b-47c3-ae60-4dcd34f3a0a3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:32.445878Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9df4b02a-7b28-4a40-b3e6-b02c6d2de0c0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;AI1cUHKxdXl1\&quot;,\n        \&quot;username\&quot;: \&quot;user-d6143963-45e9-4b9d-8846-8cb055b55b6b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.526192773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.537100482Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.684406037Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.697247845Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904033723Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904048411Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904181490Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904098094Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot;), &quot;uid&quot;: String(&quot;5fa5e87d-959b-47c3-ae60-4dcd34f3a0a3&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:32.445878Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9df4b02a-7b28-4a40-b3e6-b02c6d2de0c0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;AI1cUHKxdXl1&quot;), &quot;username&quot;: String(&quot;user-d6143963-45e9-4b9d-8846-8cb055b55b6b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.526192773Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.537100482Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.684406037Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.697247845Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904033723Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904048411Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904181490Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904098094Z&quot;)}]}}
[2023-01-31T16:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d6143963-45e9-4b9d-8846-8cb055b55b6b\&quot;,\n    \&quot;uid\&quot;: \&quot;5fa5e87d-959b-47c3-ae60-4dcd34f3a0a3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:32.445878Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9df4b02a-7b28-4a40-b3e6-b02c6d2de0c0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;AI1cUHKxdXl1\&quot;,\n        \&quot;username\&quot;: \&quot;user-d6143963-45e9-4b9d-8846-8cb055b55b6b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.526192773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.537100482Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.684406037Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.697247845Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904033723Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904048411Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904181490Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:32.904098094Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot;), &quot;uid&quot;: String(&quot;5fa5e87d-959b-47c3-ae60-4dcd34f3a0a3&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:32.445878Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9df4b02a-7b28-4a40-b3e6-b02c6d2de0c0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;AI1cUHKxdXl1&quot;), &quot;username&quot;: String(&quot;user-d6143963-45e9-4b9d-8846-8cb055b55b6b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.526192773Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.537100482Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.684406037Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.697247845Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904033723Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904048411Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904181490Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:32.904098094Z&quot;)}]}}
[2023-01-31T16:33:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:33:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxMTEsImlhdCI6MTY3NTE4MjgxMSwiYXV0aF90aW1lIjoxNjc1MTgyODA4LCJqdGkiOiJjOTZjOTJmZi00NDc0LTQ1ODgtODJhZC05MDQ4MTNhMzhkYzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZkRDRlVE14VUJ3Y0xMTFcyRDhDSUEiLCJzZXNzaW9uX3N0YXRlIjoiNjAwNTJiYzYtODQyYi00YTBmLWFkMTgtMzc3ZGEyMjkzNzNjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYwMDUyYmM2LTg0MmItNGEwZi1hZDE4LTM3N2RhMjI5MzczYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.lsV9-GsiQIjhm8A_YsEKmnrqXxMeEeXaOhx7Mc3CBgozDzbDk4ViJsZnyYVjqXtZDMBVD2EvHK6FcXC6n-IyEHBEO_QLrAtrenm_zb1nTOIMvt9qOijQvOS8uf2mYl7VSzv6Jmb451ZKD3Izf4m_fhGaff7UXx9q5b3PREYuhGhfL9sdbONhu70jc1xqfAK7ocA6VGq4FPR1mwCLAY4J7h4ZLPf6O3jnCkRP569pCHa6cyXNBhs-4TivWmwvr5sKoiBOenTAJkMwfRM4jr-ua_97l3wyICtiVp7VdB4jYrTx-yJQACv_eONA3qmoebShd7wxPp4Tc-sFtHyXrEvrbg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot; &quot;device1&quot;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d6143963-45e9-4b9d-8846-8cb055b55b6b&#x27;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d6143963-45e9-4b9d-8846-8cb055b55b6b&quot;
[2023-01-31T16:33:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:33:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:33:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:33:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:33:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MjAsImlhdCI6MTY3NTE4MjgyMCwianRpIjoiNTU0YmQ2ZmMtZDI1Ni00OWY3LTk3MmMtNjcwYWRjYjFmNTIxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSTJxbnJCeGY3MWVQRGxzbkFESkQ5QSIsInNlc3Npb25fc3RhdGUiOiI2NDhjYzcxMC1iZmJiLTQ5YWYtYjFlMS0wNzE1NTU3NTViODEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjQ4Y2M3MTAtYmZiYi00OWFmLWIxZTEtMDcxNTU1NzU1YjgxIn0.wtp1mQxB28_sbvsD3uv35CsUSTL6YcHY4X3RTgm0H68
[2023-01-31T16:33:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:33:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MjAsImlhdCI6MTY3NTE4MjgyMCwianRpIjoiNTU0YmQ2ZmMtZDI1Ni00OWY3LTk3MmMtNjcwYWRjYjFmNTIxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSTJxbnJCeGY3MWVQRGxzbkFESkQ5QSIsInNlc3Npb25fc3RhdGUiOiI2NDhjYzcxMC1iZmJiLTQ5YWYtYjFlMS0wNzE1NTU3NTViODEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjQ4Y2M3MTAtYmZiYi00OWFmLWIxZTEtMDcxNTU1NzU1YjgxIn0.wtp1mQxB28_sbvsD3uv35CsUSTL6YcHY4X3RTgm0H68&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:33:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:41Z INFO  drogue_cloud_tests::resources::apps] Create application: ec7368b0-3e5c-481e-adff-e6be64b2fd86
[2023-01-31T16:33:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot;
[2023-01-31T16:33:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86\&quot;,\n    \&quot;uid\&quot;: \&quot;cde8f361-1f52-4c75-8334-93ca9d221963\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:41.133539Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ea3f9edd-026f-4a0b-b2e7-7c1a28d69e81\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.183731722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.190299732Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.190369092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.150194490Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.150195371Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.150235377Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.150266966Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.150326949Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot;), &quot;uid&quot;: String(&quot;cde8f361-1f52-4c75-8334-93ca9d221963&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:41.133539Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ea3f9edd-026f-4a0b-b2e7-7c1a28d69e81&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.183731722Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.190299732Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.190369092Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.150194490Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.150195371Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.150235377Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.150266966Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.150326949Z&quot;)}]}}
[2023-01-31T16:33:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86\&quot;,\n    \&quot;uid\&quot;: \&quot;cde8f361-1f52-4c75-8334-93ca9d221963\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:41.133539Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6c383287-0954-41ba-9e8a-9ffa8dedad8b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nmEjtr8UggXU\&quot;,\n        \&quot;username\&quot;: \&quot;user-ec7368b0-3e5c-481e-adff-e6be64b2fd86\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.183731722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.190299732Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.249442424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.256211890Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445222852Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445247938Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445279006Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445328419Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot;), &quot;uid&quot;: String(&quot;cde8f361-1f52-4c75-8334-93ca9d221963&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:41.133539Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6c383287-0954-41ba-9e8a-9ffa8dedad8b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nmEjtr8UggXU&quot;), &quot;username&quot;: String(&quot;user-ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.183731722Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.190299732Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.249442424Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.256211890Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445222852Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445247938Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445279006Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445328419Z&quot;)}]}}
[2023-01-31T16:33:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86\&quot;,\n    \&quot;uid\&quot;: \&quot;cde8f361-1f52-4c75-8334-93ca9d221963\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:41.133539Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6c383287-0954-41ba-9e8a-9ffa8dedad8b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nmEjtr8UggXU\&quot;,\n        \&quot;username\&quot;: \&quot;user-ec7368b0-3e5c-481e-adff-e6be64b2fd86\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.183731722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.190299732Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.249442424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.256211890Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445222852Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445247938Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445279006Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:41.445328419Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot;), &quot;uid&quot;: String(&quot;cde8f361-1f52-4c75-8334-93ca9d221963&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:41.133539Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6c383287-0954-41ba-9e8a-9ffa8dedad8b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nmEjtr8UggXU&quot;), &quot;username&quot;: String(&quot;user-ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.183731722Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.190299732Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.249442424Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.256211890Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445222852Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445247938Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445279006Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:41.445328419Z&quot;)}]}}
[2023-01-31T16:33:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:33:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxMjAsImlhdCI6MTY3NTE4MjgyMCwiYXV0aF90aW1lIjoxNjc1MTgyODE3LCJqdGkiOiIyZjRhZGY4ZC03NzE1LTRkNDgtOGZkZC04ZGVlYmQ5ODYwN2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkkycW5yQnhmNzFlUERsc25BREpEOUEiLCJzZXNzaW9uX3N0YXRlIjoiNjQ4Y2M3MTAtYmZiYi00OWFmLWIxZTEtMDcxNTU1NzU1YjgxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY0OGNjNzEwLWJmYmItNDlhZi1iMWUxLTA3MTU1NTc1NWI4MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.gWaw7OJaT7YWLKCbxPt62MJ8NYOSZ2L_fLZVWCelSQ2LliAm-tPY5MCYqqMp7LZQvBH2NObXlj6CyJTRgoevOcMp-slBmH4eNQCNi1RWKds5nFoSLCusTik3IhDzaGTjMk9cOPaZeVZOwVLLcvJF1H6z-GbvU6049nSqmFgiWA3gtiQ_uWDxGPuBqgE2ykO1Wlu60BOKyMrU-2ADpd9pwnQWhA5zrEiJXHZWFTm3QQFJGRByELFNvVMEKTYM-jyrUSXnnQ8aTFZycJqODTPdAE251an0AwS-_z8OWsk-brgO9nqicqpK_xQdKKKYVtH6j9w5APXtKd2mGaQ-N-UFUQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot; &quot;device1&quot;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ec7368b0-3e5c-481e-adff-e6be64b2fd86&#x27;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ec7368b0-3e5c-481e-adff-e6be64b2fd86&quot;
[2023-01-31T16:33:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:33:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:33:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:33:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:33:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MjgsImlhdCI6MTY3NTE4MjgyOCwianRpIjoiM2JkYmEyMzktNDU2My00NmIwLTkxZGUtODM0MThlNTQ3M2NlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibXU2NXNHUXdIdWxURnJiX1pIYmxGZyIsInNlc3Npb25fc3RhdGUiOiIwNDEzZDQ5OS04NzgxLTRiNjYtYmE1Yi0yM2ZiZTAyMjU0ODMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDQxM2Q0OTktODc4MS00YjY2LWJhNWItMjNmYmUwMjI1NDgzIn0.4CPyIrYxrMMRMwkA7xor9639dblFUI3SswEWrk0VetI
[2023-01-31T16:33:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:33:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MjgsImlhdCI6MTY3NTE4MjgyOCwianRpIjoiM2JkYmEyMzktNDU2My00NmIwLTkxZGUtODM0MThlNTQ3M2NlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibXU2NXNHUXdIdWxURnJiX1pIYmxGZyIsInNlc3Npb25fc3RhdGUiOiIwNDEzZDQ5OS04NzgxLTRiNjYtYmE1Yi0yM2ZiZTAyMjU0ODMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDQxM2Q0OTktODc4MS00YjY2LWJhNWItMjNmYmUwMjI1NDgzIn0.4CPyIrYxrMMRMwkA7xor9639dblFUI3SswEWrk0VetI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:33:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:49Z INFO  drogue_cloud_tests::resources::apps] Create application: f3afa285-e033-453a-bdc2-4246a7634af1
[2023-01-31T16:33:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot;
[2023-01-31T16:33:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f3afa285-e033-453a-bdc2-4246a7634af1\&quot;,\n    \&quot;uid\&quot;: \&quot;5b67e4bc-97e0-4fdb-91b0-69fd29fd828d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:49.634937Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1f6d0510-3695-4d3e-9b35-4f6c60de8e10\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.674480419Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.681189774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.681258862Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.647203652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.647204384Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.647239909Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.647273141Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.647305882Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot;), &quot;uid&quot;: String(&quot;5b67e4bc-97e0-4fdb-91b0-69fd29fd828d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:49.634937Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1f6d0510-3695-4d3e-9b35-4f6c60de8e10&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.674480419Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.681189774Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.681258862Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.647203652Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.647204384Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.647239909Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.647273141Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.647305882Z&quot;)}]}}
[2023-01-31T16:33:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f3afa285-e033-453a-bdc2-4246a7634af1\&quot;,\n    \&quot;uid\&quot;: \&quot;5b67e4bc-97e0-4fdb-91b0-69fd29fd828d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:49.634937Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;92f5ec37-34aa-42c1-b2ee-1c23dbc37963\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;v4QuV6w0JUtc\&quot;,\n        \&quot;username\&quot;: \&quot;user-f3afa285-e033-453a-bdc2-4246a7634af1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.674480419Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.681189774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.748022786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.755276428Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952515376Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952533680Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952648765Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952696595Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot;), &quot;uid&quot;: String(&quot;5b67e4bc-97e0-4fdb-91b0-69fd29fd828d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:49.634937Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;92f5ec37-34aa-42c1-b2ee-1c23dbc37963&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;v4QuV6w0JUtc&quot;), &quot;username&quot;: String(&quot;user-f3afa285-e033-453a-bdc2-4246a7634af1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.674480419Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.681189774Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.748022786Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.755276428Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952515376Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952533680Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952648765Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952696595Z&quot;)}]}}
[2023-01-31T16:33:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f3afa285-e033-453a-bdc2-4246a7634af1\&quot;,\n    \&quot;uid\&quot;: \&quot;5b67e4bc-97e0-4fdb-91b0-69fd29fd828d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:49.634937Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;92f5ec37-34aa-42c1-b2ee-1c23dbc37963\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;v4QuV6w0JUtc\&quot;,\n        \&quot;username\&quot;: \&quot;user-f3afa285-e033-453a-bdc2-4246a7634af1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.674480419Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.681189774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.748022786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.755276428Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952515376Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952533680Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952648765Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:49.952696595Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot;), &quot;uid&quot;: String(&quot;5b67e4bc-97e0-4fdb-91b0-69fd29fd828d&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:49.634937Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;92f5ec37-34aa-42c1-b2ee-1c23dbc37963&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;v4QuV6w0JUtc&quot;), &quot;username&quot;: String(&quot;user-f3afa285-e033-453a-bdc2-4246a7634af1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.674480419Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.681189774Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.748022786Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.755276428Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952515376Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952533680Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952648765Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:49.952696595Z&quot;)}]}}
[2023-01-31T16:33:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:33:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxMjksImlhdCI6MTY3NTE4MjgyOSwiYXV0aF90aW1lIjoxNjc1MTgyODI2LCJqdGkiOiJkOGY1MzUwNi05MzFkLTQwYzMtOTIwZi1kNDQ5N2ZjNjhkODkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im11NjVzR1F3SHVsVEZyYl9aSGJsRmciLCJzZXNzaW9uX3N0YXRlIjoiMDQxM2Q0OTktODc4MS00YjY2LWJhNWItMjNmYmUwMjI1NDgzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA0MTNkNDk5LTg3ODEtNGI2Ni1iYTViLTIzZmJlMDIyNTQ4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.kwTJLDMY8AyvNoOFRC1qyBNvEjHCLkTS1ABMkTrgvzDtw3IUhm4pM7H4D9mMH15yja9UnHlLvOI6_yziKnKoz6b7LoVNvD3frB1b6NtiCYP802waJV4lPMOS0EqHkbNdjiwaOfEy0aGGlhQhsj9O3X_bsQ_s9H58wWy2eXXRp3nP88tqycU5882BgMuGD7cU0ecQrBerPD2WODcfakwcSj_7PHQ1pLoNC0OBIo-vKMPpxwvI7-3ipQqk1mjYPBjI6GakfeXTg4aLV6y1-P2YGxNt4yl0a9L-Beu-nySwHSf86uU3Vkyum679CGm9tZdLZe8qiT6RAnePwMaBwJUybw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot; &quot;device1&quot;
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f3afa285-e033-453a-bdc2-4246a7634af1&#x27;
[2023-01-31T16:33:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f3afa285-e033-453a-bdc2-4246a7634af1&quot;
[2023-01-31T16:33:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:33:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:33:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:33:55Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:33:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:33:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MzcsImlhdCI6MTY3NTE4MjgzNywianRpIjoiOTY2Mzc5YmItZjNhNC00MDdmLTg5NjYtM2U3MjQwZGM2MmJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNkhtVXNaSHpLbkdrN3NTZ3dJSHVQUSIsInNlc3Npb25fc3RhdGUiOiJhYzFiOGE3My0wMzI0LTQ5OTEtOTNkMi1lYmI3YWNmMTkxYzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWMxYjhhNzMtMDMyNC00OTkxLTkzZDItZWJiN2FjZjE5MWM2In0.JA0DT6UPD-EGoTzSW_xHpGCmBaMDXFYF0w-QbBwxowo
[2023-01-31T16:33:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:33:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2MzcsImlhdCI6MTY3NTE4MjgzNywianRpIjoiOTY2Mzc5YmItZjNhNC00MDdmLTg5NjYtM2U3MjQwZGM2MmJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNkhtVXNaSHpLbkdrN3NTZ3dJSHVQUSIsInNlc3Npb25fc3RhdGUiOiJhYzFiOGE3My0wMzI0LTQ5OTEtOTNkMi1lYmI3YWNmMTkxYzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWMxYjhhNzMtMDMyNC00OTkxLTkzZDItZWJiN2FjZjE5MWM2In0.JA0DT6UPD-EGoTzSW_xHpGCmBaMDXFYF0w-QbBwxowo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:33:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:58Z INFO  drogue_cloud_tests::resources::apps] Create application: 82616700-6c35-41d8-9eae-7c8c444c28bd
[2023-01-31T16:33:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot;
[2023-01-31T16:33:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;82616700-6c35-41d8-9eae-7c8c444c28bd\&quot;,\n    \&quot;uid\&quot;: \&quot;277dc759-a688-44ec-a91e-004ce9af05f2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:58.139889Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6b021da1-0b63-48aa-b580-ad33f35256cb\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.189004733Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.196439534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.196469881Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.151015040Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.151016082Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.151026381Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.151094088Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.151242215Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot;), &quot;uid&quot;: String(&quot;277dc759-a688-44ec-a91e-004ce9af05f2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:58.139889Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6b021da1-0b63-48aa-b580-ad33f35256cb&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.189004733Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.196439534Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.196469881Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.151015040Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.151016082Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.151026381Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.151094088Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.151242215Z&quot;)}]}}
[2023-01-31T16:33:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;82616700-6c35-41d8-9eae-7c8c444c28bd\&quot;,\n    \&quot;uid\&quot;: \&quot;277dc759-a688-44ec-a91e-004ce9af05f2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:58.139889Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0d365401-2870-4053-9735-b789ca0d442a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;xuqCus1DTYAn\&quot;,\n        \&quot;username\&quot;: \&quot;user-82616700-6c35-41d8-9eae-7c8c444c28bd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.189004733Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.196439534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.259761808Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.265730226Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470886389Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470899322Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470925732Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470998327Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot;), &quot;uid&quot;: String(&quot;277dc759-a688-44ec-a91e-004ce9af05f2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:58.139889Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0d365401-2870-4053-9735-b789ca0d442a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;xuqCus1DTYAn&quot;), &quot;username&quot;: String(&quot;user-82616700-6c35-41d8-9eae-7c8c444c28bd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.189004733Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.196439534Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.259761808Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.265730226Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470886389Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470899322Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470925732Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470998327Z&quot;)}]}}
[2023-01-31T16:33:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;82616700-6c35-41d8-9eae-7c8c444c28bd\&quot;,\n    \&quot;uid\&quot;: \&quot;277dc759-a688-44ec-a91e-004ce9af05f2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:33:58.139889Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0d365401-2870-4053-9735-b789ca0d442a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;xuqCus1DTYAn\&quot;,\n        \&quot;username\&quot;: \&quot;user-82616700-6c35-41d8-9eae-7c8c444c28bd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.189004733Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.196439534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.259761808Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.265730226Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470886389Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470899322Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470925732Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:33:58.470998327Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot;), &quot;uid&quot;: String(&quot;277dc759-a688-44ec-a91e-004ce9af05f2&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:33:58.139889Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0d365401-2870-4053-9735-b789ca0d442a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;xuqCus1DTYAn&quot;), &quot;username&quot;: String(&quot;user-82616700-6c35-41d8-9eae-7c8c444c28bd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.189004733Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.196439534Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.259761808Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.265730226Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470886389Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470899322Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470925732Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:33:58.470998327Z&quot;)}]}}
[2023-01-31T16:33:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:33:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxMzcsImlhdCI6MTY3NTE4MjgzNywiYXV0aF90aW1lIjoxNjc1MTgyODM0LCJqdGkiOiJkMTA3NzZiMS0yOWE4LTRkMzMtYjFhNi1kOTlhYWM0MWM2MmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZIbVVzWkh6S25HazdzU2d3SUh1UFEiLCJzZXNzaW9uX3N0YXRlIjoiYWMxYjhhNzMtMDMyNC00OTkxLTkzZDItZWJiN2FjZjE5MWM2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFjMWI4YTczLTAzMjQtNDk5MS05M2QyLWViYjdhY2YxOTFjNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.vsQ-gzT-0lM4zh8swRj34sEo8-T0r6C9IGy2mshkHra2vwP1z_zmFWg2jcN1uvAnw665DHI9wDTDULhEJ7dIl_yJx5jQq3OIEJ2D56LtCyKaRAtAPiUUjKvjoTxtlvHV-5gHluUNWXntIFZnPYMiDgJZmQ6vg7r4pEMvcMmawI7RpIN2A2xkN49EWNyKPVo7D4JpRUpRVFaG7qz36MBTf4BSkYl28HnCVB6_wovLouT6XGwKvCqED3EeKRq72DBSjIuuTNA3RF0l3Hbj7LivO0Ldb1dSBlad58YMw7gwEaetsgBRr7WFJBgrCOaIb8g86NVl_1zgEePLBA1uFM1eTw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot; &quot;device1&quot;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;82616700-6c35-41d8-9eae-7c8c444c28bd&#x27;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;82616700-6c35-41d8-9eae-7c8c444c28bd&quot;
[2023-01-31T16:33:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:34:01Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:34:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:02Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:34:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:34:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NDUsImlhdCI6MTY3NTE4Mjg0NSwianRpIjoiMGQ3YzUwMzctODEwNy00YzAyLWEwYzItY2FmYTk4MTM3ZWY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibWktYjRTUDJLLUhNSDJnSE1SdkpiZyIsInNlc3Npb25fc3RhdGUiOiIxNWY3ZjZjMC0wMGFjLTRmNjEtYjAwNy03NjVhZTk1OGRhMzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTVmN2Y2YzAtMDBhYy00ZjYxLWIwMDctNzY1YWU5NThkYTM3In0.ljOGqkN9G9gcZLrIDcBYqwh5lFOyZIogbjasvH3QF5E
[2023-01-31T16:34:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:34:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NDUsImlhdCI6MTY3NTE4Mjg0NSwianRpIjoiMGQ3YzUwMzctODEwNy00YzAyLWEwYzItY2FmYTk4MTM3ZWY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibWktYjRTUDJLLUhNSDJnSE1SdkpiZyIsInNlc3Npb25fc3RhdGUiOiIxNWY3ZjZjMC0wMGFjLTRmNjEtYjAwNy03NjVhZTk1OGRhMzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTVmN2Y2YzAtMDBhYy00ZjYxLWIwMDctNzY1YWU5NThkYTM3In0.ljOGqkN9G9gcZLrIDcBYqwh5lFOyZIogbjasvH3QF5E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:06Z INFO  drogue_cloud_tests::resources::apps] Create application: fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a
[2023-01-31T16:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot;
[2023-01-31T16:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a\&quot;,\n    \&quot;uid\&quot;: \&quot;d03d205c-7577-4665-a777-e26e746327a0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:06.712778Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f35babbe-b709-49c0-b02a-e2a5371791d1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.754613963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.760363501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.760402653Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.727749486Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.727750147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.727759395Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.727793909Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.727869951Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot;), &quot;uid&quot;: String(&quot;d03d205c-7577-4665-a777-e26e746327a0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:06.712778Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f35babbe-b709-49c0-b02a-e2a5371791d1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.754613963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.760363501Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.760402653Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.727749486Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.727750147Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.727759395Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.727793909Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.727869951Z&quot;)}]}}
[2023-01-31T16:34:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a\&quot;,\n    \&quot;uid\&quot;: \&quot;d03d205c-7577-4665-a777-e26e746327a0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:06.712778Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c4752744-144b-4f16-955b-63eba36537eb\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;xNlBtTOR4n1G\&quot;,\n        \&quot;username\&quot;: \&quot;user-fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.754613963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.760363501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.823527638Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.829851351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007101538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007122468Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007164507Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007215462Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot;), &quot;uid&quot;: String(&quot;d03d205c-7577-4665-a777-e26e746327a0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:06.712778Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c4752744-144b-4f16-955b-63eba36537eb&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;xNlBtTOR4n1G&quot;), &quot;username&quot;: String(&quot;user-fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.754613963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.760363501Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.823527638Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.829851351Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007101538Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007122468Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007164507Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007215462Z&quot;)}]}}
[2023-01-31T16:34:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a\&quot;,\n    \&quot;uid\&quot;: \&quot;d03d205c-7577-4665-a777-e26e746327a0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:06.712778Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c4752744-144b-4f16-955b-63eba36537eb\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;xNlBtTOR4n1G\&quot;,\n        \&quot;username\&quot;: \&quot;user-fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.754613963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.760363501Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.823527638Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:06.829851351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007101538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007122468Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007164507Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:07.007215462Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot;), &quot;uid&quot;: String(&quot;d03d205c-7577-4665-a777-e26e746327a0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:06.712778Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c4752744-144b-4f16-955b-63eba36537eb&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;xNlBtTOR4n1G&quot;), &quot;username&quot;: String(&quot;user-fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.754613963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.760363501Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.823527638Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:06.829851351Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007101538Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007122468Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007164507Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:07.007215462Z&quot;)}]}}
[2023-01-31T16:34:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:34:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxNDYsImlhdCI6MTY3NTE4Mjg0NiwiYXV0aF90aW1lIjoxNjc1MTgyODQzLCJqdGkiOiI5Nzc5ZmQ2NS0xMGU3LTRiYWMtODZlNS05MTcwMjgxNjBkZTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im1pLWI0U1AySy1ITUgyZ0hNUnZKYmciLCJzZXNzaW9uX3N0YXRlIjoiMTVmN2Y2YzAtMDBhYy00ZjYxLWIwMDctNzY1YWU5NThkYTM3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE1ZjdmNmMwLTAwYWMtNGY2MS1iMDA3LTc2NWFlOTU4ZGEzNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.loh64ot8yE3C0ArWN5kfbA4yyVf-Ue6NLSKBWCzH2i1qpMouX5zB0udhWhRlsZcqkr3THO2iLIOK6OG4FU8Vkj6QFzOmE7yenbtc1iwa7TYDp6Ba0R3uHOZ4j5qjEOPFoUui9THh0jghUz5yJiRuZOhqizzCzUXvsdzzRrxmUCn7lJ8dAlYIgSXaZkAAr5F0-ucV9ld5U_TWPSjNjGsmgysrMe2EsMO8Q5rnbox1n4YfifrCaPK3zsz0DnY2MykP513oJoADvBHqXTp5N2vFdmzfAbRHhMNqKtgcXL6hLHRgxaNodmAQdGnj5XMfeuznPSU2nKeQ4ee_uyDvXJcR5Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot; &quot;device1&quot;
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&#x27;
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fc2b9f08-0ba7-410a-a4df-a1a8b1a9224a&quot;
[2023-01-31T16:34:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:34:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:34:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:34:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:34:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:14Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NTQsImlhdCI6MTY3NTE4Mjg1NCwianRpIjoiYjU5Y2Y2NTQtNjYyMS00NTExLThiNzQtMmFhZjllMmZlYWQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUjgtdjJWRGw3RHJJR3JCTHRtbERlQSIsInNlc3Npb25fc3RhdGUiOiJhYjM4ODJiMS05NmZmLTRkZjAtOTZlNy1lMDNmZWM1ODkzNjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWIzODgyYjEtOTZmZi00ZGYwLTk2ZTctZTAzZmVjNTg5MzYxIn0.sPcdgIXoqa-ZNJzcVLoE53Xon2i4hywFonnSCzhWvF4
[2023-01-31T16:34:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:34:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NTQsImlhdCI6MTY3NTE4Mjg1NCwianRpIjoiYjU5Y2Y2NTQtNjYyMS00NTExLThiNzQtMmFhZjllMmZlYWQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUjgtdjJWRGw3RHJJR3JCTHRtbERlQSIsInNlc3Npb25fc3RhdGUiOiJhYjM4ODJiMS05NmZmLTRkZjAtOTZlNy1lMDNmZWM1ODkzNjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWIzODgyYjEtOTZmZi00ZGYwLTk2ZTctZTAzZmVjNTg5MzYxIn0.sPcdgIXoqa-ZNJzcVLoE53Xon2i4hywFonnSCzhWvF4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:34:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:15Z INFO  drogue_cloud_tests::resources::apps] Create application: 12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855
[2023-01-31T16:34:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot;
[2023-01-31T16:34:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855\&quot;,\n    \&quot;uid\&quot;: \&quot;7a9a48d3-fd8d-4773-a612-3442fd37d523\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:15.231339Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cdc7cfb3-1366-48a1-a2ac-2ffd61dfa30b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.279598937Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.285878236Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.285917220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.251448494Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.251449356Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.251459154Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.251508116Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.251536218Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot;), &quot;uid&quot;: String(&quot;7a9a48d3-fd8d-4773-a612-3442fd37d523&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:15.231339Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cdc7cfb3-1366-48a1-a2ac-2ffd61dfa30b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.279598937Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.285878236Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.285917220Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.251448494Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.251449356Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.251459154Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.251508116Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.251536218Z&quot;)}]}}
[2023-01-31T16:34:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855\&quot;,\n    \&quot;uid\&quot;: \&quot;7a9a48d3-fd8d-4773-a612-3442fd37d523\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:15.231339Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d70e076e-351c-43f9-bb23-4111faad7ee6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MjDFpEJysA13\&quot;,\n        \&quot;username\&quot;: \&quot;user-12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.279598937Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.285878236Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.346086154Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.352328564Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556067046Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556085180Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556168956Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556289632Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot;), &quot;uid&quot;: String(&quot;7a9a48d3-fd8d-4773-a612-3442fd37d523&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:15.231339Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d70e076e-351c-43f9-bb23-4111faad7ee6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MjDFpEJysA13&quot;), &quot;username&quot;: String(&quot;user-12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.279598937Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.285878236Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.346086154Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.352328564Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556067046Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556085180Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556168956Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556289632Z&quot;)}]}}
[2023-01-31T16:34:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855\&quot;,\n    \&quot;uid\&quot;: \&quot;7a9a48d3-fd8d-4773-a612-3442fd37d523\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:15.231339Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d70e076e-351c-43f9-bb23-4111faad7ee6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MjDFpEJysA13\&quot;,\n        \&quot;username\&quot;: \&quot;user-12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.279598937Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.285878236Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.346086154Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.352328564Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556067046Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556085180Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556168956Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:15.556289632Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot;), &quot;uid&quot;: String(&quot;7a9a48d3-fd8d-4773-a612-3442fd37d523&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:15.231339Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d70e076e-351c-43f9-bb23-4111faad7ee6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MjDFpEJysA13&quot;), &quot;username&quot;: String(&quot;user-12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.279598937Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.285878236Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.346086154Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.352328564Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556067046Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556085180Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556168956Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:15.556289632Z&quot;)}]}}
[2023-01-31T16:34:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:34:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxNTQsImlhdCI6MTY3NTE4Mjg1NCwiYXV0aF90aW1lIjoxNjc1MTgyODUxLCJqdGkiOiJlNWE3M2YwMi1jZDhlLTRkOTAtYTJjMy03MzU3ZGMwMDI1ZDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlI4LXYyVkRsN0RySUdyQkx0bWxEZUEiLCJzZXNzaW9uX3N0YXRlIjoiYWIzODgyYjEtOTZmZi00ZGYwLTk2ZTctZTAzZmVjNTg5MzYxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFiMzg4MmIxLTk2ZmYtNGRmMC05NmU3LWUwM2ZlYzU4OTM2MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.IIkzsSZpEWGm53IrUam5QPIVRerp04E1SCNJb9PexTdkQBoTE6ww192-vi6cBcKUgH4-qsDFzgn2vczqQNHU-OeMbTba2H_nfLjeGNwxJOEBfU3zYy86lo3QGvTd5L0PoqwlCy2jxlAM_rz-PX2EhQ0_EGJa6Ij3P4xQIaoyc1aX7qaIomyXKyoBvwgYJOmgRTxyoqmYVJQ0BWeI-eQVty7qhpPlDCIGA9j9pXcVUIRLTsTrRw3V6riZv6ABmkIB2VTffzP4CCIQmHm2UXqmd-jAdv_gqHe0aotDWbHf6qx5doFsSXv8NcFbOf-_YIuXJKS1tmPVM1V2AtRanWpWZA\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot; &quot;device1&quot;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&#x27;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;12702cb0-d8b9-4ec9-a8bc-b53f2ea5b855&quot;
[2023-01-31T16:34:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:34:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:34:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:34:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:34:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NjIsImlhdCI6MTY3NTE4Mjg2MiwianRpIjoiMTU5ZGI5NzctZTU5My00ZWE2LWE1NTQtZGZkNWVhOGExMTg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQlV0cERSQWpZdDVjX0Exb1RFQUVYZyIsInNlc3Npb25fc3RhdGUiOiI4NDE1ZTMyYy0xN2NhLTRjOGUtYTg0NC03ZmIwYzAxZmUyYWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODQxNWUzMmMtMTdjYS00YzhlLWE4NDQtN2ZiMGMwMWZlMmFjIn0.jRLK7mrR4E0z8wHEdsyVTsbynV5lNlzOweDkcXF9kKk
[2023-01-31T16:34:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:34:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NjIsImlhdCI6MTY3NTE4Mjg2MiwianRpIjoiMTU5ZGI5NzctZTU5My00ZWE2LWE1NTQtZGZkNWVhOGExMTg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQlV0cERSQWpZdDVjX0Exb1RFQUVYZyIsInNlc3Npb25fc3RhdGUiOiI4NDE1ZTMyYy0xN2NhLTRjOGUtYTg0NC03ZmIwYzAxZmUyYWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODQxNWUzMmMtMTdjYS00YzhlLWE4NDQtN2ZiMGMwMWZlMmFjIn0.jRLK7mrR4E0z8wHEdsyVTsbynV5lNlzOweDkcXF9kKk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:34:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:23Z INFO  drogue_cloud_tests::resources::apps] Create application: b2cf267f-a58e-44bc-87af-e3f92393bb96
[2023-01-31T16:34:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot;
[2023-01-31T16:34:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;b2cf267f-a58e-44bc-87af-e3f92393bb96\&quot;,\n    \&quot;uid\&quot;: \&quot;cbf7a766-3d9a-4753-ac98-5d66c68a45c0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:23.753188Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;568e696b-b6c0-478c-ae4e-7cc70fdd76f3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.803299568Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.809515639Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.809551787Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.765317148Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.765318340Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.765340842Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.765417846Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.765500431Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot;), &quot;uid&quot;: String(&quot;cbf7a766-3d9a-4753-ac98-5d66c68a45c0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:23.753188Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;568e696b-b6c0-478c-ae4e-7cc70fdd76f3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.803299568Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.809515639Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.809551787Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.765317148Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.765318340Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.765340842Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.765417846Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.765500431Z&quot;)}]}}
[2023-01-31T16:34:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;b2cf267f-a58e-44bc-87af-e3f92393bb96\&quot;,\n    \&quot;uid\&quot;: \&quot;cbf7a766-3d9a-4753-ac98-5d66c68a45c0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:23.753188Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a9e8d016-c71d-45e5-bba0-6eea2a0c8e69\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Tbc0M5yY8RBu\&quot;,\n        \&quot;username\&quot;: \&quot;user-b2cf267f-a58e-44bc-87af-e3f92393bb96\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.803299568Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.809515639Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.884667329Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.890486767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.080843590Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.081019229Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.081054956Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.081225214Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot;), &quot;uid&quot;: String(&quot;cbf7a766-3d9a-4753-ac98-5d66c68a45c0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:23.753188Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a9e8d016-c71d-45e5-bba0-6eea2a0c8e69&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Tbc0M5yY8RBu&quot;), &quot;username&quot;: String(&quot;user-b2cf267f-a58e-44bc-87af-e3f92393bb96&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.803299568Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.809515639Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.884667329Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.890486767Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.080843590Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.081019229Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.081054956Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.081225214Z&quot;)}]}}
[2023-01-31T16:34:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;b2cf267f-a58e-44bc-87af-e3f92393bb96\&quot;,\n    \&quot;uid\&quot;: \&quot;cbf7a766-3d9a-4753-ac98-5d66c68a45c0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:23.753188Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a9e8d016-c71d-45e5-bba0-6eea2a0c8e69\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Tbc0M5yY8RBu\&quot;,\n        \&quot;username\&quot;: \&quot;user-b2cf267f-a58e-44bc-87af-e3f92393bb96\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.803299568Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.809515639Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.884667329Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:23.890486767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.080843590Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.081019229Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.081054956Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:24.081225214Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot;), &quot;uid&quot;: String(&quot;cbf7a766-3d9a-4753-ac98-5d66c68a45c0&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:23.753188Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a9e8d016-c71d-45e5-bba0-6eea2a0c8e69&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Tbc0M5yY8RBu&quot;), &quot;username&quot;: String(&quot;user-b2cf267f-a58e-44bc-87af-e3f92393bb96&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.803299568Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.809515639Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.884667329Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:23.890486767Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.080843590Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.081019229Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.081054956Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:24.081225214Z&quot;)}]}}
[2023-01-31T16:34:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:34:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxNjMsImlhdCI6MTY3NTE4Mjg2MywiYXV0aF90aW1lIjoxNjc1MTgyODYwLCJqdGkiOiI2NTBmZjNlOS01NjBkLTQwN2ItODk0NC1mMWY1NDU4ODVmMmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJVdHBEUkFqWXQ1Y19BMW9URUFFWGciLCJzZXNzaW9uX3N0YXRlIjoiODQxNWUzMmMtMTdjYS00YzhlLWE4NDQtN2ZiMGMwMWZlMmFjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg0MTVlMzJjLTE3Y2EtNGM4ZS1hODQ0LTdmYjBjMDFmZTJhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.wJwwwAJWDdE-8ybZX3cOgJHwuWcjQWLWkQc_-hsXzuBf9XlJT8528bePFZCIasGHRzLldxZ5eTQmHTqSXBKLOjXy267TVjxEUYh7-zsIprmkNyT3M6wzu2gtAZ9Id-HFjY9l_0fCGWeSx4J3j6z08xJGnzAqGEpDv5yVF0ag49vsiI0jKUcquehRRG7sL90pfJJGT8CM5ZLQ4udFVdUFiTL1TPX2bBUFENMQA-FPv1dE4w-CxhlkT9KuRGC5H77y48zdEcBBu-ktTRNk54It2zW1nDAcIN3_UBE_kfyWA_BITZVIm61KYDJ0JAJ1Z60e3gANDbBeC6RlipnHJOxxcQ\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot; &quot;device1&quot;
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;b2cf267f-a58e-44bc-87af-e3f92393bb96&#x27;
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;b2cf267f-a58e-44bc-87af-e3f92393bb96&quot;
[2023-01-31T16:34:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:34:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:34:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:34:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:34:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NzEsImlhdCI6MTY3NTE4Mjg3MSwianRpIjoiNGI3NDg1ZmItZTY4ZS00N2IwLWFjYmUtOWM4M2ZhMzcxMTk5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiU3QwelBVUldBUVYzMnJNUlpHMHZoUSIsInNlc3Npb25fc3RhdGUiOiIxNmE2NmFiNC00YmJmLTRhMzgtOGVhOC03ZWU0NTYyY2Y1ZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTZhNjZhYjQtNGJiZi00YTM4LThlYTgtN2VlNDU2MmNmNWZjIn0.ldW42ljH8o38Pvkr8fAN8wXWSmws6xvn1BzDbqijXuI
[2023-01-31T16:34:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:34:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2NzEsImlhdCI6MTY3NTE4Mjg3MSwianRpIjoiNGI3NDg1ZmItZTY4ZS00N2IwLWFjYmUtOWM4M2ZhMzcxMTk5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiU3QwelBVUldBUVYzMnJNUlpHMHZoUSIsInNlc3Npb25fc3RhdGUiOiIxNmE2NmFiNC00YmJmLTRhMzgtOGVhOC03ZWU0NTYyY2Y1ZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTZhNjZhYjQtNGJiZi00YTM4LThlYTgtN2VlNDU2MmNmNWZjIn0.ldW42ljH8o38Pvkr8fAN8wXWSmws6xvn1BzDbqijXuI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:34:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:32Z INFO  drogue_cloud_tests::resources::apps] Create application: fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5
[2023-01-31T16:34:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot;
[2023-01-31T16:34:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5\&quot;,\n    \&quot;uid\&quot;: \&quot;6f38d0aa-3725-46d6-819e-4d8d264cabac\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:32.301032Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5e5e7fe4-b223-406c-9028-fdf699dfa97a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.338411147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.342784579Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.342817021Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.314034795Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.314035557Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.314087003Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.314120656Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.314219129Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot;), &quot;uid&quot;: String(&quot;6f38d0aa-3725-46d6-819e-4d8d264cabac&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:32.301032Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5e5e7fe4-b223-406c-9028-fdf699dfa97a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.338411147Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.342784579Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.342817021Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.314034795Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.314035557Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.314087003Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.314120656Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.314219129Z&quot;)}]}}
[2023-01-31T16:34:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5\&quot;,\n    \&quot;uid\&quot;: \&quot;6f38d0aa-3725-46d6-819e-4d8d264cabac\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:32.301032Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8b5412f0-5a56-4a8a-b5df-c3f1f2cda589\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vLaYUx83rITR\&quot;,\n        \&quot;username\&quot;: \&quot;user-fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.338411147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.342784579Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.453986153Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.503934645Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719522560Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719537618Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719568315Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719616545Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot;), &quot;uid&quot;: String(&quot;6f38d0aa-3725-46d6-819e-4d8d264cabac&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:32.301032Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8b5412f0-5a56-4a8a-b5df-c3f1f2cda589&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vLaYUx83rITR&quot;), &quot;username&quot;: String(&quot;user-fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.338411147Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.342784579Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.453986153Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.503934645Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719522560Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719537618Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719568315Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719616545Z&quot;)}]}}
[2023-01-31T16:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot; &quot;-o&quot; &quot;json&quot;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5\&quot;,\n    \&quot;uid\&quot;: \&quot;6f38d0aa-3725-46d6-819e-4d8d264cabac\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2023-01-31T16:34:32.301032Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8b5412f0-5a56-4a8a-b5df-c3f1f2cda589\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vLaYUx83rITR\&quot;,\n        \&quot;username\&quot;: \&quot;user-fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.338411147Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.342784579Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.453986153Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.503934645Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719522560Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719537618Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719568315Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2023-01-31T16:34:32.719616545Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot;), &quot;uid&quot;: String(&quot;6f38d0aa-3725-46d6-819e-4d8d264cabac&quot;), &quot;creationTimestamp&quot;: String(&quot;2023-01-31T16:34:32.301032Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8b5412f0-5a56-4a8a-b5df-c3f1f2cda589&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vLaYUx83rITR&quot;), &quot;username&quot;: String(&quot;user-fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.338411147Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.342784579Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.453986153Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.503934645Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719522560Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719537618Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719568315Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2023-01-31T16:34:32.719616545Z&quot;)}]}}
[2023-01-31T16:34:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:34:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxNzEsImlhdCI6MTY3NTE4Mjg3MSwiYXV0aF90aW1lIjoxNjc1MTgyODY4LCJqdGkiOiJkYzM2NTMyMC01NjVkLTQxMDQtYTM1MC03NzE1MTZlZDZkODAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlN0MHpQVVJXQVFWMzJyTVJaRzB2aFEiLCJzZXNzaW9uX3N0YXRlIjoiMTZhNjZhYjQtNGJiZi00YTM4LThlYTgtN2VlNDU2MmNmNWZjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE2YTY2YWI0LTRiYmYtNGEzOC04ZWE4LTdlZTQ1NjJjZjVmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.jwUyS8VW5TdrJiPZ4n-Va-edZkCXSpzLW4aFnJnLN4fe18FCLmjm5EPakA1jl-QguNTLddugqGtreT-0qYua1vEO6IHBuxUzdcePncimdCtEDMwiXo8l97LPWVHZhLDoZH0ailt7q6GfC0CltwHH1LsdNgJTXuljFbQPkx2G5rOZVBLkljJapUdf1yqXzFGvS6ii983BbqzIyrPw83SU9MvzmW1bEBsifa3MUl0xBEEf7adzCcW6oHTbTUxYHp1usaKxOPTzhN9EB9G39i6L-sNb_8gKePq9SpudRoHwMOas8MgrE8gQdC42CIwa8TlIdTxpVcASmfya-AguHs565g\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot; &quot;device1&quot;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&#x27;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fc52a39d-4ee8-4c3f-94b9-0b9df209bfc5&quot;
[2023-01-31T16:34:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::registry::api::test_registry_create_app

**Duration**: 16s

<details>

<summary>Test output</summary>

<pre>
[2023-01-31T16:34:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:34:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:34:38Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-goto/8.png
[2023-01-31T16:34:39Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-goto/9.png
[2023-01-31T16:34:40Z DEBUG drogue_cloud_tests::init::access_token] Got button (Element { client: Client { tx: UnboundedSender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x56030b65b370, tail_position: 25 }, semaphore: 0, rx_waker: AtomicWaker, tx_count: 3, rx_fields: &quot;...&quot; } } }, is_legacy: false }, element: WebElement(&quot;e7e30cef-5167-4a0b-ba44-c2bd89743932&quot;) }), clicking it ...
[2023-01-31T16:34:40Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click/10.png
[2023-01-31T16:34:45Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click-2/11.png
[2023-01-31T16:34:45Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-click/12.png
[2023-01-31T16:34:45Z DEBUG drogue_cloud_tests::init::access_token] Got button (Element { client: Client { tx: UnboundedSender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x56030b65b370, tail_position: 30 }, semaphore: 0, rx_waker: AtomicWaker, tx_count: 4, rx_fields: &quot;...&quot; } } }, is_legacy: false }, element: WebElement(&quot;3b927c3f-b712-4a43-af5e-9a382e147d10&quot;) }), clicking it ...
[2023-01-31T16:34:45Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click-confirm/13.png
[2023-01-31T16:34:45Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-click-confirm/14.png
[2023-01-31T16:34:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:34:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:34:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:34:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:34:47Z INFO  drogue_cloud_tests::init::login] Still had a session
[2023-01-31T16:34:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:34:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:34:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2ODksImlhdCI6MTY3NTE4Mjg4OSwianRpIjoiZjNmY2VlZmQtNThiOS00MWYwLWE5ZjYtMDg0OTk0Mzg5ZDAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMC03ekw2MFZpeDBBd0hwcU9BX3RMUSIsInNlc3Npb25fc3RhdGUiOiI3MDY1ZWRiMS0wZmE3LTQ3OGItOWE5YS05YjIzN2ZiNTMzZDkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzA2NWVkYjEtMGZhNy00NzhiLTlhOWEtOWIyMzdmYjUzM2Q5In0.vR3ljsrs32KxR_aSMVczVFhtgL5hCReSksArG0k1ar8
[2023-01-31T16:34:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:34:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ2ODksImlhdCI6MTY3NTE4Mjg4OSwianRpIjoiZjNmY2VlZmQtNThiOS00MWYwLWE5ZjYtMDg0OTk0Mzg5ZDAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMC03ekw2MFZpeDBBd0hwcU9BX3RMUSIsInNlc3Npb25fc3RhdGUiOiI3MDY1ZWRiMS0wZmE3LTQ3OGItOWE5YS05YjIzN2ZiNTMzZDkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzA2NWVkYjEtMGZhNy00NzhiLTlhOWEtOWIyMzdmYjUzM2Q5In0.vR3ljsrs32KxR_aSMVczVFhtgL5hCReSksArG0k1ar8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:34:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:34:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMxODksImlhdCI6MTY3NTE4Mjg4OSwiYXV0aF90aW1lIjoxNjc1MTgyODc3LCJqdGkiOiJhMDg2OGNhZC1mYjZkLTRlYmEtYjQzOS0zODgxN2U1YWE5NjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjAtN3pMNjBWaXgwQXdIcHFPQV90TFEiLCJzZXNzaW9uX3N0YXRlIjoiNzA2NWVkYjEtMGZhNy00NzhiLTlhOWEtOWIyMzdmYjUzM2Q5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcwNjVlZGIxLTBmYTctNDc4Yi05YTlhLTliMjM3ZmI1MzNkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HKnBLD8bcqx4nUocNOWssY5oFmE6t3XdD0CF_4DsXGRbX36m5E5mLLidxr1LWVRn6jY1-hbjeK3dlbZPYfxxSRFyOa9u0lYRHn3fJmA5fBMsoXvnHKD-zUqnp7WuAT77B8vKY2Fq9jZSoYsRdJlBivk5CBBl0ppkB99ZcPVPIb24cau0BcqN6r8YWwi_gMXC8UHCUx17q4IK0L8cXOFnLkVDf8aIdLYQ8xPcPrzZ4Ucrzwb8oj2b8yq9R7o6eZb6T2jk9fXLeT4vWSDK_D9Ncwt9zxeOUWwZEx-LO854gcBNzgmLZeVk0grCDr-8Q5c5-Hd-28wpqDzIGlrjyEgumg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:34:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: Get registry client

Caused by:
    0: error decoding response body: EOF while parsing a value at line 1 column 0
    1: EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ✅ tests::registry::drg::test_registry_create_and_delete

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_twice

**Duration**: 9s

## ✅ tests::registry::drg::test_registry_device_create_and_delete

**Duration**: 8s

## ❌ tests::websocket::telemetry::test_send_telemetry_pass

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:35:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:35:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:35:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:35:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:35:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:35:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:35:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:35:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:35:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NDgsImlhdCI6MTY3NTE4Mjk0OCwianRpIjoiYzZhZmExNjctYTJmMy00OWI2LTk0NmUtM2M5YzVlNDEyOGQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSzZnQlJLTW1lZHlIaXBFbTdkNWR2USIsInNlc3Npb25fc3RhdGUiOiI0NmE3YTg0OS1lZDEwLTRhZTktOTA4Ni01YmUzMTg0MzhjZTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDZhN2E4NDktZWQxMC00YWU5LTkwODYtNWJlMzE4NDM4Y2UwIn0.KENAd0LyMuNrmiGbmMH-HLzVlFPhB5J8VZ-GzBSFR1E
[2023-01-31T16:35:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:35:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:35:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NDgsImlhdCI6MTY3NTE4Mjk0OCwianRpIjoiYzZhZmExNjctYTJmMy00OWI2LTk0NmUtM2M5YzVlNDEyOGQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSzZnQlJLTW1lZHlIaXBFbTdkNWR2USIsInNlc3Npb25fc3RhdGUiOiI0NmE3YTg0OS1lZDEwLTRhZTktOTA4Ni01YmUzMTg0MzhjZTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDZhN2E4NDktZWQxMC00YWU5LTkwODYtNWJlMzE4NDM4Y2UwIn0.KENAd0LyMuNrmiGbmMH-HLzVlFPhB5J8VZ-GzBSFR1E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:35:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:35:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:35:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:35:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:35:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMyNDgsImlhdCI6MTY3NTE4Mjk0OCwiYXV0aF90aW1lIjoxNjc1MTgyOTQ1LCJqdGkiOiJhMDc1Mjc5Zi0xNDg2LTQxM2UtOGI4NS0yNGJlYTdmNGU2MDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Iks2Z0JSS01tZWR5SGlwRW03ZDVkdlEiLCJzZXNzaW9uX3N0YXRlIjoiNDZhN2E4NDktZWQxMC00YWU5LTkwODYtNWJlMzE4NDM4Y2UwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ2YTdhODQ5LWVkMTAtNGFlOS05MDg2LTViZTMxODQzOGNlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.CXXTKp_4qsqW0ougEiacp8UtnOUV1vOrwOjKJ0CnT3QDBVJ1CcdlZH11BN_ChrAccjj7UbbNbitsJGC_7dD0AZhO-7snOFr7P4dB8yts-Bk-r6q-sondYEKyM9Q7Yq-WfpVomVDKAPQL0Bcw4oumO_Xt14H0Y9GOoFd8fNNSlVRg4j8k3fASZCVpHl1l-eWKO96uOSGGv99iNjDkwxczlQyIK_H77uJ2F3uAxcThT8ScCX8RUkh859v82IGJCxKvgWhGSPYEOiBPcguPwVOGPW8tOJMsdYd0XJW4wHWUGFpSjB2mmmKkzXQrJ9oSVtFCKm9w_N_5ReycCSzQAR6kcg\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:35:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:35:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:35:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:35:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:35:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:35:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:35:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:35:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:35:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:35:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NTUsImlhdCI6MTY3NTE4Mjk1NSwianRpIjoiZGY0MWU5MmQtYWI3ZS00MTQ5LTg4NDgtZmFlZDNmNzJjNzg4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidUpPTzNzVjlfcmRvTWdxc3NjRmdBUSIsInNlc3Npb25fc3RhdGUiOiJjMDFmMWRmMy0xNzcxLTQ4OTAtOTNiZC1mNzIwMDU3MTU4OWQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzAxZjFkZjMtMTc3MS00ODkwLTkzYmQtZjcyMDA1NzE1ODlkIn0.xTk9xDxTuYXO4YgxJ2qt8G1SlFgpHV8GtAEYBOb9CFE
[2023-01-31T16:35:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:35:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:35:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NTUsImlhdCI6MTY3NTE4Mjk1NSwianRpIjoiZGY0MWU5MmQtYWI3ZS00MTQ5LTg4NDgtZmFlZDNmNzJjNzg4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidUpPTzNzVjlfcmRvTWdxc3NjRmdBUSIsInNlc3Npb25fc3RhdGUiOiJjMDFmMWRmMy0xNzcxLTQ4OTAtOTNiZC1mNzIwMDU3MTU4OWQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzAxZjFkZjMtMTc3MS00ODkwLTkzYmQtZjcyMDA1NzE1ODlkIn0.xTk9xDxTuYXO4YgxJ2qt8G1SlFgpHV8GtAEYBOb9CFE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:35:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:35:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:35:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:35:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:35:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMyNTUsImlhdCI6MTY3NTE4Mjk1NSwiYXV0aF90aW1lIjoxNjc1MTgyOTUyLCJqdGkiOiI0ZGZhMmI3Yi04MzNhLTRmMDAtODJkZS0yMjI5MTcyMjEyMzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVKT08zc1Y5X3Jkb01ncXNzY0ZnQVEiLCJzZXNzaW9uX3N0YXRlIjoiYzAxZjFkZjMtMTc3MS00ODkwLTkzYmQtZjcyMDA1NzE1ODlkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImMwMWYxZGYzLTE3NzEtNDg5MC05M2JkLWY3MjAwNTcxNTg5ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.AuPzZhuzaiokWCDVUeUuWeCe-Pzq3gkSLAn2pIDJNLfptc0lI5rR4vYHwIwesHG1mX-a0OPECso9-PE15SJYB5MVHTvllUBK9ljLs8K4X-ge702QyY1xGsZ_GCNaCeWxmdbb8UfbU0CUCioKW3OoBzsu4m4od9W3TQ7DHp-fvsbsHeVrKCsoGEb5cl-XIH4LA38UVykAs6_nTUhXYlRk92kLbjqnQDAjDqUrmgSguWOyk_1f0Fz9qhphYPBGsn7xu31BSs5TyDR3VV2cHJWeScl_mW8iymf5bg5VY2mIx-HocARtGj77m2xe7mFjdd9UH2mwro-AxvOCvkogVaBJ1Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:35:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_alias

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:35:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:35:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:35:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:35:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:35:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:36:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:36:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:36:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:36:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NjIsImlhdCI6MTY3NTE4Mjk2MiwianRpIjoiNWVhOWE3MTQtMWExOS00YzA2LWIzNzYtOGM4NGI0N2I3NjYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVVhVMG1Qbng0ZzUyWjZtWnk0MzRjQSIsInNlc3Npb25fc3RhdGUiOiI5YmZhYTRlOS02ZTk3LTQ2NTktYjM2OC0xOGIyOWI2OTBkMmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWJmYWE0ZTktNmU5Ny00NjU5LWIzNjgtMThiMjliNjkwZDJlIn0.EzUVNHeNS7juVej2-HB5GMIORtb8J6oDpVsQVLhXoTQ
[2023-01-31T16:36:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:36:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:36:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NjIsImlhdCI6MTY3NTE4Mjk2MiwianRpIjoiNWVhOWE3MTQtMWExOS00YzA2LWIzNzYtOGM4NGI0N2I3NjYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVVhVMG1Qbng0ZzUyWjZtWnk0MzRjQSIsInNlc3Npb25fc3RhdGUiOiI5YmZhYTRlOS02ZTk3LTQ2NTktYjM2OC0xOGIyOWI2OTBkMmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWJmYWE0ZTktNmU5Ny00NjU5LWIzNjgtMThiMjliNjkwZDJlIn0.EzUVNHeNS7juVej2-HB5GMIORtb8J6oDpVsQVLhXoTQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:36:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:36:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:36:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:36:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:36:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMyNjMsImlhdCI6MTY3NTE4Mjk2MywiYXV0aF90aW1lIjoxNjc1MTgyOTU5LCJqdGkiOiI2YTk5MTk2ZC05NGQwLTQxYjktYmVmMC1kZDg1MWJjYWEwYTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVYVTBtUG54NGc1Mlo2bVp5NDM0Y0EiLCJzZXNzaW9uX3N0YXRlIjoiOWJmYWE0ZTktNmU5Ny00NjU5LWIzNjgtMThiMjliNjkwZDJlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjliZmFhNGU5LTZlOTctNDY1OS1iMzY4LTE4YjI5YjY5MGQyZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.OtiZtH1tOnK0nKUY_mGDNarjUly45dXYHV8z1EiMA_HiAtdjVmq1v-DWmjibloQMqPUzOGgAdZmhdoGhDfSfOCIL1FxyLahel886a7vtUWhByVY7i38bom8xZkupoU_s0qdKpOpb3FD_kZluo6gQIRUiSyBHV7Kn078sP4mDtjmhYTMshQi6x8Y_LD4gJIUmBWn7DMcq4mx4BYSJGqEpY70BaNmGKYvmHAk8TzMB9CB-aw_tSXCNKM3-RGVTAgWLUgFpXH8xK3dIk0Ufmu4pQSxMFSt_66MRMGINUc7xzTGRbXngl51NRrHq73SgQ1K3vInreJLDZs74GGFyKWK-Sw\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:36:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_only

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2023-01-31T16:36:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2023-01-31T16:36:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:36:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:36:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:36:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2023-01-31T16:36:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2023-01-31T16:36:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2023-01-31T16:36:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2023-01-31T16:36:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NzAsImlhdCI6MTY3NTE4Mjk3MCwianRpIjoiYTNmMDQyYWItMGRjMC00M2VhLTgyYTMtMmI3Y2Q0ZDZmNDJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVkJqdnVVd2ZYNk9Dd29nbWNqSmlCUSIsInNlc3Npb25fc3RhdGUiOiJmNzRhMWFlNS1mMTFjLTRhNmUtYjc2ZC01MDdhMDA0ODQ3YTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjc0YTFhZTUtZjExYy00YTZlLWI3NmQtNTA3YTAwNDg0N2EzIn0.seL9q7YXJ5vztmVNVOZ0IztLn8j6CoDBIjA0z4WaVxI
[2023-01-31T16:36:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2023-01-31T16:36:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:36:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjN2FlMjZmNi1mYzEzLTQ0NmMtOGNiOC1iZjU5MDc5ODA3NmMifQ.eyJleHAiOjE2NzUxODQ3NzAsImlhdCI6MTY3NTE4Mjk3MCwianRpIjoiYTNmMDQyYWItMGRjMC00M2VhLTgyYTMtMmI3Y2Q0ZDZmNDJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiNDNmOGI3ZjgtNjYwZC00MGVkLThiMGYtOTZiNGU5NzUzNjc3IiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVkJqdnVVd2ZYNk9Dd29nbWNqSmlCUSIsInNlc3Npb25fc3RhdGUiOiJmNzRhMWFlNS1mMTFjLTRhNmUtYjc2ZC01MDdhMDA0ODQ3YTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjc0YTFhZTUtZjExYy00YTZlLWI3NmQtNTA3YTAwNDg0N2EzIn0.seL9q7YXJ5vztmVNVOZ0IztLn8j6CoDBIjA0z4WaVxI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2023-01-31T16:36:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:36:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2023-01-31T16:36:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2023-01-31T16:36:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2023-01-31T16:36:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyYkNkOVZfVlJYOXdxRTQ3c1JuOHFtZnUyLWJORkRLRHBPTnZuazBLcDdvIn0.eyJleHAiOjE2NzUxODMyNzAsImlhdCI6MTY3NTE4Mjk3MCwiYXV0aF90aW1lIjoxNjc1MTgyOTY3LCJqdGkiOiJkMjlkMmZiNC1mM2I3LTQ2NmQtYjAwZC0zZTJkZTdjZDk0ZWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiI0M2Y4YjdmOC02NjBkLTQwZWQtOGIwZi05NmI0ZTk3NTM2NzciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZCanZ1VXdmWDZPQ3dvZ21jakppQlEiLCJzZXNzaW9uX3N0YXRlIjoiZjc0YTFhZTUtZjExYy00YTZlLWI3NmQtNTA3YTAwNDg0N2EzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3NGExYWU1LWYxMWMtNGE2ZS1iNzZkLTUwN2EwMDQ4NDdhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.IldZWJsrgvfjdQICsSvR6CxTlt0WNgxeiqndBF1l4mVQBplGQYgVvD8tKFvmKzQkTbvFBUBp_IOeEwdSWu9zKHQyokn9nt4ussZxwxHVWayqaKF55majmFXjwx1izfwnKJ1OQVZKYflT46RiwKBFnuvy6IeykMycDujZAkQ3OL3uCHEyUVi9VTMiQT93t46zzRjic69tuhwDcgon7ks7oxNcFPurfCUgwioln9HjrQrr9PWmGwKUoK_rtEm3L1MDHdMkaMG4N0AaeP0wtF6GD43XJLx3gep_OKqC4PkauyBeCJJ-lEXgTQc1TCHOghGk4CNyQgpb9cFHY8RVHYLM4Q\n&quot;, stderr: &quot;&quot; })
[2023-01-31T16:36:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>
